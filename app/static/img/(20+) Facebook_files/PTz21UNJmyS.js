if (self.CavalryLogger) { CavalryLogger.start_js(["yU9fn"]); }

__d("FBRTCMessageType",[],function(a,b,c,d,e,f){e.exports={JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26}},null);
__d("XCometCreateAdControllerRouteBuilder",["cometRouteBuilder"],function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/ads/create/",Object.freeze({}),void 0);e.exports=a},null);
__d("XCometPrivacyCheckupControllerRouteBuilder",["cometRouteBuilder"],function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/privacy/checkup/",Object.freeze({source:"unknown"}),void 0);e.exports=a},null);
__d("XLogoutControllerRouteBuilder",["cometRouteBuilder"],function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/logout.php",Object.freeze({}),void 0);e.exports=a},null);
__d("XSISketchResultsControllerRouteBuilder",["cometRouteBuilder"],function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/sketch_results/",Object.freeze({}),void 0);e.exports=a},null);
__d("XUpdateTimezoneControllerRouteBuilder",["cometExtraRouteBuilder"],function(a,b,c,d,e,f){a=b("cometExtraRouteBuilder")("/ajax/autoset_timezone_ajax/",Object.freeze({is_forced:!1}),["/ajax/autoset_timezone_ajax.php","/ajax/timezone/update/","/ajax/timezone/update.php"],void 0);e.exports=a},null);
__d("CometTimezoneUpdaterQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"ServerTimeData",kind:"LinkedField",name:"server_time_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"server_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"server_gmt_offset",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometTimezoneUpdaterQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometTimezoneUpdaterQuery",selections:a},params:{id:"2803922509697191",metadata:{relayPreloadable:!0},name:"CometTimezoneUpdaterQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("CometLoggedInAccountSwitcherPopoverMenuQuery$Parameters",[],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2641526332535377",metadata:{relayPreloadable:!0},name:"CometLoggedInAccountSwitcherPopoverMenuQuery",operationKind:"query",text:null}};e.exports=a},null);
__d("CometLoggedInAccountSwitcher_query.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcher_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRow_account"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRowWithUpdateText_account"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRow_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherRowWithUpdateText_query"}],type:"Query",abstractKey:null};e.exports=a},null);
__d("CometProfileSwitcher_query.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={alias:null,args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometProfileSwitcher_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_open_express_onboarding",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[a,b,c,d],storageKey:null}],storageKey:null}],storageKey:null},a,b,c,d,{alias:null,args:null,kind:"ScalarField",name:"is_failing_page_publishing_authorization",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useProfileCometSwitcherCleanUpOnSwap_query"}],type:"Query",abstractKey:null}}();e.exports=a},null);
__d("CometSettingsDropdownHeader_viewer.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometSettingsDropdownHeader_viewer",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_use_page_rename",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a},null);
__d("CometSettingsDropdownListQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"inProfileSwitcherExperiment"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c=[{kind:"Literal",name:"first",value:1}],d={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},f=[{kind:"Literal",name:"height",value:36},e,{kind:"Literal",name:"width",value:36}],g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},k=[g,h,i,j],l={alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o=[{kind:"Literal",name:"height",value:60},e,{kind:"Literal",name:"width",value:60}],p={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},r={alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[l,p],storageKey:null}],storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null};e=[{kind:"Literal",name:"height",value:40},e,{kind:"Literal",name:"width",value:40}];var t={alias:null,args:e,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null},v={alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountFormField",kind:"LinkedField",name:"inputs",plural:!0,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometSettingsDropdownListQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"inProfileSwitcherExperiment",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"profileSwitcherEligibleProfiles",args:c,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[d,{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[l],storageKey:null}],storageKey:null}],storageKey:"profile_switcher_eligible_profiles(first:1)"}],type:"User",abstractKey:null}],storageKey:null}]},{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownHeader_viewer"},{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownSettingsAndPrivacy_viewer"},{args:null,kind:"FragmentSpread",name:"CometSettingsDropdownInternationalization_viewer"}],storageKey:null},m,{args:null,kind:"FragmentSpread",name:"useCometSettingsLogoutForm_query"},{args:null,kind:"FragmentSpread",name:"useCometCombinedProfileAccountSwitcherListCell_query"},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherListCell_query"},{condition:"inProfileSwitcherExperiment",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometProfileSwitcher_query"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometSettingsDropdownListQuery",selections:[m,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[n,{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_use_page_rename",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},q],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_account_level_settings",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PolyglotUserProgress",kind:"LinkedField",name:"polyglot_user_progress",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_mode",storageKey:null},p],storageKey:null},{alias:"first_profile",args:c,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[r],storageKey:"profile_switcher_eligible_profiles(first:1)"},{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[d,{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[s,p,n,t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_open_express_onboarding",storageKey:null}],storageKey:null}],storageKey:null},n,t,s,{alias:null,args:null,kind:"ScalarField",name:"is_failing_page_publishing_authorization",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[u,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[p,q,n,{alias:null,args:o,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},{alias:"switcher_profile_picture",args:e,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonce",storageKey:null},v],storageKey:null},{alias:"first_account",args:c,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[u,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[p,n,{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[j,i,h,g],storageKey:null}],storageKey:null},v],storageKey:"device_switchable_accounts(first:1)"},{alias:null,args:null,kind:"ScalarField",name:"device_switchable_account_has_notification",storageKey:null},{condition:"inProfileSwitcherExperiment",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"profileSwitcherEligibleProfiles",args:c,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[d,r],storageKey:"profile_switcher_eligible_profiles(first:1)"}],type:"User",abstractKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"3042711919147583",metadata:{relayPreloadable:!0},name:"CometSettingsDropdownListQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("CometSettingsDropdownQuickHelpQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSettingsDropdownQuickHelpQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometSettingsDropdownQuickHelpQuery",selections:a},params:{id:"2775132975915116",metadata:{relayPreloadable:!0},name:"CometSettingsDropdownQuickHelpQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("CometSettingsDropdownSettingsAndPrivacy_viewer.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSettingsDropdownSettingsAndPrivacy_viewer",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_account_level_settings",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a},null);
__d("CometLoggedInAccountSwitcherAccountForm_form.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherAccountForm_form",selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountFormField",kind:"LinkedField",name:"inputs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"LoggedInAccountSwitcherAccountForm",abstractKey:null};e.exports=a},null);
__d("CometLoggedInAccountSwitcherRemoveAccountMutation.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"},{defaultValue:null,kind:"LocalArgument",name:"nonce"}],b=[{alias:null,args:[{kind:"Variable",name:"account_id",variableName:"id"},{kind:"Variable",name:"nonce",variableName:"nonce"}],concreteType:"RemoveAccountFromLoggedInAccountSwitcherResponsePayload",kind:"LinkedField",name:"remove_account_from_logged_in_account_switcher",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRemoveAccountMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometLoggedInAccountSwitcherRemoveAccountMutation",selections:b},params:{id:"2760827663935516",metadata:{},name:"CometLoggedInAccountSwitcherRemoveAccountMutation",operationKind:"mutation",text:null}}}();e.exports=a},null);
__d("CometLoggedInAccountSwitcherRow_account.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRow_account",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherAccountForm_form"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherRemoveAccount_account"}],type:"LoggedInAccountSwitcherAccount",abstractKey:null};e.exports=a},null);
__d("CometLoggedInAccountSwitcherRow_query.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRow_query",selections:[{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"}],type:"Query",abstractKey:null};e.exports=a},null);
__d("useCometLoggedInAccountSwitcherListCell_query.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometLoggedInAccountSwitcherListCell_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"first_account",args:[{kind:"Literal",name:"first",value:1}],concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[a,{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherAccountForm_form"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"device_switchable_accounts(first:1)"},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_switchable_account_has_notification",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcher_query"}],type:"Query",abstractKey:null}}();e.exports=a},null);
__d("CometLoggedInAccountSwitcherRowWithUpdateText_account.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRowWithUpdateText_account",selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccountForm",kind:"LinkedField",name:"form",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcherAccountForm_form"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"switcher_profile_picture",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherRemoveAccount_account"}],type:"LoggedInAccountSwitcherAccount",abstractKey:null};e.exports=a},null);
__d("CometLoggedInAccountSwitcherRowWithUpdateText_query.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLoggedInAccountSwitcherRowWithUpdateText_query",selections:[{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherSubmitForm_query"}],type:"Query",abstractKey:null};e.exports=a},null);
__d("CometProfileAndAccountSwitcher_query.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c={kind:"Variable",name:"scale",variableName:"scale"},d={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},h={alias:null,args:[{kind:"Literal",name:"height",value:40},c,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[d,e,f,g],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometProfileAndAccountSwitcher_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_open_express_onboarding",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[a,b,h,i],storageKey:null}],storageKey:null}],storageKey:null},a,b,h,i,{alias:null,args:null,kind:"ScalarField",name:"is_failing_page_publishing_authorization",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:"first_account",args:[{kind:"Literal",name:"first",value:1}],concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[j,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:36},c,{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[g,f,e,d],storageKey:null}],storageKey:null}],storageKey:"device_switchable_accounts(first:1)"},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[j],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useProfileCometSwitcherCleanUpOnSwap_query"},{args:null,kind:"FragmentSpread",name:"CometLoggedInAccountSwitcher_query"}],type:"Query",abstractKey:null}}();e.exports=a},null);
__d("useCometCombinedProfileAccountSwitcherListCell_query.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"useCometCombinedProfileAccountSwitcherListCell_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:"first_profile",args:[{kind:"Literal",name:"first",value:1}],concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"profile_switcher_eligible_profiles(first:1)"},{alias:null,args:null,concreteType:"UserProfileSwitcherEligibleProfilesConnection",kind:"LinkedField",name:"profile_switcher_eligible_profiles",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"ProfileSwitcherEligibleProfile",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"unseen_update_count",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LoggedInAccountSwitcherAccount",kind:"LinkedField",name:"device_switchable_accounts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_notification_count",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometProfileAndAccountSwitcher_query"},{args:null,kind:"FragmentSpread",name:"CometProfileSwitcher_query"},{args:null,kind:"FragmentSpread",name:"useCometLoggedInAccountSwitcherListCell_query"}],type:"Query",abstractKey:null};e.exports=a},null);
__d("useCometSettingsLogoutForm_query.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometSettingsLogoutForm_query",selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a},null);
__d("CometHomeCreateMenuQuery.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"should_use_page_rename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"can_create_page",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometHomeCreateMenuQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null},b],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometHomeCreateMenuQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b],storageKey:null}]},params:{id:"3208806349140749",metadata:{},name:"CometHomeCreateMenuQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("CometSetupNotificationStoreSubscriptionNewNotificationQuery.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},g={kind:"InlineFragment",selections:[c],type:"Node",abstractKey:"__isNode"},h={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},i={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},j={kind:"Literal",name:"height",value:56},k={kind:"Variable",name:"scale",variableName:"scale"},l={kind:"Literal",name:"width",value:56},m=[f];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometSetupNotificationStoreSubscriptionNewNotificationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometSetupNotificationStoreSubscriptionNewNotification_data"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometSetupNotificationStoreSubscriptionNewNotificationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[b,c,{kind:"TypeDiscriminator",abstractKey:"__isActor"}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"new_notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},c,{alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[b,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[b,{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemLiveVideoAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"LiveVideoNotificationAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[d,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[d,e,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[b,{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null},g],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[b,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},h,{kind:"InlineFragment",selections:[c,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[i,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},g],storageKey:null},d,e],storageKey:null}],storageKey:null},{alias:null,args:[j,k,l],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:m,storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"www_url_should_open_in_blank_target",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:1},j,k,l],concreteType:"Image",kind:"LinkedField",name:"preview_images",plural:!0,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null}],storageKey:null}]}],storageKey:null}]},params:{id:"3324549667560004",metadata:{},name:"CometSetupNotificationStoreSubscriptionNewNotificationQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("CometSetupNotificationStoreSubscriptionNewNotification_data.graphql",[],function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSetupNotificationStoreSubscriptionNewNotification_data",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"new_notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometToastNotification_notification"}],storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a},null);
__d("CometProfilePlusExpressOnboardingDialogQuery$Parameters",[],function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3016398475095537",metadata:{relayPreloadable:!0},name:"CometProfilePlusExpressOnboardingDialogQuery",operationKind:"query",text:null}};e.exports=a},null);
__d("PresenceStatusProviderSubscriptionComponentQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"buddy_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PresenceStatusProviderSubscriptionComponentQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatSidebarRankedContact",kind:"LinkedField",name:"chat_sidebar_contact_rankings",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"PresenceStatusProviderSubscription_rankings",selections:[b,c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null}]}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PresenceStatusProviderSubscriptionComponentQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ChatSidebarRankedContact",kind:"LinkedField",name:"chat_sidebar_contact_rankings",plural:!0,selections:[b,c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3061548450534867",metadata:{relayPreloadable:!0},name:"PresenceStatusProviderSubscriptionComponentQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("PresenceStatusProviderSubscription_ContactProfilesQuery.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"ids"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"ids",variableName:"ids"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PresenceStatusProviderSubscription_ContactProfilesQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PresenceStatusProviderSubscription_ContactProfilesQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,d],storageKey:null}]},params:{id:"3164765546918963",metadata:{},name:"PresenceStatusProviderSubscription_ContactProfilesQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery.graphql",[],function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"has_converted_to_view_side_settings",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[a,{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2607318959337318",metadata:{},name:"PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery",operationKind:"query",text:null}}}();e.exports=a},null);
__d("PresenceStatusProviderSubscription_rankings.graphql",[],function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"PresenceStatusProviderSubscription_rankings"};e.exports=a},null);
__d("RTWebCallBlockSettingHooksQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RTWebCallBlockSettingHooksQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"RTWebCallBlockSettingHooksQuery",selections:a},params:{id:"2591667614255718",metadata:{relayPreloadable:!0},name:"RTWebCallBlockSettingHooksQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("CometJSSemPixelsContainerQuery.graphql",["relay-runtime"],function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SEMUniversalPixel",kind:"LinkedField",name:"sem_universal_pixels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometJSSemPixelsContainerQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometJSSemPixelsContainerQuery",selections:a},params:{id:"2199948706781337",metadata:{relayPreloadable:!0},name:"CometJSSemPixelsContainerQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a},null);
__d("getBrowserGMTOffsetAdjustedForSkew",["DateConsts","FBLogger"],function(a,b,c,d,e,f){"use strict";var g=(c=b("DateConsts")).HOUR_PER_DAY,h=c.MIN_PER_HOUR,i=c.MS_PER_SEC,j=c.SEC_PER_MIN;function a(a){var c=h*g,d=new Date(),e=d.getTimezoneOffset();d=d.getTime()/i;var f=15;a=a-d;d=Math.round(a/(f*j))*f;d!=0&&b("FBLogger")("TimezoneAutoset").warn("Adjusting timezone offset for clock skew. Browser offset: %s. Raw skew %s. Rounded skew %s",e,a,d);f=Math.round(e+d)%c;f>12*h?f-=c:f<-14*h&&(f+=c);return f}e.exports=a},null);
__d("getBrowserTimezone",["FBLogger"],function(a,b,c,d,e,f){"use strict";function a(){try{var a;a=((a=window.Intl)==null?void 0:a.DateTimeFormat)&&Intl.DateTimeFormat();a=(a==null?void 0:a.resolvedOptions)&&a.resolvedOptions();return a==null?void 0:a.timeZone}catch(a){b("FBLogger")("TimezoneAutoset").catching(a).warn("Could not read IANA timezone from browser");return null}}e.exports=a},null);
__d("CometTimezoneUpdater.react",["CometRelay","React","XUpdateTimezoneControllerRouteBuilder","cometAsyncFetch","getBrowserGMTOffsetAdjustedForSkew","getBrowserTimezone","killswitch","CometTimezoneUpdaterQuery.graphql"],function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery;c=b("React");var i=c.useEffect;function a(){var a=h(g!==void 0?g:g=b("CometTimezoneUpdaterQuery.graphql"),{});i(function(){if(a!=null&&a.server_time_data!=null){var c=a.server_time_data,d=c.force_update,e=c.server_gmt_offset,f=c.server_time;c=c.timezone;if(f==null||e==null)return;f=-b("getBrowserGMTOffsetAdjustedForSkew")(f);var g=b("killswitch")("TIMEZONE_SET_IANA_ZONE_NAME")?null:b("getBrowserTimezone")();(d===!0||f!==e||g!=null&&g!==c)&&b("cometAsyncFetch")(b("XUpdateTimezoneControllerRouteBuilder").buildExtraURL("/ajax/timezone/update.php",{}),{data:{gmt_off:f,is_forced:d,tz:g},method:"POST"})}},[]);return null}e.exports=a},null);
__d("CometLoggedInAccountSwitcherAccountForm.react",["CometRelay","React","CometLoggedInAccountSwitcherAccountForm_form.graphql"],function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c=h(g!==void 0?g:g=b("CometLoggedInAccountSwitcherAccountForm_form.graphql"),a.form),d=c.action;c=c.inputs;return i.jsx("form",{action:d,method:"POST",ref:a.formRef,children:c.map(function(a){var b=a.name;a=a.value;return i.jsx("input",{name:b,type:"hidden",value:a},b)})})}e.exports=a},null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};e.exports=a},null);
__d("StringTransformations",[],function(a,b,c,d,e,f){e.exports={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt().toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}}},null);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageMonsterLoggingURI","ifRequired","isEmpty","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f){var g,h,i=3e5,j=!1;function k(a){var c={};for(var d in a){var e=a.getItem(d),f=b("StringTransformations").unicodeEscape(d);typeof e==="string"&&(c[f]=e.length)}return c}function l(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(!c||!a.keys)return;o._getLocalStorageKeys().forEach(function(b){a.keys.includes(b)&&c.removeItem(b)})}function m(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&o._getLocalStorageKeys().forEach(function(b){a.some(function(a){return new RegExp(a).test(b)})||c.removeItem(b)})}function n(a){a===void 0&&(a=!1),b("UserActivity").isActive(i)?b("setTimeoutAcrossTransitions")(function(){n(a)},i):o.cleanNow(a)}var o={registerLogoutForm:function(a,c){b("Event").listen(a,"submit",function(a){o.cleanOnLogout(c)})},schedule:function(a){a===void 0&&(a=!1);if(j)return;j=!0;n(a)},cleanNow:function(a){a===void 0&&(a=!1);var c=Date.now(),d={},e=(g||(g=b("WebStorage"))).getLocalStorage();e&&(d.local_storage=k(e));e=g.getSessionStorage();e&&(d.session_storage=k(e));e=!(h||(h=b("isEmpty")))(d);var f=Date.now();d.logtime=f-c;if(e){var i,j=b("WebStorageMonsterLoggingURI").uri;if(j===null)return null;var m=function(){new(b("AsyncRequest"))(j).setData(d).setHandler(function(c){c=c.getPayload();c.keys&&(c.keys=c.keys.map(b("StringTransformations").unicodeUnescape));a||l(c);b("NetworkStatus").reportSuccess()}).setErrorHandler(function(){b("NetworkStatus").reportError()}).setOption("retries",2).send()};if(b("NetworkStatus").isOnline())m();else{f=function(a){a=a.online;a&&(m(),i.remove())};i=b("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a){b("CacheStorage").disablePersistentWrites();b("ifRequired")("AsyncStorage",function(a){a.disablePersistentWrites()});a&&m(a);a=(g||(g=b("WebStorage"))).getSessionStorage();a&&a.clear();b("ifRequired")("AsyncStorage",function(a){a.clear(function(){})})},_getLocalStorageKeys:function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();return a?Object.keys(a):[]}};e.exports=o},null);
__d("CometLoggedInAccountSwitcherRow.react",["ix","fbt","CometLoggedInAccountSwitcherAccountForm.react","CometRelay","React","TetraListCell.react","WebPixelRatio","fbicon","recoverableViolation","useCometLoggedInAccountSwitcherRemoveAccount","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","CometLoggedInAccountSwitcherRow_query.graphql","CometLoggedInAccountSwitcherRow_account.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i,j;b("CometRelay").graphql;var k=b("CometRelay").useFragment,l=b("React");a=b("React");var m=a.useRef;e.exports=function(a){var c=k(i!==void 0?i:i=b("CometLoggedInAccountSwitcherRow_query.graphql"),a.query);a=k(j!==void 0?j:j=b("CometLoggedInAccountSwitcherRow_account.graphql"),a.account);var d=a.form,e=a.unread_notification_count,f=a.user,n=m(null),o=b("useCometLoggedInAccountSwitcherSubmitForm")(c,n),p=b("useCometLoggedInAccountSwitcherRemoveAccount")(a);c={product_bucket:"account_switcher",subsurface:"switch_account_menu",surface:"navigation"};var q=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"account"})),r=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"remove"}));if(f==null){b("recoverableViolation")("A user is required to render a CometLoggedInAccountSwitcherRow","comet_ui");return null}if(d==null){b("recoverableViolation")("A form is required to render a CometLoggedInAccountSwitcherRow","comet_ui");return null}e==null&&b("recoverableViolation")("We should have an unread_notification_count but we don't","comet_ui");return l.jsx(b("TetraListCell.react"),{addOnPrimary:{addOnTopEnd:((a=e)!=null?a:0)>0?{number:(c=e)!=null?c:0,type:"notificationBadge"}:void 0,shape:"circle",size:60,source:{height:(e=f==null?void 0:(a=f.profile_picture)==null?void 0:a.height)!=null?e:60,scale:(a=f==null?void 0:(c=f.profile_picture)==null?void 0:c.scale)!=null?a:b("WebPixelRatio").get(),uri:(c=f==null?void 0:(e=f.profile_picture)==null?void 0:e.uri)!=null?c:"",width:(e=f==null?void 0:(a=f.profile_picture)==null?void 0:a.width)!=null?e:60},type:"profile-photo"},addOnSecondary:{"aria-label":h._("Remover conta"),color:"secondary",icon:b("fbicon")._(g("478234"),24),onPress:function(){r(),p()},type:"icon"},headline:l.jsxs(l.Fragment,{children:[f==null?void 0:f.name,l.jsx(b("CometLoggedInAccountSwitcherAccountForm.react"),{form:d,formRef:n})]}),onPress:function(){q(),o()}})}},null);
__d("CometLoggedInAccountSwitcherRowWithUpdateText.react",["ix","fbt","CometBadge.react","CometLoggedInAccountSwitcherAccountForm.react","CometRelay","React","TetraListCell.react","WebPixelRatio","fbicon","recoverableViolation","useCometLoggedInAccountSwitcherRemoveAccount","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","CometLoggedInAccountSwitcherRowWithUpdateText_query.graphql","CometLoggedInAccountSwitcherRowWithUpdateText_account.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i,j;b("CometRelay").graphql;var k=b("CometRelay").useFragment,l=b("React");a=b("React");var m=a.useRef;e.exports=function(a){var c=k(i!==void 0?i:i=b("CometLoggedInAccountSwitcherRowWithUpdateText_query.graphql"),a.query);a=k(j!==void 0?j:j=b("CometLoggedInAccountSwitcherRowWithUpdateText_account.graphql"),a.account);var d=a.form,e=a.unread_notification_count,f=a.user,n=m(null),o=b("useCometLoggedInAccountSwitcherSubmitForm")(c,n),p=b("useCometLoggedInAccountSwitcherRemoveAccount")(a);c={product_bucket:"profile_account_switcher",subsurface:"switch_account_menu",surface:"navigation"};var q=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"account"})),r=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},c,{item_type:"remove"}));if(f==null){b("recoverableViolation")("A user is required to render a CometLoggedInAccountSwitcherRowWithUpdateText","comet_ui");return null}if(d==null){b("recoverableViolation")("A form is required to render a CometLoggedInAccountSwitcherRowWithUpdateText","comet_ui");return null}e==null&&b("recoverableViolation")("We should have an unread_notification_count but we don't","comet_ui");return l.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:40,source:{height:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.height)!=null?c:40,scale:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.scale)!=null?c:b("WebPixelRatio").get(),uri:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.uri)!=null?c:"",width:(c=f==null?void 0:(a=f.switcher_profile_picture)==null?void 0:a.width)!=null?c:40},type:"profile-photo"},addOnSecondary:{"aria-label":h._("Remover conta"),color:"secondary",icon:b("fbicon")._(g("478234"),24),onPress:function(){r(),p()},type:"icon"},body:e!==null&&e!==0?l.jsxs(l.Fragment,{children:[l.jsx(b("CometBadge.react"),{}),h._({"*":"{number} atualiza\u00e7\u00f5es","_1":"1 atualiza\u00e7\u00e3o"},[h._plural(e||0,"number")])]}):null,headline:l.jsxs(l.Fragment,{children:[f==null?void 0:f.name,l.jsx(b("CometLoggedInAccountSwitcherAccountForm.react"),{form:d,formRef:n})]}),level:4,onPress:function(){q(),o()}})}},null);
__d("CometLoggedInAccountSwitcher.react",["ix","fbt","CometListItemSeparator.react","CometLoggedInAccountSwitcherRow.react","CometLoggedInAccountSwitcherRowWithUpdateText.react","Locale","React","RelayHooks","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","XLoginController","XLogoutController","fbicon","gkx","stylex","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","CometLoggedInAccountSwitcher_query.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("React");var k=c.useRef;b("RelayHooks").graphql;var l=b("RelayHooks").useFragment,m=b("Locale").isRTL();function n(a){if(b("gkx")("1475594"))return h._("Sua sess\u00e3o ser\u00e1 encerrada primeiro. Em seguida, outra pessoa poder\u00e1 entrar ou adicionar a pr\u00f3pria conta");return a==null?h._({"*":"Entre em outra conta facilmente. Voc\u00ea ser\u00e1 desconectado.","2":"Entre em outra conta facilmente. Voc\u00ea ser\u00e1 desconectada.","__vcg":1}):h._("Entre em outra conta facilmente. A conta {name} ser\u00e1 desconectada.",[h._param("name",a)])}function a(a){var c=a.onReturn;a=a.query;var d=l(i!==void 0?i:i=b("CometLoggedInAccountSwitcher_query.graphql"),a);a=k(null);var e=b("useCometLoggedInAccountSwitcherSubmitForm")(d,a),f=b("XLoginController").getURIBuilder().setString("ref","www_account_switcher").getURI().toString(),o=b("XLogoutController").getURIBuilder().setString("next",f.toString()).setString("button_name","switch_accounts").setString("button_location","settings").getURI().toString(),p=b("gkx")("1475594"),q={product_bucket:b("gkx")("1475594")?"profile_account_switcher":"account_switcher",subsurface:"switch_account_menu",surface:"navigation"},r=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},q,{item_type:"back"})),s=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},q,{item_type:"add"}));return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:m?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:function(){r(),c()}})}),j.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:p?h._("Mudar de conta"):h._("Trocar de conta")})})]}),j.jsxs("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:[j.jsxs(b("TetraList.react"),{children:[j.jsx(b("TetraListCell.react"),{body:n(d==null?void 0:(q=d.viewer)==null?void 0:(q=q.account_user)==null?void 0:q.short_name),bodyColor:"secondary"}),((q=d==null?void 0:(q=d.viewer)==null?void 0:q.device_switchable_accounts)!=null?q:[]).map(function(a){var c;return p?j.jsx(b("CometLoggedInAccountSwitcherRowWithUpdateText.react"),{account:a,query:d},(c=a==null?void 0:(c=a.user)==null?void 0:c.id)!=null?c:void 0):j.jsx(b("CometLoggedInAccountSwitcherRow.react"),{account:a,query:d},(a=a==null?void 0:(c=a.user)==null?void 0:c.id)!=null?a:void 0)}),j.jsx(b("CometListItemSeparator.react"),{}),j.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("487087"),20),size:36,type:"contained-icon"},headline:h._("Entrar em outra conta"),level:4,onPress:function(){s(),e()}})]}),j.jsxs("form",{action:o,method:"POST",ref:a,children:[j.jsx("input",{name:"h",type:"hidden",value:d==null?void 0:(q=d.viewer)==null?void 0:q.logout_hash}),j.jsx("input",{name:"ref",type:"hidden",value:"mb"}),j.jsx("input",{name:"next",type:"hidden",value:f})]})]})]})}e.exports=a},null);
__d("CometProfilePlusExpressOnboardingDialog.entrypoint",["JSResourceForInteraction","CometProfilePlusExpressOnboardingDialogQuery$Parameters"],function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{cometProfilePlusExpressOnboardingQueryReference:{parameters:b("CometProfilePlusExpressOnboardingDialogQuery$Parameters"),variables:{}}}}},root:b("JSResourceForInteraction")("CometProfilePlusExpressOnboardingDialog.react",{"class":"responsive",name:"View Express Onboarding flow",oncall:"profile_plus"}).__setRef("CometProfilePlusExpressOnboardingDialog.entrypoint")};e.exports=a},null);
__d("CometProfileSwitcherPagePublishingAuthorizationCard.react",["ix","fbt","CometImage.react","React","TetraButton.react","TetraTextPairing.react","asset","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(){return i.jsx("div",{className:"dati1w0a hv4rvrfc sj5x9vvc",children:i.jsxs("div",{className:"dati1w0a hv4rvrfc sj5x9vvc qsy8amke",children:[i.jsxs("div",{className:"discj3wi scb9dxdr dflh9lhu sj5x9vvc btwxx1t3 j83agx80",children:[i.jsx("div",{children:i.jsx(b("CometImage.react"),{src:g("489662")})}),i.jsx("div",{className:"tw6a2znq j83agx80 bp9cbjyn",children:i.jsx(b("TetraTextPairing.react"),{body:h._("Acesso \u00e0s suas p\u00e1ginas est\u00e1 restrito temporariamente at\u00e9 voc\u00ea concluir a autoriza\u00e7\u00e3o para publica\u00e7\u00e3o."),bodyLineLimit:3,headline:h._("\u00c9 preciso autoriza\u00e7\u00e3o para publica\u00e7\u00e3o na P\u00e1gina"),headlineLineLimit:3,level:3})})]}),i.jsx("div",{className:"discj3wi dati1w0a hv4rvrfc ihqw7lf3 bp9cbjyn",children:i.jsx(b("TetraButton.react"),{label:h._("Come\u00e7ar"),linkProps:{target:"_blank",url:"https://www.facebook.com/help/1939753742723975"},padding:"wide"})})]})})}e.exports=a},null);
__d("CometProfileSwitcher.react",["ix","fbt","CometBadge.react","CometProfilePlusExpressOnboardingDialog.entrypoint","CometProfileSwitcherPagePublishingAuthorizationCard.react","Locale","React","RelayHooks","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","WebPixelRatio","fbicon","promiseDone","stylex","JSResource","useCometEntryPointDialog","useProfileEngagementClickCallback","CometRelay","useCodedErrorDialog","useIsMountedRef","useProfileCometSwitcherCleanUpOnSwap","CometProfileSwitcher_query.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("React");var k=c.useState;b("RelayHooks").graphql;var l=b("RelayHooks").useFragment,m=b("Locale").isRTL(),n=b("JSResource")("CometProfileSwitchMutation").__setRef("CometProfileSwitcher.react"),o=b("CometRelay").useRelayEnvironment;function a(a){var c,d,e,f=a.onClose,p=a.onReturn;a=a.query;a=l(i!==void 0?i:i=b("CometProfileSwitcher_query.graphql"),a);c={profile:a==null?void 0:(c=a.viewer)==null?void 0:c.actor,should_open_express_onboarding:!1}||{};d=(d=a==null?void 0:(d=a.viewer)==null?void 0:(d=d.actor)==null?void 0:(d=d.profile_switcher_eligible_profiles)==null?void 0:d.nodes)!=null?d:[];e=k(a==null?void 0:(e=a.viewer)==null?void 0:(e=e.actor)==null?void 0:e.id);var q=e[0],r=e[1],s=(e=a==null?void 0:(e=a.viewer)==null?void 0:(e=e.actor)==null?void 0:e.is_failing_page_publishing_authorization)!=null?e:!1,t=b("useProfileEngagementClickCallback")({item_type:"profile",product_bucket:"profile_account_switcher",subsurface:"switch_profile_menu",surface:"navigation"}),u=b("useProfileCometSwitcherCleanUpOnSwap")(a),v=o(),w=b("useIsMountedRef")();e=b("useCodedErrorDialog")(h._("Falha ao mudar perfis"));var x=e[0],y=function(a){b("promiseDone")(n.load().then(function(b){b=b.switchProfile;b(v,{profileId:a},{onCompleted:function(){w.current&&f(),u(),window.location.assign("/")},onError:function(a){f(),x(a)}})}))};a=b("useCometEntryPointDialog")(b("CometProfilePlusExpressOnboardingDialog.entrypoint"),{});var z=a[0];return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"discj3wi dati1w0a hv4rvrfc sj5x9vvc btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:m?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:p})}),j.jsx("div",{className:"tw6a2znq j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:h._("Selecionar perfil")})})]}),s?j.jsx(b("CometProfileSwitcherPagePublishingAuthorizationCard.react"),{}):null,j.jsx("div",{className:"cxgpxx05 jbae33se",children:j.jsx(b("TetraList.react"),{children:[c].concat(d).map(function(a){var c=a.profile,d=a.should_open_express_onboarding;return c!=null?j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:40,source:{height:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.height)!=null?a:40,scale:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.scale)!=null?a:b("WebPixelRatio").get(),uri:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.uri)!=null?a:"",width:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.width)!=null?a:40},type:"profile-photo"},addOnSecondary:{on:q===c.id,type:"radio"},addOnSecondaryVerticalAlign:"center",body:s&&q!==c.id?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{color:"red"}),h._("Restrito temporariamente")]}):c.unseen_update_count!==null&&c.unseen_update_count!==0?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{}),h._({"*":"{number} atualiza\u00e7\u00f5es","_1":"1 atualiza\u00e7\u00e3o"},[h._plural(c.unseen_update_count||0,"number")])]}):null,disabled:s&&q!==c.id,headline:c.name,level:4,onPress:function(){r(c.id),t(),d===!0?(f(),z({profileID:c.id,profileName:c.name})):y(c.id)},testid:void 0},c.id):null})})})]})}e.exports=a},null);
__d("CometSettingsDropdownAccessibility.react",["ix","fbt","CometDarkModeContext","Locale","React","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","fbicon","gkx","stylex"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useContext,k=b("Locale").isRTL();function a(a){var c=a.onClose;a=a.onReturn;var d=j(b("CometDarkModeContext")),e=d.isDarkModeEnabled;d=d.onDarkModeToggle;e=[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},addOnSecondary:{type:"switch",value:e},headline:h._("Modo escuro"),level:4,onPress:d},itemKey:"dark-mode",render:b("gkx")("919810")&&b("gkx")("1266082")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1252034"),20),size:36,type:"contained-icon"},headline:h._("Tamanho da fonte"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"font-size",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("577844"),20),size:36,type:"contained-icon"},headline:h._("Atalhos de teclado"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"keyboard-shortcuts",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1279095"),20),size:36,type:"contained-icon"},headline:h._("Contraste"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"contrast",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("662652"),20),size:36,type:"contained-icon"},headline:h._("Legendas"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"captions-settings",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("508554"),20),size:36,type:"contained-icon"},headline:h._("Configura\u00e7\u00f5es de texto alternativo"),level:4,linkProps:{target:"_blank",url:"/"},onPress:c},itemKey:"alt-settings",render:!0}].filter(function(a){return a.render});return i.jsxs("div",{className:"cbu4d94t j83agx80",children:[i.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[i.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:i.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:k?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:a})}),i.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:i.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:h._("Acessibilidade e prefer\u00eancias")})})]}),i.jsx("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:i.jsx(b("TetraList.react"),{items:e,children:function(a){var c=a.item.cellProps;a=a.props;return i.createElement(b("TetraListCell.react"),babelHelpers["extends"]({},c,{key:a.key}))}})})]})}e.exports=a},null);
__d("CometSettingsDropdownAppearance.react",["ix","fbt","CometDarkModeContext","CometDensityModeContext","Locale","React","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","fbicon","stylex","useTopNavigationLogging"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("React");var k=c.useContext,l=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks,m=b("Locale").isRTL(),n={header:{display:"j83agx80",flexDirection:"btwxx1t3",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a"},icon:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},list:{paddingTop:"cxgpxx05",paddingEnd:"rz4wbd8a",paddingBottom:"jbae33se",paddingStart:"a8nywdso"},root:{display:"j83agx80",flexDirection:"cbu4d94t"},spacer:{width:"thwo4zme"},title:{alignItems:"bp9cbjyn",display:"j83agx80",paddingStart:"h4z51re5"}},o={component:j.jsx("div",{className:(i||(i=b("stylex")))(n.spacer)}),type:"group_member_profile_primary_addon"};function a(a){a=a.onReturn;var c=k(b("CometDarkModeContext")),d=c.isDarkModeEnabled,e=c.setDarkModePreference;c=k(b("CometDensityModeContext"));var f=c[0],p=c[1];c=l("dark-mode",1,d);var q=c[0];c=c[1];var r=l("compact-mode",2,f),s=r[0];r=r[1];return j.jsxs("div",{className:(i||(i=b("stylex")))(n.root),children:[j.jsxs("div",{className:i(n.header),children:[j.jsx("div",{className:i(n.icon),children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:m?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:a})}),j.jsx("div",{className:i(n.title),children:j.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:h._("Prefer\u00eancias de exibi\u00e7\u00e3o")})})]}),j.jsx("div",{className:i(n.list),children:j.jsxs(b("TetraList.react"),{children:[j.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},emphasized:!0,headline:h._("Apar\u00eancia")}),j.jsx(b("TetraListCell.react"),{addOnPrimary:o,addOnSecondary:{on:!d,type:"radio"},headline:h._("Modo claro"),level:4,onPress:d?function(){q(),e(!1)}:void 0,ref:d?c:void 0}),j.jsx(b("TetraListCell.react"),{addOnPrimary:o,addOnSecondary:{on:d,type:"radio"},headline:h._("Modo escuro"),level:4,onPress:d?void 0:function(){q(),e(!0)},ref:d?void 0:c}),j.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("1252034"),20),size:36,type:"contained-icon"},emphasized:!0,headline:h._("Densidade")}),j.jsx(b("TetraListCell.react"),{addOnPrimary:o,addOnSecondary:{on:!f,type:"radio"},headline:h._("Padr\u00e3o"),level:4,onPress:f?function(){s(),p(!1)}:void 0,ref:f?r:void 0}),j.jsx(b("TetraListCell.react"),{addOnPrimary:o,addOnSecondary:{on:f,type:"radio"},headline:h._("Compacto"),level:4,onPress:f?void 0:function(){s(),p(!0)},ref:f?void 0:r})]})})]})}e.exports=a},null);
__d("CometSettingsDropdownHeader.react",["fbt","CometRelay","React","TetraListCell.react","XCometMeControllerRouteBuilder","stylex","useTopNavigationLogging","CometSettingsDropdownHeader_viewer.graphql"],function(a,b,c,d,e,f,g){"use strict";var h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React"),k=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks,l=b("XCometMeControllerRouteBuilder").buildURL({});function a(a){var c,d,e=a.onClick;a=a.viewer;a=i(h!==void 0?h:h=b("CometSettingsDropdownHeader_viewer.graphql"),a);c=a==null?void 0:(c=a.account_user)==null?void 0:c.name;d=a==null?void 0:(d=a.account_user)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;var f=k("profile",0,!1),m=f[0];f=f[1];return c==null?null:j.jsx("div",{className:"aov4n071",children:j.jsx(b("TetraListCell.react"),{addOnPrimary:d==null?void 0:{shape:"circle",size:60,source:{height:60,uri:d,width:60},type:"profile-photo"},body:(a==null?void 0:(d=a.account_user)==null?void 0:d.should_use_page_rename)===!0?g._("Veja sua P\u00e1gina"):g._("Ver seu perfil"),emphasized:!0,headline:c,level:3,linkProps:{routeTarget:"self",url:l},onPress:function(a){e&&e(a),m()},ref:f})})}e.exports=a},null);
__d("CometSettingsDropdownListItem.react",["React","TetraListCell.react","useTopNavigationLogging"],function(a,b,c,d,e,f){"use strict";var g=b("React");a=b("React");var h=a.useCallback,i=b("useTopNavigationLogging").useSettingsItemLoggingCallbacks;c=function(a){var c=a.cellProps,d=a.itemKey,e=a.position;a=a.selected;var f=c.onPress;d=i(d,e,a);var j=d[0];e=d[1];a=h(function(a){j(),f&&f(a)},[j,f]);return g.jsx(b("TetraListCell.react"),babelHelpers["extends"]({},c,{onPress:a,ref:e}))};e.exports=c},null);
__d("CometSettingsDropdownQuickHelp.react",["ix","fbt","CometFRX.entrypoint","CometRelay","Locale","React","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","XCometPrivacyCheckupControllerRouteBuilder","fbicon","gkx","stylex","useCometEntryPointDialog","useCometReportBug","useNullthrowsViolation","CometSettingsDropdownQuickHelpQuery.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i;b("CometRelay").graphql;var j=b("CometRelay").useLazyLoadQuery,k=b("React"),l=b("Locale").isRTL();function a(a){var c=a.onClose;a=a.onReturn;var d=j(i!==void 0?i:i=b("CometSettingsDropdownQuickHelpQuery.graphql"),{});d=b("useNullthrowsViolation")((d=d.viewer)==null?void 0:(d=d.account_user)==null?void 0:d.id);var e=b("useCometReportBug")(),f=e[0];e=b("useCometEntryPointDialog")(b("CometFRX.entrypoint"),{entryPoint:"STRUCTURED_REPORT_BUTTON",id:d,location:"help_and_support"});var m=e[0];d=[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("496951"),20),size:36,type:"contained-icon"},headline:h._("Central de Ajuda"),level:4,linkProps:{target:"_blank",url:"https://www.facebook.com/help/"},onPress:c},render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497245"),20),size:36,type:"contained-icon"},headline:h._("Verifica\u00e7\u00e3o de Privacidade"),level:4,linkProps:{url:b("XCometPrivacyCheckupControllerRouteBuilder").buildURL({source:"quick_help"})},onPress:c},render:b("gkx")("1266082")&&!b("gkx")("1336165")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497567"),20),size:36,type:"contained-icon"},headline:h._("Atalhos de privacidade"),level:4,linkProps:{url:"/privacy/"},onPress:c},render:b("gkx")("1266082")&&!b("gkx")("1336165")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("508554"),20),size:36,type:"contained-icon"},headline:h._("Comunidade de Ajuda"),level:4,linkProps:{target:"_blank",url:"https://www.facebook.com/help/community/"},onPress:c},render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("495079"),20),size:36,type:"contained-icon"},headline:h._("Denunciar interfer\u00eancia no censo ou nos eleitores"),level:4,onPress:function(){m({}),c()}},render:b("gkx")("1300497")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("495079"),20),size:36,type:"contained-icon"},headline:h._("Caixa de Entrada de Suporte"),level:4,linkProps:{url:"/support?ref=contextual"},onPress:c},render:b("gkx")("1266082")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("490580"),20),size:36,type:"contained-icon"},headline:h._("Relatar um problema"),level:4,onPress:function(){f(),c()}},render:!0}].filter(function(a){return a.render});return k.jsxs("div",{className:"cbu4d94t j83agx80",children:[k.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[k.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:k.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:l?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:a})}),k.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:k.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:h._("Ajuda e suporte")})})]}),k.jsx("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:k.jsx(b("TetraList.react"),{items:d,children:function(a){var c=a.item.cellProps;a=a.props;return k.createElement(b("TetraListCell.react"),babelHelpers["extends"]({},c,{key:a.key}))}})})]})}e.exports=a},null);
__d("CometSettingsDropdownSettingsAndPrivacy.react",["ix","fbt","CometRelay","CometSettingsDropdownListItem.react","Locale","React","TetraIcon.react","TetraList.react","TetraText.react","XCometActivityLogControllerRouteBuilder","XCometPrivacyCheckupControllerRouteBuilder","fbicon","gkx","recoverableViolation","stylex","useCometFeedPreferencesDialog","useCometInteractionTracing","CometSettingsDropdownSettingsAndPrivacy_viewer.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React"),l=b("Locale").isRTL();function a(a){var c,d,e=a.onClose,f=a.onReturn;a=a.viewer;a=j(i!==void 0?i:i=b("CometSettingsDropdownSettingsAndPrivacy_viewer.graphql"),a);c=a==null?void 0:(c=a.account_user)==null?void 0:c.username;d=a==null?void 0:(d=a.account_user)==null?void 0:d.id;d=c==null||c===""?d:c;c=d==null||d===""?null:b("XCometActivityLogControllerRouteBuilder").buildURL({vanity:d});c==null&&b("recoverableViolation")("Was not able to get activity log uri for settings menu","comet_ui");d=(a==null?void 0:a.is_eligible_for_account_level_settings)===!0;a=d&&!b("gkx")("1545458");var m=b("useCometFeedPreferencesDialog")(),n=m[0];m=m[1];var o=b("useCometInteractionTracing")(30605385,"responsive","INTERACTION");d=[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497567"),20),size:36,type:"contained-icon"},headline:h._("Configura\u00e7\u00f5es"),level:4,linkProps:{url:"/settings"},onPress:e,testid:"CometSettingsButton"},itemKey:"settings-privacy",render:b("gkx")("1266082")},d===!1?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("789724"),20),size:36,type:"contained-icon"},headline:h._("Verifica\u00e7\u00e3o de Privacidade"),level:4,linkProps:{url:b("XCometPrivacyCheckupControllerRouteBuilder").buildURL({source:"settings_and_privacy"})},onPress:e},itemKey:"privacy-checkup",render:b("gkx")("1266082")},a===!1?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497245"),20),size:36,type:"contained-icon"},headline:h._("Atalhos de privacidade"),level:4,linkProps:{url:"/privacy/"},onPress:e},itemKey:"privacy",render:b("gkx")("1266082")},c==null?null:{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("486354"),20),size:36,type:"contained-icon"},headline:h._("Registro de Atividades"),level:4,linkProps:{url:c},onPress:e},itemKey:"activity-log",render:b("gkx")("1266082")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("607148"),20),size:36,type:"contained-icon"},headline:h._("Prefer\u00eancias do Feed de Not\u00edcias"),level:4,onPress:function(){o(function(a){a.addMetadata("SurfaceType","Comet"),n()}),e()},onPressIn:m,testid:"CometNewsFeedPreferencesButton"},itemKey:"news-feed-preferences",render:b("gkx")("1266082")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("487622"),20),size:36,type:"contained-icon"},headline:h._("Idioma"),level:4,linkProps:{url:"/settings?tab=language"},onPress:e,testid:"CometSettingsButton"},itemKey:"language",render:b("gkx")("1266082")}].filter(Boolean).filter(function(a){return a.render});return k.jsxs("div",{className:"cbu4d94t j83agx80",children:[k.jsxs("div",{className:"dati1w0a sj5x9vvc hv4rvrfc discj3wi btwxx1t3 j83agx80",children:[k.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:k.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:l?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:f})}),k.jsx("div",{className:"h4z51re5 j83agx80 bp9cbjyn",children:k.jsx(b("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:h._("Configura\u00e7\u00f5es e privacidade")})})]}),k.jsx("div",{className:"a8nywdso jbae33se rz4wbd8a cxgpxx05",children:k.jsx(b("TetraList.react"),{items:d,children:function(a){var c,d=a.item,e=d.cellProps;d=d.itemKey;a=a.props;var f=e.addOnSecondary;c=(c=a.key)!=null?c:-1;f=f!=null&&f.value!=null?f.value:!1;return k.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:e,itemKey:d,position:c,selected:f},a.key)}})})]})}e.exports=a},null);
__d("CometProfileAndAccountSwitcher.react",["ix","fbt","CometBadge.react","CometListItemSeparator.react","CometLoggedInAccountSwitcher.react","CometProfilePlusExpressOnboardingDialog.entrypoint","CometProfileSwitcherPagePublishingAuthorizationCard.react","Locale","React","RelayHooks","TetraIcon.react","TetraList.react","TetraListCell.react","TetraText.react","WebPixelRatio","fbicon","orEmptyArray","promiseDone","stylex","JSResource","CometRelay","useCodedErrorDialog","useCometEntryPointDialog","useIsMountedRef","useProfileCometSwitcherCleanUpOnSwap","useProfileEngagementClickCallback","CometProfileAndAccountSwitcher_query.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");c=b("React");var k=c.useState;b("RelayHooks").graphql;var l=b("RelayHooks").useFragment,m=b("Locale").isRTL(),n=b("JSResource")("CometProfileSwitchMutation").__setRef("CometProfileAndAccountSwitcher.react"),o=b("CometRelay").useRelayEnvironment,p=40;function a(a){var c,d,e,f=a.onClose,q=a.onReturn,r=a.pushPage;a=a.query;var s=l(i!==void 0?i:i=b("CometProfileAndAccountSwitcher_query.graphql"),a);a={profile:s==null?void 0:(a=s.viewer)==null?void 0:a.actor,should_open_express_onboarding:!1}||{};c=(c=s==null?void 0:(c=s.viewer)==null?void 0:(c=c.actor)==null?void 0:(c=c.profile_switcher_eligible_profiles)==null?void 0:c.nodes)!=null?c:[];var t=(d=s==null?void 0:(d=s.viewer)==null?void 0:(d=d.actor)==null?void 0:d.is_failing_page_publishing_authorization)!=null?d:!1;d=k(s==null?void 0:(d=s.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id);var u=d[0],v=d[1];d={product_bucket:"profile_account_switcher",subsurface:"switch_profile_menu",surface:"navigation"};var w=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},d,{item_type:"profile"})),x=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},d,{item_type:"more"})),y=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},d,{item_type:"back"})),z=b("useProfileCometSwitcherCleanUpOnSwap")(s),A=o(),B=b("useIsMountedRef")();d=b("useCodedErrorDialog")(h._("Falha ao mudar perfis"));var C=d[0],D=function(a){b("promiseDone")(n.load().then(function(b){b=b.switchProfile;b(A,{profileId:a},{onCompleted:function(){B.current&&f(),z(),window.location.assign("/")},onError:function(a){f(),C(a)}})}))};d=s==null?void 0:(d=s.viewer)==null?void 0:d.first_account[0];e=b("orEmptyArray")(s==null?void 0:(e=s.viewer)==null?void 0:e.device_switchable_accounts);var E=0;e.forEach(function(a){E+=a.unread_notification_count||0});e=b("useCometEntryPointDialog")(b("CometProfilePlusExpressOnboardingDialog.entrypoint"),{});var F=e[0];return j.jsxs("div",{className:"cbu4d94t j83agx80",children:[j.jsxs("div",{className:"discj3wi dati1w0a hv4rvrfc sj5x9vvc btwxx1t3 j83agx80",children:[j.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:j.jsx(b("TetraIcon.react"),{"aria-label":h._("Voltar"),icon:m?b("fbicon")._(g("514454"),20):b("fbicon")._(g("512647"),20),onPress:function(){y(),q()}})}),j.jsx("div",{className:"tw6a2znq j83agx80 bp9cbjyn",children:j.jsx(b("TetraText.react"),{type:"headlineEmphasized1",children:h._("Mudar de perfil")})})]}),t?j.jsx(b("CometProfileSwitcherPagePublishingAuthorizationCard.react"),{}):null,j.jsx("div",{className:"cxgpxx05 jbae33se",children:j.jsxs(b("TetraList.react"),{children:[[a].concat(c).map(function(a){var c=a.profile,d=a.should_open_express_onboarding;return c!=null?j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:p,source:{height:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.height)!=null?a:p,scale:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.scale)!=null?a:b("WebPixelRatio").get(),uri:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.uri)!=null?a:"",width:(a=c==null?void 0:(a=c.profile_picture)==null?void 0:a.width)!=null?a:p},type:"profile-photo"},addOnSecondary:{on:u===c.id,type:"radio"},addOnSecondaryVerticalAlign:"center",body:t&&u!==c.id?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{color:"red"}),h._("Restrito temporariamente")]}):c.unseen_update_count!==null&&c.unseen_update_count!==0?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{}),h._({"*":"{number} atualiza\u00e7\u00f5es","_1":"1 atualiza\u00e7\u00e3o"},[h._plural(c.unseen_update_count||0,"number")])]}):null,disabled:t&&u!==c.id,headline:c.name,level:4,onPress:function(){v(c.id),w(),d===!0?(f(),F({profileID:c.id,profileName:c.name})):D(c.id)}},c.id):null}),j.jsx(b("CometListItemSeparator.react"),{}),j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:p,source:{height:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.height)!=null?c:p,scale:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.scale)!=null?c:b("WebPixelRatio").get(),uri:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.uri)!=null?c:"",width:(c=d==null?void 0:(e=d.user)==null?void 0:(a=e.profile_picture)==null?void 0:a.width)!=null?c:p},type:"profile-photo"},addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},body:E>0?j.jsxs(j.Fragment,{children:[j.jsx(b("CometBadge.react"),{}),h._({"*":"{number} atualiza\u00e7\u00f5es","_1":"1 atualiza\u00e7\u00e3o"},[h._plural(E||0,"number")])]}):null,headline:h._("Trocar de conta"),level:4,onPress:function(){return r(function(a){a=a.onReturn;x();return j.jsx(b("CometLoggedInAccountSwitcher.react"),{onClose:f,onReturn:a,query:s})})}},d==null?void 0:(e=d.user)==null?void 0:e.id)]})})]})}e.exports=a},null);
__d("CometLoggedInAccountSwitcherPopoverMenu.entrypoint",["CometLoggedInAccountSwitcherPopoverMenuQuery$Parameters","JSResource"],function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{queries:{root:{parameters:b("CometLoggedInAccountSwitcherPopoverMenuQuery$Parameters"),variables:{}}}}},root:b("JSResource")("CometLoggedInAccountSwitcherPopoverMenu.react").__setRef("CometLoggedInAccountSwitcherPopoverMenu.entrypoint")};e.exports=a},null);
__d("useCometLoggedInAccountSwitcherListCell",["ix","fbt","CometBadge.react","CometEntryPointPopoverTrigger.react","CometLoggedInAccountSwitcher.react","CometLoggedInAccountSwitcherAccountForm.react","CometPopoverLoadingState.react","CometRelay","React","TetraIcon.react","WebPixelRatio","fbicon","gkx","orEmptyArray","stylex","useCometLoggedInAccountSwitcherSubmitForm","useProfileEngagementClickCallback","useCometLoggedInAccountSwitcherListCell_query.graphql","CometLoggedInAccountSwitcherPopoverMenu.entrypoint"],function(a,b,c,d,e,f,g,h){"use strict";var i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");c=b("React");var l=c.useRef,m=36,n=20;(n-m)/2;function a(a,c,d){var e,f,o=j(i!==void 0?i:i=b("useCometLoggedInAccountSwitcherListCell_query.graphql"),a);a=l(null);var p=b("useCometLoggedInAccountSwitcherSubmitForm")(o,a);e=b("orEmptyArray")(o==null?void 0:(e=o.viewer)==null?void 0:e.device_switchable_accounts);var q=0;e.forEach(function(a){q+=a.unread_notification_count||0});e={product_bucket:b("gkx")("1475594")?"profile_account_switcher":"account_switcher",subsurface:"settings_menu",surface:"navigation"};var r=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},e,{item_type:"account"})),s=b("useProfileEngagementClickCallback")(babelHelpers["extends"]({},e,{item_type:"more"}));e=o==null?void 0:(e=o.viewer)==null?void 0:(e=e.first_account)==null?void 0:e[0];var t=e==null?void 0:e.user;if((o==null?void 0:(f=o.viewer)==null?void 0:(f=f.device_switchable_accounts)==null?void 0:f.length)===1&&e!=null){f=e.form;e=e.unread_notification_count;if(f!=null){var u;return{cellProps:{addOnPrimary:{addOnTopEnd:((u=e)!=null?u:0)>0?{number:(u=e)!=null?u:0,type:"notificationBadge"}:void 0,shape:"circle",size:36,source:{height:(u=t==null?void 0:(e=t.profile_picture)==null?void 0:e.height)!=null?u:36,scale:(u=t==null?void 0:(e=t.profile_picture)==null?void 0:e.scale)!=null?u:b("WebPixelRatio").get(),uri:(u=t==null?void 0:(e=t.profile_picture)==null?void 0:e.uri)!=null?u:"",width:(u=t==null?void 0:(e=t.profile_picture)==null?void 0:e.width)!=null?u:36},type:"profile-photo"},addOnSecondary:{addOn:k.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",autoAlign:!0,entryPointParams:{},fallback:k.jsx(b("CometPopoverLoadingState.react"),{}),otherProps:{},popoverEntryPoint:b("CometLoggedInAccountSwitcherPopoverMenu.entrypoint"),popoverType:"menu",children:function(a,c){return k.jsx(b("TetraIcon.react"),{"aria-label":h._("Menu"),color:"secondary",icon:b("fbicon")._(g("484388"),24),onPress:c,ref:a})}}),type:"body"},body:k.jsxs(k.Fragment,{children:[h._("Entrar como {name}",[h._param("name",t==null?void 0:t.name)]),k.jsx(b("CometLoggedInAccountSwitcherAccountForm.react"),{form:f,formRef:a})]}),headline:h._("Trocar de conta"),level:4,onPress:function(){r(),p()}},itemKey:"account-switcher",render:!0}}}e={addOnTopEnd:q>0?{number:q,type:"notificationBadge"}:void 0,shape:"circle",size:36,source:{height:(u=t==null?void 0:(e=t.profile_picture)==null?void 0:e.height)!=null?u:36,scale:(a=t==null?void 0:(f=t.profile_picture)==null?void 0:f.scale)!=null?a:b("WebPixelRatio").get(),uri:(u=t==null?void 0:(e=t.profile_picture)==null?void 0:e.uri)!=null?u:"",width:(a=t==null?void 0:(f=t.profile_picture)==null?void 0:f.width)!=null?a:36},type:"profile-photo"};return{cellProps:{addOnPrimary:b("gkx")("1475594")?e:{icon:function(){var a;return k.jsxs("div",{className:"l9j0dhe7",children:[(o==null?void 0:(a=o.viewer)==null?void 0:a.device_switchable_account_has_notification)?k.jsx("div",{className:"tkr6xdv7 nezaghv5 pmk7jnqg e712q9ov pq6dq46d",children:k.jsx(b("CometBadge.react"),{color:"red",isProfileBadge:!0,size:10})}):null,k.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("fbicon")._(g("622241"),20),size:n})]})},size:m,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Trocar de conta"),level:4,onPress:function(){c(function(a){a=a.onReturn;if(b("CometLoggedInAccountSwitcher.react")==null)return;s();return k.jsx(b("CometLoggedInAccountSwitcher.react"),{onClose:d,onReturn:a,query:o})})}},itemKey:"account-switcher",render:((f=o==null?void 0:(u=o.viewer)==null?void 0:(t=u.device_switchable_accounts)==null?void 0:t.length)!=null?f:0)>0}}e.exports=a},null);
__d("useCometCombinedProfileAccountSwitcherListCell.react",["ix","fbt","CometProfileAndAccountSwitcher.react","CometProfileSwitcher.react","CometRelay","React","WebPixelRatio","fbicon","orEmptyArray","useCometLoggedInAccountSwitcherListCell","useProfileEngagementClickCallback","useCometCombinedProfileAccountSwitcherListCell_query.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");function a(a,c,d){var e,f,l,m=j(i!==void 0?i:i=b("useCometCombinedProfileAccountSwitcherListCell_query.graphql"),a);a=b("useCometLoggedInAccountSwitcherListCell")(m,c,d);e=(m==null?void 0:(e=m.viewer)==null?void 0:(e=e.actor)==null?void 0:(e=e.profile_switcher_eligible_profiles)==null?void 0:e.nodes)||[];f=b("orEmptyArray")(m==null?void 0:(f=m.viewer)==null?void 0:f.device_switchable_accounts);var n=b("useProfileEngagementClickCallback")({item_type:"more",product_bucket:"profile_account_switcher",subsurface:"settings_menu",surface:"navigation"});l=(m==null?void 0:(l=m.viewer)==null?void 0:(l=l.actor)==null?void 0:(l=l.profile_switcher_eligible_profiles)==null?void 0:l.count)||0;var o=f.length||0,p=0;e.forEach(function(a){p+=a.unseen_update_count||0});f.forEach(function(a){p+=a.unread_notification_count||0});e=(m==null?void 0:(e=m.viewer)==null?void 0:(f=e.actor)==null?void 0:(e=f.first_profile)==null?void 0:e.nodes.length)?m==null?void 0:(f=m.viewer)==null?void 0:(e=f.actor)==null?void 0:(f=e.first_profile)==null?void 0:f.nodes[0].profile:null;f=(e==null?void 0:e.profile_picture)||{};var q=f.height,r=f.scale,s=f.uri;f=f.width;if(l!==0){return{cellProps:{addOnPrimary:e?{addOnTopEnd:p>0?{number:p,type:"notificationBadge"}:void 0,shape:"circle",size:36,source:{height:(l=q)!=null?l:36,scale:(e=r)!=null?e:b("WebPixelRatio").get(),uri:(q=s)!=null?q:"",width:(l=f)!=null?l:36},type:"profile-photo"}:null,addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},headline:o>0?h._("Mudar de perfil ou conta"):h._("Mudar de perfil"),level:4,onPress:function(){o>0?c(function(a){a=a.onReturn;if(b("CometProfileAndAccountSwitcher.react")==null)return;n();return k.jsx(b("CometProfileAndAccountSwitcher.react"),{onClose:d,onReturn:a,pushPage:c,query:m})}):c(function(a){a=a.onReturn;if(b("CometProfileSwitcher.react")==null)return;n();return k.jsx(b("CometProfileSwitcher.react"),{onClose:d,onReturn:a,query:m})})},testid:"CometSettingsCombinedProfileAccountSwitcher"},itemKey:"profile-account-switcher",render:!0}}return a}e.exports=a},null);
__d("useCometSettingsLogoutForm",["Banzai","CometRelay","React","ServiceWorkerLoginAndLogout","WebStorageMonster","XLogoutControllerRouteBuilder","recoverableViolation","useCometSettingsLogoutForm_query.graphql"],function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");c=b("React");var j=c.useCallback,k=c.useRef;function a(a){var c=k(null);a=h(g!==void 0?g:g=b("useCometSettingsLogoutForm_query.graphql"),a);var d=a.logout_whitelist;a=a.viewer;var e=j(function(){var a=c.current;if(a==null){b("recoverableViolation")("Unable to get logout form ref to submit","comet_infra");return}b("WebStorageMonster").cleanOnLogout([].concat(d));b("ServiceWorkerLoginAndLogout").logout();b("Banzai").flush();a.submit()},[d]),f=b("XLogoutControllerRouteBuilder").buildURL({button_location:"settings",button_name:"logout"});f=i.jsxs("form",{action:f,method:"POST",ref:c,children:[i.jsx("input",{name:"h",type:"hidden",value:a==null?void 0:a.logout_hash}),i.jsx("input",{name:"ref",type:"hidden",value:"mb"})]});return[f,e]}e.exports=a},null);
__d("CometSettingsDropdownList.react",["ix","fbt","requireCond","CometDarkModeContext","CometLegalFooter.react","CometMenuSeparator.react","CometRelay","CometSettingsDropdownAccessibility.react","CometSettingsDropdownAppearance.react","CometSettingsDropdownHeader.react","cr:1205224","CometSettingsDropdownListItem.react","CometSettingsDropdownQuickHelp.react","CometSettingsDropdownSettingsAndPrivacy.react","Locale","React","TetraList.react","TetraListCell.react","WebPixelRatio","fbicon","gkx","qex","stylex","useCometCombinedProfileAccountSwitcherListCell.react","useCometLoggedInAccountSwitcherListCell","useCometReportBug","useCometSettingsLogoutForm","useCometTriggerOptOut","useProfileEngagementClickCallback","cr:1351419","CometSettingsDropdownListQuery.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i;b("CometRelay").graphql;var j=b("CometRelay").useLazyLoadQuery,k=b("React");c=b("React");var l=c.useContext,m=b("Locale").isRTL();function a(a){var c,d,e=a.onClose,f=a.pushPage;a=b("useCometReportBug")();var n=a[0];a=l(b("CometDarkModeContext"));var o=a.isDarkModeEnabled;a=a.onDarkModeToggle;var p=j(i!==void 0?i:i=b("CometSettingsDropdownListQuery.graphql"),{inProfileSwitcherExperiment:b("gkx")("1351420"),scale:b("WebPixelRatio").get()}),q=b("useCometSettingsLogoutForm")(p),r=q[0],s=q[1];q=b("useCometLoggedInAccountSwitcherListCell")(p,f,e);var t=b("useCometCombinedProfileAccountSwitcherListCell.react")(p,f,e),u=p.viewer,v=b("useCometTriggerOptOut")();c=(u==null?void 0:(c=u.actor)==null?void 0:(c=c.profileSwitcherEligibleProfiles)==null?void 0:c.count)||0;d=(u==null?void 0:(d=u.actor)==null?void 0:(d=d.profileSwitcherEligibleProfiles)==null?void 0:d.nodes.length)?u==null?void 0:(d=u.actor)==null?void 0:(d=d.profileSwitcherEligibleProfiles)==null?void 0:d.nodes[0].profile:null;var w=b("useProfileEngagementClickCallback")({item_type:"more",product_bucket:"profile_switcher",subsurface:"settings_menu",surface:"navigation"}),x=b("gkx")("1475594");t=[x?t:null,{cellProps:{addOnPrimary:d?{shape:"circle",size:36,source:{height:(t=d==null?void 0:(t=d.profile_picture)==null?void 0:t.height)!=null?t:36,scale:(t=d==null?void 0:(t=d.profile_picture)==null?void 0:t.scale)!=null?t:b("WebPixelRatio").get(),uri:(t=d==null?void 0:(t=d.profile_picture)==null?void 0:t.uri)!=null?t:"",width:(d=d==null?void 0:(t=d.profile_picture)==null?void 0:t.width)!=null?d:36},type:"profile-photo"}:null,addOnSecondary:{color:"secondary",icon:b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Mudar de perfil"),level:4,onPress:function(){f(function(a){a=a.onReturn;if(b("cr:1351419")==null)return;w();return k.jsx(b("cr:1351419"),{onClose:e,onReturn:a,query:p})})}},itemKey:"profile-switcher",render:b("gkx")("1351420")&&!x&&c!==0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("497567"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:m?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Configura\u00e7\u00f5es e privacidade"),level:4,onPress:function(){f(function(a){a=a.onReturn;return k.jsx(b("CometSettingsDropdownSettingsAndPrivacy.react"),{onClose:e,onReturn:a,viewer:u})})},testid:"CometSettingsDropdownSettingsAndPrivacy"},itemKey:"settings-privacy-folder",render:b("gkx")("1266082")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("496951"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:m?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Ajuda e suporte"),level:4,onPress:function(){f(function(a){a=a.onReturn;return k.jsx(b("CometSettingsDropdownQuickHelp.react"),{onClose:e,onReturn:a})})}},itemKey:"help-support",render:!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},addOnSecondary:{type:"switch",value:o},headline:h._("Modo escuro"),level:4,onPress:a},itemKey:"dark-mode",render:b("gkx")("1266082")&&!b("qex")._("1402375")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("832941"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:m?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Prefer\u00eancias de exibi\u00e7\u00e3o"),level:4,onPress:function(){f(function(a){a=a.onReturn;return k.jsx(b("CometSettingsDropdownAppearance.react"),{onReturn:a})})}},itemKey:"help-support",render:b("gkx")("1266082")&&b("qex")._("1402375")===!0},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1243988"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:m?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Acessibilidade e prefer\u00eancias"),level:4,onPress:function(){f(function(a){a=a.onReturn;return k.jsx(b("CometSettingsDropdownAccessibility.react"),{onClose:e,onReturn:a})})}},itemKey:"accessibility-settings",render:b("gkx")("1279132")},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("641698"),20),size:36,type:"contained-icon"},body:h._("Volte ao design anterior do Facebook a qualquer momento."),headline:h._("Mudar para o Facebook cl\u00e1ssico"),level:4,onPress:function(){v(),e()}},itemKey:"switch-to-classic-facebook",render:b("qex")._("934317")!=="forced"},b("gkx")("1266082")&&!x?q:null,{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1107405"),20),size:36,type:"contained-icon"},addOnSecondary:{color:"secondary",icon:m?b("fbicon")._(g("492491"),24):b("fbicon")._(g("492539"),24),type:"icon"},headline:h._("Tradu\u00e7\u00e3o"),level:4,onPress:function(){f(function(a){a=a.onReturn;return k.jsx(b("cr:1205224"),{onClose:e,onReturn:a,viewer:u})})}},itemKey:"internationalization",render:b("gkx")("1266082")&&b("cr:1205224")!=null},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("951888"),20),size:36,type:"contained-icon"},dataAttributes:{nocookies:"true"},headline:h._("Sair"),level:4,onPress:function(){s(),e()},testid:"CometLogoutButton"},itemKey:"log-out",render:!0}].filter(function(a){return a==null?void 0:a.render}).filter(Boolean);return k.jsxs(k.Fragment,{children:[k.jsx(b("CometSettingsDropdownHeader.react"),{onClick:e,viewer:u}),k.jsx(b("CometMenuSeparator.react"),{}),k.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:{addOnPrimary:{icon:b("gkx")("678680")?b("fbicon")._(g("530509"),20):b("fbicon")._(g("693172"),20),shape:"circle",size:36,type:"contained-icon"},body:h._("Ajude-nos a melhorar o novo Facebook."),headline:b("gkx")("678680")?h._("Relatar um problema"):h._("Dar feedback"),level:4,onPress:function(){e(),n()}},itemKey:"give-feedback",position:0,selected:!1}),k.jsx(b("CometMenuSeparator.react"),{}),k.jsx("div",{className:"a8nywdso sj5x9vvc rz4wbd8a ecm0bbzt",children:k.jsx(b("TetraList.react"),{items:t,children:function(a){var c,d=a.item,e=d.cellProps;d=d.itemKey;a=a.props;var f=e.addOnSecondary;c=(c=a.key)!=null?c:-1;f=f!=null&&f.value!=null?f.value:!1;return k.jsx(b("CometSettingsDropdownListItem.react"),{cellProps:e,itemKey:d,position:c,selected:f},a.key)}})}),k.jsx("div",{className:"dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:k.jsx(b("CometLegalFooter.react"),{})}),r]})}e.exports=a},null);
__d("CometSettingsDropdown.react",["fbt","CometMultiStepContainer.react","CometPopover.react","CometScrollableArea.react","CometSettingsDropdownList.react","React","qex","stylex"],function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={card:{maxHeight:"t1wsaese",maxWidth:"h77mwsce"},cardWiderWidth:{width:"a98sk6w7"},cardWidth:{width:"o36gj0jk"},root:{marginTop:"knvmm38d"}};function a(a){var c=a.onClose;return i.jsx("div",{className:(h||(h=b("stylex")))(j.root),children:i.jsx(b("CometPopover.react"),{label:g._("Conta"),children:i.jsx(b("CometScrollableArea.react"),{xstyle:[j.card,b("qex")._("1554298")?j.cardWiderWidth:j.cardWidth],children:i.jsx(b("CometMultiStepContainer.react"),{children:function(a){return i.jsx(b("CometSettingsDropdownList.react"),{onClose:c,pushPage:a})}})})})})}e.exports=a},null);
__d("CometLoggedInAccountSwitcherRemoveAccountMutation",["CometRelay","CometLoggedInAccountSwitcherRemoveAccountMutation.graphql"],function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").commitMutation;b("CometRelay").graphql;function a(a,c){var d=c.id;c=c.nonce;function e(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null)return;var b=a.getLinkedRecords("device_switchable_accounts");if(b==null)return;b=b.filter(function(a){if(a==null)return a;var b=a.getLinkedRecord("user");return b==null?a:b.getValue("id")!==d});a.setLinkedRecords(b,"device_switchable_accounts");b=b.find(function(a){if(a==null)return!1;a=a.getValue("unread_notification_count");return typeof a!=="number"?!1:a>0});a.setValue(Boolean(b),"device_switchable_account_has_notification")}return h(a,{mutation:g!==void 0?g:g=b("CometLoggedInAccountSwitcherRemoveAccountMutation.graphql"),optimisticUpdater:e,updater:e,variables:{id:d,nonce:c}})}e.exports={commit:a}},null);
__d("createCometTriggerOptOutHook",["CometRelay","promiseDone"],function(a,b,c,d,e,f){"use strict";var g=b("CometRelay").useRelayEnvironment;function a(a){var c=a.onOptOut,d=a.onOptOutCompleted,e=a.onOptOutError;return function(){var a=g();return function(){b("promiseDone")(c(a),d,e)}}}e.exports=a},null);
__d("CometHomeCreateMenu.react",["ix","fbt","requireCond","CometLeftRailHeader.react","CometMenuSeparator.react","CometRelay","CometScrollableArea.react","CometTopNavListDropdown.react","FundraiserCreateUrlUtils","GroupsCometCreateDialog.entrypoint","QE2Logger","React","StoriesGating","TetraListCell.react","XCometCreateAdControllerRouteBuilder","XCometEventCreateControllerRouteBuilder","XCometGroupsTabControllerRouteBuilder","XCometMarketplaceComposerControllerRouteBuilder","XCometPageCreationControllerRouteBuilder","cr:1465543","fbicon","gkx","logCometFunnelEvent","qex","stylex","useCometEntryPointDialog","useLifeEventsComposerDialog","useTopNavigationLogging","CometHomeCreateMenuQuery.graphql"],function(a,b,c,d,e,f,g,h){"use strict";var i,j;b("CometRelay").graphql;var k=b("CometRelay").useLazyLoadQuery,l=b("FundraiserCreateUrlUtils").getCreateFundraiserUrl,m=b("React");c=b("React");var n=c.useCallback;d=b("React");var o=d.useMemo,p=b("logCometFunnelEvent").logCometFunnelEvent,q=b("logCometFunnelEvent").useLogCometFunnelImpressionEvent,r=b("useTopNavigationLogging").useCreateItemLoggingCallbacks;function s(a){if(a!=="group")return;p("GroupsCometFeedWebFunnelDefinition","[click][lhc][create menu][group]")}function t(a){var c=a.item,d=a.onClose;a=a.position;a=r(c.itemKey,a);var e=a[0];a=a[1];var f=n(function(a){d();if(c.type==="item"){var b=c.cellProps!=null?c.cellProps.onPress:null;b&&b(a)}e();s(c.itemKey)},[c,e,d]);return c.type==="separator"?m.jsx(b("CometMenuSeparator.react"),{}):m.jsx(b("TetraListCell.react"),babelHelpers["extends"]({},c.cellProps,{level:4,onPress:f,ref:a}))}var u={root:{paddingTop:"ecm0bbzt",paddingEnd:"rz4wbd8a",paddingBottom:"sj5x9vvc",paddingStart:"a8nywdso"},scrollableArea:{maxHeight:"t1wsaese",maxWidth:"h77mwsce"},scrollableAreaWiderWidth:{width:"a98sk6w7"},scrollableAreaWidth:{width:"o36gj0jk"}};function a(a){var c=a.onClose,d=a.showComposerDialog;a=b("useCometEntryPointDialog")(b("GroupsCometCreateDialog.entrypoint"),{});var e=a[0];q("GroupsCometFeedWebFunnelDefinition","[impression][lhc][create menu][group]");a=b("useLifeEventsComposerDialog")("COMPOSER");var f=a[0],n=k(i!==void 0?i:i=b("CometHomeCreateMenuQuery.graphql"),{});a=o(function(){var a,i,j;a=(a=n==null?void 0:(a=n.viewer)==null?void 0:a.can_create_page)!=null?a:!1;i=(n==null?void 0:(i=n.viewer)==null?void 0:(i=i.account_user)==null?void 0:i.should_use_page_rename)===!0;var k=b("gkx")("1200132")||((j=b("qex")._("1355800"))!=null?j:!1);j=l(null,"blue_bar_create_menu");return[{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("507172"),20),size:36,type:"contained-icon"},headline:h._("Publicar"),meta:h._("Compartilhe uma publica\u00e7\u00e3o no Feed de Not\u00edcias."),onPress:function(){d()}},itemKey:"post",render:!0,type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("1160717"),20),size:36,type:"contained-icon"},headline:h._("Story"),linkProps:{passthroughProps:{entryPoint:"add_to_story_homebase_shortcut",sourceSurface:"home_screen_shortcut"},target:"_self",url:b("StoriesGating").isAddToStoryEnabled()?b("cr:1465543")==null?void 0:b("cr:1465543").buildURL({}):void 0},meta:h._("Compartilhe uma foto ou texto no seu story.")},itemKey:"story",render:b("StoriesGating").isAddToStoryEnabled(),type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("481240"),20),size:36,type:"contained-icon"},headline:h._("Acontecimento"),meta:i?h._("Adicione um acontecimento \u00e0 sua P\u00e1gina."):h._("Adicione um acontecimento ao seu perfil."),onPress:function(){f()}},itemKey:"life-event",render:!0,type:"item"},{itemKey:"separator",render:!0,type:"separator"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("490492"),20),size:36,type:"contained-icon"},headline:h._("P\u00e1gina"),linkProps:{target:"_self",url:b("XCometPageCreationControllerRouteBuilder").buildURL({ref_type:"comet_home"})},meta:h._("Conecte-se e compartilhe com clientes ou f\u00e3s.")},itemKey:"page",render:a,type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("534262"),20),size:36,type:"contained-icon"},headline:h._("An\u00fancio"),linkProps:{rel:"noopener",target:"_blank",url:b("XCometCreateAdControllerRouteBuilder").buildURL({})},meta:h._("Anuncie sua empresa, marca ou organiza\u00e7\u00e3o.")},itemKey:"ad",render:!0,type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("510947"),20),size:36,type:"contained-icon"},headline:h._("Grupo"),linkProps:{preventLocalNavigation:!k,target:"_self",url:k?b("XCometGroupsTabControllerRouteBuilder").buildURL({category:"create"}):void 0},meta:b("gkx")("1099151")?h._("Conecte-se com pessoas que compartilham seus interesses."):h._("Encontre pessoas com interesses em comum."),onPress:function(a){a.type!=="press"&&a.preventDefault(),b("QE2Logger").logExposureForUser("comet_group_creation_wysiwyg"),k||e({referrer:"LHC_COMET_HOME_CREATE_DROPDOWN"})}},itemKey:"group",render:!0,type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("640913"),20),size:36,type:"contained-icon"},headline:h._("Evento"),linkProps:{url:b("XCometEventCreateControllerRouteBuilder").buildURL({acontext:JSON.stringify({event_action_history:[{mechanism:"surface",surface:"home"}]})})},meta:h._("Re\u00fana as pessoas com um evento p\u00fablico ou privado.")},itemKey:"event",render:!0,type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("556467"),20),size:36,type:"contained-icon"},headline:h._("Classificado do Marketplace"),linkProps:{url:b("XCometMarketplaceComposerControllerRouteBuilder").buildURL({listing_type:"item"})},meta:h._("Venda itens para as pessoas na sua comunidade.")},itemKey:"marketplace-listing",render:b("gkx")("699938"),type:"item"},{cellProps:{addOnPrimary:{icon:b("fbicon")._(g("510954"),20),size:36,type:"contained-icon"},headline:h._("Campanha de arrecada\u00e7\u00e3o de fundos"),linkProps:{target:"_self",url:(i=j)!=null?i:""},meta:h._("Arrecade fundos para uma causa importante para voc\u00ea.")},itemKey:"fundraiser",render:j!=null,type:"item"}].filter(function(a){return a==null?void 0:a.render}).map(function(a,b){return m.jsx(t,{item:a,onClose:c,position:b},a.itemKey)})},[n,c,d,f,e]);return m.jsx(b("CometTopNavListDropdown.react"),{label:h._("Criar"),name:"CreateMenu",children:m.jsx(b("CometTopNavListDropdown.react").Card,{testid:void 0,children:m.jsxs(b("CometScrollableArea.react"),{xstyle:[u.scrollableArea,b("qex")._("1554298")?u.scrollableAreaWiderWidth:u.scrollableAreaWidth],children:[m.jsx(b("CometLeftRailHeader.react"),{title:h._("Criar")}),m.jsx("div",{className:(j||(j=b("stylex")))(u.root),children:a})]})})})}e.exports=a},null);
__d("SketchBase",["Promise","regeneratorRuntime","Alea","Base64","md5","performanceNow","setTimeout"],function(a,b,c,d,e,f){"use strict";var g,h=10,i=16,j=function(){return new(b("Promise"))(function(a){b("setTimeout")(a)})},k=function(){function a(a,c,d){this.seed=a,this.rounds=c,this.rng=b("Alea")(a),this.ctx=d.getContext("2d"),this.width=d.width,this.height=d.height}var c=a.prototype;c.solveAllRoundsAsync=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=Date.now()+h,d=0;case 2:if(!(d<this.rounds)){e.next=11;break}a(d);if(!(Date.now()>c)){e.next=8;break}e.next=7;return b("regeneratorRuntime").awrap(j());case 7:c=Date.now()+h;case 8:d++;e.next=2;break;case 11:case"end":return e.stop()}},null,this)};c.solveAsync=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.solveAllRoundsAsync(this.pickPrimitiveAndDraw.bind(this)));case 2:case"end":return a.stop()}},null,this)};c.solveOnePrimitiveAsync=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.solveAllRoundsAsync(this.getDrawFunction(a)));case 2:case"end":return c.stop()}},null,this)};c.getDrawFunction=function(a){switch(a){case"text":return this.drawText.bind(this);case"bezier":return this.drawBezier.bind(this);case"circle":return this.drawCircle.bind(this);case"emoji":return this.drawEmoji.bind(this);default:return function(){return void 0}}};c.pickPrimitive=function(a){var b=["emoji","circle","bezier","text"];return b[a%b.length]};c.pickPrimitiveAndDraw=function(a){a=this.getDrawFunction(this.pickPrimitive(a));a()};c.drawText=function(){var a=Math.floor(this.rng()*50+100);this.ctx.font=a+"px Arial";var b=Math.floor(this.rng()*100).toString(),c=Math.floor(this.rng()*this.width/2);a=this.rngRange(a*2,this.height-a);this.ctx.fillStyle=this.makeRadialGradient();this.applyShadow();this.ctx.fillText(b,c,a)};c.drawEmoji=function(){var a=Math.floor(this.rng()*50+100);this.ctx.font=a+"px Arial";var b="\ud83d\ude03",c=Math.floor(this.rng()*this.width/2);a=this.rngRange(a*2,this.height-a);this.ctx.fillStyle=this.makeRadialGradient();this.applyShadow();this.ctx.fillText(b,c,a)};c.drawBezier=function(){this.ctx.beginPath();var a=this.rng()*this.width,b=this.rng()*this.height,c=this.rng()*this.width,d=this.rng()*this.height,e=this.rng()*this.width,f=this.rng()*this.height;this.ctx.moveTo(a,b);this.ctx.bezierCurveTo(this.rng()*this.width,this.rng()*this.height,this.rng()*this.width,this.rng()*this.height,c,d);this.ctx.bezierCurveTo(this.rng()*this.width,this.rng()*this.height,this.rng()*this.width,this.rng()*this.height,e,f);this.ctx.bezierCurveTo(this.rng()*this.width,this.rng()*this.height,this.rng()*this.width,this.rng()*this.height,a,b);this.ctx.fillStyle=this.makeRadialGradient();this.applyShadow();this.ctx.fill()};c.drawCircle=function(){this.ctx.beginPath(),this.ctx.arc(this.rng()*this.width,this.rng()*this.height,this.rng()*this.width/5,0,2*Math.PI),this.ctx.fillStyle=this.makeRadialGradient(),this.applyShadow(),this.ctx.fill(),this.ctx.lineWidth=2,this.ctx.strokeStyle=this.makeRadialGradient(),this.ctx.stroke()};c.makeRadialGradient=function(){var a=this.ctx.createRadialGradient(this.rng()*this.width,this.rng()*this.height,0,this.rng()*this.width,this.rng()*this.height,this.width*2);a.addColorStop(0,this.makeColor());a.addColorStop(.5,this.makeColor());a.addColorStop(1,this.makeColor());return a};c.makeColor=function(){var a=Math.floor(this.rng()*255),b=Math.floor(this.rng()*255),c=Math.floor(this.rng()*255);return"rgb("+a+","+b+","+c+")"};c.applyShadow=function(){this.ctx.shadowColor=this.makeColor(),this.ctx.shadowBlur=this.rng()*50,this.ctx.shadowOffsetX=this.rng()*15,this.ctx.shadowOffsetY=this.rng()*15};c.rngRange=function(a,b){var c=Math.min(a,b);a=Math.max(a,b);return this.rng()*(a-c)+c};return a}(),l={createCanvasAndSolveAllPrimitives:function(a,c,d){var e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=document.createElement("canvas");e.width=200;e.height=200;e.style.display="none";f={hash:"",hash_bezier:"",hash_circle:"",hash_emoji:"",hash_text:"",hash2:"",rounds:d,seed:a,seed2:c,time_taken:0};document.body&&document.body.appendChild(e);i.next=8;return b("regeneratorRuntime").awrap(l.solveAsync(e,a,d));case 8:g=i.sent;i.next=11;return b("regeneratorRuntime").awrap(l.solveAsync(e,c,d));case 11:h=i.sent;f.hash=g.hash;f.hash2=h.hash;f.time_taken=g.time_taken+h.time_taken;i.next=17;return b("regeneratorRuntime").awrap(l.solvePrimitive(e,a,d,"text"));case 17:f.hash_text=i.sent;i.next=20;return b("regeneratorRuntime").awrap(l.solvePrimitive(e,a,d,"bezier"));case 20:f.hash_bezier=i.sent;i.next=23;return b("regeneratorRuntime").awrap(l.solvePrimitive(e,a,d,"circle"));case 23:f.hash_circle=i.sent;i.next=26;return b("regeneratorRuntime").awrap(l.solvePrimitive(e,a,d,"emoji"));case 26:f.hash_emoji=i.sent;document.body&&document.body.removeChild(e);return i.abrupt("return",f);case 29:case"end":return i.stop()}},null,this)},encode:function(a){return b("Base64").encode(JSON.stringify(a))},getHash:function(a){return new(b("Promise"))(function(c){b("setTimeout")(function(){c(b("md5")(a.toDataURL()))},i)})},solveAsync:function(a,c,d){var e,f,h,i,j,m;return b("regeneratorRuntime").async(function(n){while(1)switch(n.prev=n.next){case 0:e=new k(c,d,a);e.ctx.clearRect(0,0,e.width,e.height);f=(g||(g=b("performanceNow")))();n.next=5;return b("regeneratorRuntime").awrap(e.solveAsync());case 5:h=(g||(g=b("performanceNow")))();i=parseInt((h-f)*1e3,10);n.next=9;return b("regeneratorRuntime").awrap(l.getHash(a));case 9:j=n.sent;m={hash:j,time_taken:i};return n.abrupt("return",m);case 12:case"end":return n.stop()}},null,this)},solvePrimitive:function(a,c,d,e){var f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:f=new k(c,d,a);f.ctx.clearRect(0,0,f.width,f.height);h.next=4;return b("regeneratorRuntime").awrap(f.solveOnePrimitiveAsync(e));case 4:h.next=6;return b("regeneratorRuntime").awrap(l.getHash(a));case 6:g=h.sent;return h.abrupt("return",g);case 8:case"end":return h.stop()}},null,this)}};e.exports=l},null);
__d("SketchComet",["regeneratorRuntime","JSScheduler","SketchBase","XSISketchResultsControllerRouteBuilder","cometAsyncFetch","recoverableViolation"],function(a,b,c,d,e,f){"use strict";function g(a){b("recoverableViolation")("Sketch."+a+" called unexpectedly. This is not supported in Comet!","comet_infra")}var h={createCanvasAndSolve:function(a,c,d){var e,f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=document.createElement("canvas");e.width=200;e.height=200;e.style.display="none";document.body&&document.body.appendChild(e);i.next=7;return b("regeneratorRuntime").awrap(b("SketchBase").solveAsync(e,a,d));case 7:f=i.sent;i.next=10;return b("regeneratorRuntime").awrap(b("SketchBase").solveAsync(e,c,d));case 10:g=i.sent;h={hash:f.hash,hash2:g.hash,rounds:d,seed:a,seed2:c,time_taken:f.time_taken+g.time_taken};document.body&&document.body.removeChild(e);return i.abrupt("return",h);case 14:case"end":return i.stop()}},null,this)},solveAllPrimitivesAndCallAsyncController:function(a,c,d){var e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:g.next=2;return b("regeneratorRuntime").awrap(b("SketchBase").createCanvasAndSolveAllPrimitives(a,c,d));case 2:e=g.sent,b("JSScheduler").scheduleLoggingPriCallback(function(){f=b("SketchBase").encode(e),b("JSScheduler").scheduleLoggingPriCallback(function(){var a=b("XSISketchResultsControllerRouteBuilder").buildURL({});b("cometAsyncFetch")(a,{data:{skstamp:f},method:"POST",retryCount:2})})});case 4:case"end":return g.stop()}},null,this)},solveAndCallAsyncController:function(a,c,d){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:g("solveAndCallAsyncController");case 1:case"end":return a.stop()}},null,this)},solveAndEncode:function(a,c,d,e){var f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(h.createCanvasAndSolve(a,c,d));case 2:f=i.sent;g=babelHelpers["extends"]({},f,{surface:e});return i.abrupt("return",b("SketchBase").encode(g));case 5:case"end":return i.stop()}},null,this)},solveAndUpdateForm:function(a,c,d,e){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:g("solveAndUpdateForm");case 1:case"end":return a.stop()}},null,this)},solveIntern:function(a,c,d,e){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:g("solveIntern");case 1:case"end":return a.stop()}},null,this)}};e.exports=h},null);
__d("CometSetupNotificationStoreSubscription",["requireDeferred","CometNotificationsReceiveSubscription","CometRelay","JSResource","React","WebPixelRatio","promiseDone","relay-runtime","CometSetupNotificationStoreSubscriptionNewNotification_data.graphql","CometSetupNotificationStoreSubscriptionNewNotificationQuery.graphql"],function(a,b,c,d,e,f){"use strict";var g,h,i=b("requireDeferred")("Banzai"),j=b("CometNotificationsReceiveSubscription").NotificationsReceiveSubscription;b("CometRelay").graphql;var k=b("React"),l=(c=b("relay-runtime")).createOperationDescriptor,m=c.createReaderSelector,n=c.getFragment,o=c.getRequest,p=b("JSResource")("CometToastNotification.react").__setRef("CometSetupNotificationStoreSubscription"),q={data:g!==void 0?g:g=b("CometSetupNotificationStoreSubscriptionNewNotification_data.graphql")};h!==void 0?h:h=b("CometSetupNotificationStoreSubscriptionNewNotificationQuery.graphql");var r="notif_beeper_drop";function a(a,c){var d=q.data;if(d==null)return;d=n(d);var e={input:{client_subscription_id:"notifications:receive:subscription"},scale:b("WebPixelRatio").get()},f=l(o(j),e);d=c.lookup(m(d,"client:root:viewer",e,f.request));var g;e=function(a){g=a};var h={};f=c.subscribe(d,function(c){if(c.isMissingData)return;c=c.data;var d=c.actor,e=c.new_notification;if(d==null||e==null)return;c=a.getState();e.seen_state!=="UNSEEN_AND_UNREAD"&&e.notif_id in h&&((c=c[h[e.notif_id]])==null?void 0:c.shown)!==!0&&(a["delete"](h[e.notif_id]),delete h[e.notif_id]);b("promiseDone")(p.load().then(function(b){if(g!==!0&&e.seen_state==="UNSEEN_AND_UNREAD"){var c=a.push(k.jsx(b,{actor:d,notification:e,onCloseClick:function(){return a.expire(c)}}),5e3);h[e.notif_id]=c}else i.onReady(function(a){var b=e.notif_id,c=e.notif_type;a.post(r,{notification_data:{alert_id:b,logger_context:"beeper",notif_type:c,user_id:d==null?void 0:d.id},ref:"www_tab"})})}))});return{disposable:f,setFilter:e}}e.exports=a},null);
__d("MessengerGraphQLThreadlistFetcher.re",["bs_curry","MessengerGraphQLThreadlistFetcher.bs"],function(a,b,c,d,e,f){a=function(a,c,d,e){a=b("bs_curry")._4(b("MessengerGraphQLThreadlistFetcher.bs").fetchAll,a,c,d,e);return a};f.fetchAll=a},null);
__d("MWMSJewelThreadlistFetcher",["MercuryServerPayloadPreprocessor","MessengerGraphQLThreadlistFetcher.re","MessengerWebGraphQLTypedLogger","promiseDone"],function(a,b,c,d,e,f){"use strict";var g={inbox:!1,other:!1,pending:!1},h={PAGINATION_COUNT:20,_createParams:function(a,b){return a.map(function(a){var c=[a.folder.toUpperCase()];a.filter!=null&&c.push(a.filter);return{filter:a.filter,folder:a.folder,includeDeliveryReceipts:!0,includeSeqID:!1,isWorkUser:!1,limit:b==null?h.PAGINATION_COUNT:h.PAGINATION_COUNT+1,onlyPinnedThreads:!1,tags:c,timestamp:b}})},_loadItems:function(a,c){b("promiseDone")(b("MessengerGraphQLThreadlistFetcher.re").fetchAll(a,c,!1,"fetch_threadlist"),function(c){return b("MercuryServerPayloadPreprocessor").getForFBID(a).handleUpdate(babelHelpers["extends"]({},c,{payload_source:"server_fetch_threadlist_info"}))},function(a){a=typeof a==="object"&&a!==null&&a.errors!=null?a.errors:a;new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(JSON.stringify(a)).setEvent("threadlist_failure").setQueryParams(JSON.stringify(c)).log()})},loadItems:function(a,b,c){h._loadItems(a,h._createParams([{folder:b}],c))},preloadItems:function(a,b,c){g[b]||(g[b]=!0,h._loadItems(a,h._createParams([{folder:b}].concat(c===!0?[{filter:"unread",folder:"pending"}]:[]),null)))}};e.exports=h},null);
__d("MWChatSubscribeToThreadReadCond",["requireCond","cr:1273135"],function(a,b,c,d,e,f){"use strict";a=b("cr:1273135")==null?function(){return function(){}}:b("cr:1273135").subscribe;e.exports={subscribe:a}},null);
__d("MWChatTabPolicy.bs",["bs_curry","MWCount.bs","bs_caml_obj","MercuryIDs","bs_belt_Option","bs_caml_option","CurrentUser","MercuryViewer","killswitch","requireDeferred","MessengerMessage.bs","bs_js_null_undefined","MercuryActionType","MercuryThreadInfo","MessengerWebEvent","MWChatSettingsQuery","MessengerWebStgTypedLoggerLite.bs"],function(a,b,c,d,e,f){"use strict";function g(a,c,d){if(d===0)return b("bs_curry")._1(a,c);else return 0}var h=b("requireDeferred")("MessengerState.bs");function a(a,c,d){var e=function(a){return b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").SUPPRESS_NEW_MESSAGE,extra_data:{reason:a}})},f=function(a){if(b("killswitch")("MESSENGER_WEB_STOP_AUTOMATIC_CHAT_TAB_RAISING")){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},i=function(a){if(b("MessengerMessage.bs").isOutbound(c)){e("message_outgoing");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},j=function(a){b("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){if(!(c==null)&&c){e("turn_off_chat_tab");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)});return 0},k=function(d){if(b("MercuryThreadInfo").isMuted(a))if(b("MercuryThreadInfo").areMentionsMuted(a)){e("mention_muted");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(d,1)}else{var f=b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(b("MercuryViewer").getID())),function(a){return a})),g=c.profile_ranges;g=g==null?[]:g;if(g.some(function(a){return b("bs_caml_obj").caml_equal(a.id,f)}))return b("bs_curry")._1(d,0);else{e("message_thread_muted");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(d,1)}}else return b("bs_curry")._1(d,0)},l=function(a){if(c.action_type!==b("MercuryActionType").USER_GENERATED_MESSAGE){e("message_non_user_generated");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(a,1)}else return b("bs_curry")._1(a,0)},m=function(c){if(a.folder==="inbox")return b("bs_curry")._1(c,0);else{e("message_no_inbox");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(c,1)}},n=function(c){var d=b("CurrentUser").getID();h.onReady(function(f){return b("bs_curry")._2(f.compute,d,function(f){return b("requireDeferred")("MercuryIgnoredBlockedParticipants.bs").onReady(function(g){if(g.isPresentInGroupThread(d,f.blocked_ids,a)){e("message_blocked_participants");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(c,1)}else return b("bs_curry")._1(c,0)})})});return 0},o=function(c){if(a.is_canonical&&a.other_user_fbid===null)return b("requireDeferred")("BanzaiODS").onReady(function(a){a.bumpEntityKey("messenger-chat-tab-policy","message_canonical_contact");e("message_canonical_contact");b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);return b("bs_curry")._1(c,1)});else return b("bs_curry")._1(c,0)};f=[f,[i,[j,[k,[l,[m,[n,[o,0]]]]]]]];if(f){i=function a(c){if(c){var e=c[0],f=a(c[1]);return function(a){return g(e,f,a)}}else return function(a){return g(function(a){return b("bs_curry")._1(d,0)},function(a){return 0},a)}};return b("bs_curry")._1(f[0],i(f[1]))}else return 0}f.proceedIfAllow=g;f.$MessengerState$Deferred=h;f.shouldMessageBeAllowed=a},null);
__d("MercuryNotificationRenderer",["fbt","CurrentUser","MercuryAssert","MercuryIDs","MercuryViewer","MessengerParticipants.bs","MessengerState.bs"],function(a,b,c,d,e,f,g){var h="source:messenger_growth:event_upcoming_bump";function a(a,c){b("MercuryAssert").isThreadID(a),b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),a,function(d){b("MessengerState.bs").getThreadMessagesRange(b("CurrentUser").getID(),a,0,1,function(e){e=e.length&&e[e.length-1];var f=[];e.tags!==void 0&&(f=f.concat(e.tags));e.log_message_data&&(e.log_message_data.message_type=="confirm_friend_request"||e.log_message_data.message_type=="work_invite_claimed")?c(g._("New contact added")):f.indexOf(h)!==-1?c(g._("Voc\u00ea tem um evento futuro.")):e&&e.author!=b("MercuryViewer").getID()?b("MessengerParticipants.bs").get(e.author,function(e){var f=e.short_name,h=d.custom_nickname;if(h){e=b("MercuryIDs").getUserIDFromParticipantID(e.id);h[e]&&(f=h[e])}d.name?c(g._("{senderName} enviou uma mensagem para {groupName}",[g._param("senderName",f),g._param("groupName",d.name)])):b("MercuryIDs").isGroupChat(a)?c(g._("{name} enviou uma mensagem para o seu grupo",[g._param("name",f)])):c(g._("{name} enviou uma mensagem para voc\u00ea",[g._param("name",f)]))}):c(g._("Nova mensagem"))})})}e.exports={renderDocumentTitle:a}},null);
__d("MWChatChatPopperUpper.bs",["FBID.bs","bs_curry","React","MWCount.bs","MercuryIDs","CurrentUser","MWChatConfig.bs","MWChatTabPolicy.bs","requireDeferred","MessengerMessage.bs","MWChatSettingsQuery","recoverableViolation","MercuryThreadInformer","MWChatThreadPingCounter.bs","MercuryNotificationRenderer","MWChatSubscribeToThreadReadCond"],function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("Sound");function i(a){var c=b("MessengerMessage.bs").isInbound(a);if(c)return h.onReady(function(c){c.play([b("MWChatConfig.bs").soundNotifOggUrl,b("MWChatConfig.bs").soundNotifMp3Url],a.timestamp,!1);return 0});else return 0}var j=b("requireDeferred")("MessengerState.bs");function k(a,c,d,e,f){j.onReady(function(g){b("bs_curry")._4(g.getThreadMeta,b("CurrentUser").getID(),c,function(g){return b("MWChatTabPolicy.bs").shouldMessageBeAllowed(g,d,function(h){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.lift,0);b("bs_curry")._1(a,b("bs_curry")._1(f,g));b("MercuryNotificationRenderer").renderDocumentTitle(c,function(a){return b("bs_curry")._2(e,a,d.timestamp)});if(b("MWChatThreadPingCounter.bs").getCount(c)<3){b("MWChatThreadPingCounter.bs").incrementCount(c);b("MWChatSettingsQuery").areChatTabsSoundsOn(function(a){if(!(a==null)&&a)return i(d);else return 0});return 0}else return 0})},null);return 0});return 0}function l(a,c,d){var e=b("MercuryThreadInformer").getForFBID(b("CurrentUser").getID()),f=e.subscribe("new-message",function(a,e){b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.$$process,0);if(e==null)return 0;else{a=e.threadID;e=e.message;a=b("MercuryIDs").tokenize(a);var f=b("FBID.bs").ofStringExn(a.value),g=a.type;switch(g){case"thread":return k(c,b("MercuryIDs").getThreadIDFromThreadFBID(f),e,d,function(a){return[757211935,f]});case"user":return k(c,b("MercuryIDs").getThreadIDFromUserID(f),e,d,function(a){if(a.is_other_recipient_page)return[892012143,f];else return[948354667,f]});default:b("bs_curry")._1(b("MWCount.bs").Comet.NewMessage.reject,0);b("recoverableViolation")("Unknown id type "+a.type,"messenger_comet");return 0}}}),g=b("MWChatSubscribeToThreadReadCond").subscribe(e,d);a.current=function(a){e.unsubscribe(f);b("bs_curry")._1(g,0);return 0};return 0}function a(a,c){var d=g.useRef(void 0);g.useEffect(function(){l(d,c,a);return function(a){a=d.current;if(a!==void 0)return b("bs_curry")._1(a,0);else return 0}},[a,c]);return 0}c=3;f.pingsMaxCount=c;f.soundDeferred=h;f.playSound=i;f.$MessengerState$Deferred=j;f.dispatchOpenTab=k;f.sub=l;f.usePopperUpper=a},null);
__d("MWChatSubscribeToThreadRead",[],function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=a.subscribe("thread-read-changed",function(a,c){a=0;for(var d in c)c[d].mark_as_read&&c[d].timestamp>a&&(a=c[d].timestamp);a>0&&b(null,a)});return function(){a.unsubscribe(c)}};e.exports={subscribe:a}},null);
__d("MWJewelThreadSnippet.react",["React","TetraText.react"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.isUnread;a=a.text;return c?g.jsx(b("TetraText.react"),{color:"highlight",numberOfLines:1,type:"bodyLink4",children:a}):g.jsx(b("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:a})}e.exports=a},null);
__d("MWMSJewelThreadList.react",["Actor","MessengerState.re","MWJewelThreadListInner.react","React"],function(a,b,c,d,e,f){"use strict";var g=b("Actor").useActor,h=b("React");c=b("React");var i=c.useState;function a(a){var c=a.folder,d=babelHelpers.objectWithoutPropertiesLoose(a,["folder"]);a=g();var e=a[0];a=i(!0);var f=a[0],j=a[1];return h.jsx(b("MessengerState.re").jsComponent,{fbid:e,children:function(a){return h.jsx(b("MWJewelThreadListInner.react"),babelHelpers["extends"]({},d,{actor:e,folder:c,isLoading:f,setIsLoading:j}))}})}e.exports=a},null);
__d("AvailableListState",[],function(a,b,c,d,e,f){e.exports=Object.freeze({OFFLINE:0,IDLE:1,ACTIVE:2,MOBILE:3})},null);
__d("PresenceStatusProviderSubscription",["requireDeferred","AvailableListState","CometHomeContactsConfig","CometRelay","CurrentUser","WebPixelRatio","promiseDone","recoverableViolation","relay-runtime","PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery.graphql","PresenceStatusProviderSubscription_ContactProfilesQuery.graphql","PresenceStatusProviderSubscription_rankings.graphql"],function(a,b,c,d,e,f){"use strict";var g,h,i,j=b("CometRelay").fetchQuery;b("CometRelay").graphql;var k=b("CometRelay").readInlineData,l=b("requireDeferred")("FBMqttChannel"),m=b("requireDeferred")("MessengerMQTTPresence"),n=b("relay-runtime").createOperationDescriptor,o=b("relay-runtime").getRequest,p=Object.assign.apply(Object,[{}].concat(Object.entries(b("AvailableListState")).map(function(a){var b,c=a[0];a=a[1];return b={},b[String(a)]=c,b}))),q=g!==void 0?g:g=b("PresenceStatusProviderSubscription_PresenceStatusChatVisibilityQuery.graphql"),r=h!==void 0?h:h=b("PresenceStatusProviderSubscription_ContactProfilesQuery.graphql");function s(a){var b=null,c=l.onReady(function(c){c.subscribe("/legacy_web",function(b){var c=JSON.parse(b);c.type==="privacy_changed"&&a.commitUpdate(function(a){a=a.getRoot();if(a==null)return;a=a.getLinkedRecord("viewer");if(a==null)return;a.setValue(((a=c.data)==null?void 0:a.visibility)===!0,"chat_visibility")})}),b=function(){return c.unsubscribeAll("/legacy_web")}});return{remove:function(){c.remove(),b!=null&&b()}}}function t(a,b,c,d,e){var f=null,g=m.onReady(function(g){g.subscribe({reset:function(){var f=b.current,g={};Object.keys(f).forEach(function(a){delete g[a]});b.current=g;z(a,b.current,c,d,e)},setMultiFromMQTT:function(f){var g=b.current,h=babelHelpers["extends"]({},g);f.forEach(function(a){h[a.u]={last_active_time:a.l,status:a.p}});b.current=h;z(a,b.current,c,d,e)}}),f=function(){return g.unsubscribe()}});return{remove:function(){g.remove(),f!=null&&f()}}}function u(a,b,c,d,e){var f,g=o(q);g=n(g,{});g=a.lookup(g.fragment);f=(f=g.data)==null?void 0:f.viewer;var h=typeof f==="object"?f==null?void 0:f.chat_visibility:null;d.current=!!h;f=a.subscribe(g,function(f){f=f.data;f=f==null?void 0:f.viewer;if(typeof f!=="object"||f==null)return;var g=f==null?void 0:f.presence_view_side_settings;if(typeof g==="object"&&g!=null&&g.has_converted_to_view_side_settings===!0)return;g=f.chat_visibility;h!=null&&g!==h&&z(a,b.current,c,d,e);h=g});return f}var v={height:36,scale:b("WebPixelRatio").get(),width:36},w=function(a,c,d){if(c.size===0)return;b("promiseDone")(j(d,r,{ids:Array.from(c),scale:b("WebPixelRatio").get()}).toPromise().then(function(c){var e=(c==null?void 0:c.nodes)||[];d.commitUpdate(function(c){e.forEach(function(d){var e,f=d==null?void 0:d.id;if(f==null)return;var g=c.get(f);g==null&&(g=c.create(f,"User"));var h=d==null?void 0:d.name;if(h==null)return b("recoverableViolation")("ContactProfilesQuery return empty name for user "+f,"messenger_comet");g.setValue(h,"name");h=g.getOrCreateLinkedRecord("profile_picture","Image",v);e=d==null?void 0:(e=d.profile_picture)==null?void 0:e.uri;if(e==null)return b("recoverableViolation")("ContactProfilesQuery return empty profileUri for user "+f,"messenger_comet");h.setValue(d==null?void 0:(e=d.profile_picture)==null?void 0:e.uri,"uri");g.setLinkedRecord(h,"profile_picture",v);a.push(g)}),y(c,a)})}))},x=function(a,c,d,e){a.commitUpdate(function(f){if(d==null)return;var g=new Set(Object.keys(c).filter(function(a){return b("CurrentUser").getID()!==a&&((a=c[a])==null?void 0:a.status)===2})),h=d.filter(function(a){var b=a.buddy_id;a=a.status;return a==null||b==null?!1:((b=e.current?(b=c[b])==null?void 0:b.status:0)!=null?b:0)===a}).map(function(a){a=(a=a.user)==null?void 0:a.id;if(a==null)return null;g["delete"](a);return f.get(a)}).filter(Boolean);g.size>0&&(g.forEach(function(a){var b=f.get(a);if(b!=null&&b.getValue("name")!=null){var c=b.getLinkedRecord("profile_picture",v);c!=null&&c.getValue("uri")!=null&&(h.push(b),g["delete"](a))}}),w(h,g,a));y(f,h)})};function y(a,c){a=a.getRoot().getLinkedRecord("viewer");if(a==null){b("recoverableViolation")("Viewer should not be null here, something has gone horribly wrong","messenger_web_product");return}a.setLinkedRecords(c,"chat_sidebar_contacts",{count:b("CometHomeContactsConfig").numContactsToFetch})}function z(a,b,c,d,e){a.commitUpdate(function(a){var e=a.getRoot();if(e==null)return;e=e.getLinkedRecord("viewer");if(e==null)return;var f=e.getLinkedRecord("presence_view_side_settings"),g=f!=null&&f.getValue("has_converted_to_view_side_settings")===!0||e.getValue("chat_visibility")===!0;d.current=g;f=Object.keys(b);f.forEach(function(c){var d,e;d=(d=b[c])==null?void 0:d.status;e=(e=b[c])==null?void 0:e.last_active_time;d=d==null?null:p[String(d)];var f=a.get(c);f==null&&d==="ACTIVE"&&(f=a.create(c,"User"));f!=null&&(f.setValue(d==="ACTIVE"&&g?d:null,"availability"),!g?f.setValue(null,"last_active_time"):e!==0&&e!=null&&f.setValue(e,"last_active_time"))});c()}),x(a,b,e,d)}e.exports={init:function(a,c,d,e,f){f=f!=null?f.map(function(a){return k(i!==void 0?i:i=b("PresenceStatusProviderSubscription_rankings.graphql"),a)}):null;var g=s(a),h=t(a,c,d,e,f),j=u(a,c,d,e,f);return{remove:function(){h.remove(),g.remove(),j.dispose()}}}}},null);
__d("PresenceStatusProviderSubscriptionComponent.react",["CometRelay","PresenceStatusProviderSubscription","React","WebPixelRatio","PresenceStatusProviderSubscriptionComponentQuery.graphql"],function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery,i=b("CometRelay").useRelayEnvironment;c=b("React");var j=c.useEffect,k=function(){return h(g!==void 0?g:g=b("PresenceStatusProviderSubscriptionComponentQuery.graphql"),{scale:b("WebPixelRatio").get()})};function a(a){var c=k(),d=(c=c==null?void 0:(c=c.viewer)==null?void 0:c.chat_sidebar_contact_rankings)!=null?c:null,e=i();j(function(){var c=b("PresenceStatusProviderSubscription").init(e,a.presenceMap,a.presenceInformer,a.chatVisibilityRef,d);return function(){c.remove()}},[e,a.presenceInformer,a.presenceMap,d,a.chatVisibilityRef]);return null}e.exports=a},null);
__d("MWJewelDropdownHeaderSeeAllButton.react",["ix","fbt","CometTooltip.react","React","TetraCircleButton.react","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=h._("Ver tudo no Messenger");return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("580260"),20),label:c,linkProps:{url:a.url},onPress:a.onClose,size:32,type:"deemphasized"})})}e.exports=a},null);
__d("MWJewelDropdownHeader.react",["ix","fbt","CometEntryPointPopoverTrigger.react","CometHomeChatSettings.entrypoint","CometProgressRingIndeterminate.react","CometTooltip.react","CometTopNavListDropdown.react","MeetupExperiments","MWChatOpenNewTab.re","MWJewelDropdownHeaderSeeAllButton.react","React","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","fbicon","stylex","useMWChatNewVideoChat","useShouldShowMessagingEntrypoint"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function j(a){a=a.onOpenMessageRequests;var c=h._("Op\u00e7\u00f5es");return i.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenMessageRequests:(a=a)!=null?a:void 0},popoverEntryPoint:b("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,d,e,f,h,j){return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("484387"),20),label:c,onHoverIn:f,onHoverOut:h,onPress:d,onPressIn:j,ref:a,size:32,type:"deemphasized"})})}})}function a(a){var c=b("useShouldShowMessagingEntrypoint")("CHAT"),d=b("MWChatOpenNewTab.re").useHook("jewel_new_message"),e=b("useMWChatNewVideoChat")(a.onClose),f=e[0];e=e[1];var k=b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),l=function(){c&&(d(),a.onClose())},m=h._("Nova mensagem"),n=h._("Criar nova sala");return i.jsx(b("CometTopNavListDropdown.react").Title,{actions:[i.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.inboxUrl}),b("MeetupExperiments").supportLinkCreation()?i.jsx(b("CometTooltip.react"),{align:"end",tooltip:n,children:e?i.jsx("div",{className:"k7cz35w2 j83agx80 bp9cbjyn",children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("1388374"),20),label:n,onPress:f,size:32,type:"deemphasized"})}):null,i.jsx(b("CometTooltip.react"),{align:"end",tooltip:m,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("507170"),16),label:m,linkProps:{preventLocalNavigation:c,url:k},onPress:l,size:32,type:"deemphasized"})}),i.jsx(j,{onOpenMessageRequests:a.onOpenMessageRequests})].filter(Boolean),onReturn:a.onReturn,title:a.title})}e.exports=a},null);
__d("MWJewelMessageRequestsDropdownHeader.react",["CometTopNavListDropdown.react","MWJewelDropdownHeaderSeeAllButton.react","React"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("CometTopNavListDropdown.react").Title,{actions:[g.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.url})],onReturn:a.onReturn,title:a.title})}e.exports=a},null);
__d("MWJewelMessengerLink.react",["fbt","CometLink.react","React","TetraText.react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.onClick;a=a.url;return h.jsx("div",{className:"pzdrnzhu ihqw7lf3 jyxxhhb5",children:h.jsx(b("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:h.jsx(b("CometLink.react"),{href:a,onClick:c,children:g._("Ver tudo no Messenger")})})})}e.exports=a},null);
__d("MWJewelMessageRequestsDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","MWMSJewelThreadList.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.onClose,d=a.onOpenSpamMessages;a=a.onReturn;var e=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/requests/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("Solicita\u00e7\u00f5es"),url:e}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("Abra uma solicita\u00e7\u00e3o para obter informa\u00e7\u00f5es sobre quem est\u00e1 enviando uma mensagem para voc\u00ea. Ele n\u00e3o saber\u00e1 que voc\u00ea viu a mensagem at\u00e9 voc\u00ea responder.")})}),h.jsx(b("MWMSJewelThreadList.react"),{folder:"pending",onClose:c,onOpenSpamMessages:d})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:e})]})}e.exports=a},null);
__d("MWJewelSpamMessagesDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","MWMSJewelThreadList.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.onClose;a=a.onReturn;var d=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/filtered/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("Spam"),url:d}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("Abra uma solicita\u00e7\u00e3o para obter informa\u00e7\u00f5es sobre quem est\u00e1 enviando uma mensagem para voc\u00ea. Ele n\u00e3o saber\u00e1 que voc\u00ea viu a mensagem at\u00e9 voc\u00ea responder.")})}),h.jsx(b("MWMSJewelThreadList.react"),{folder:"other",onClose:c})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:d})]})}e.exports=a},null);
__d("useMWJewelThreadListSearchTypeahead.react",["MWJewelSearchTypeahead.react","React","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback;function a(a,c,d,e){var f=b("useMWChatOpenTabForGroup")("jewel_search"),i=f[0];f[1];var j=b("useMWChatOpenTabForPage")("jewel_search");f=b("useMWChatOpenTabForUser")("jewel_search");var k=f[0];f[1];f=h(function(a){a=a.getRawData();var b=a.id;a=a.resultType;switch(a){case"group":i(b);break;case"user":k(b);break;case"page":j(b);break}e()},[e,i,j,k]);return g.jsx(b("MWJewelSearchTypeahead.react"),{onBlur:function(){return a(!1)},onChange:c,onFocus:function(){return a(!0)},onPressEntry:f,queryString:d})}e.exports=a},null);
__d("MWJewelDropdown.react",["fbt","requireCond","CometMultiStepContainer.react","CometScrollView.react","CometTopNavListDropdown.react","MWJewelDropdownHeader.react","MWJewelMessageRequestsDropdown.react","MWJewelMessengerLink.react","MWJewelSpamMessagesDropdown.react","cr:1485119","MWUIJewelPreloadThreadFolder.re","cr:1525945","React","XCometMessengerControllerRouteBuilder","qex","stylex","useMWJewelThreadListSearchTypeahead.react"],function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");c=b("React");var j=c.useState;function a(a){var c=a.onClose;a=j(!1);var d=a[0];a=a[1];var e=j(""),f=e[0];e=e[1];var k=b("XCometMessengerControllerRouteBuilder").buildURL({}),l=b("useMWJewelThreadListSearchTypeahead.react")(a,e,f,c),m=b("MWUIJewelPreloadThreadFolder.re").useHook();a=i.jsx("div",{className:(h||(h=b("stylex")))([b("qex")._("1554298")?b("CometTopNavListDropdown.react").styles.cardWiderWidth:b("CometTopNavListDropdown.react").styles.cardWidth]),children:i.jsx(b("CometMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){var e=function(){return a(function(a){a=a.onReturn;return i.jsx(b("MWJewelSpamMessagesDropdown.react"),{onClose:c,onReturn:a})})},h=function(){m("other"),a(function(a){a=a.onReturn;return i.jsx(b("MWJewelMessageRequestsDropdown.react"),{onClose:c,onOpenSpamMessages:e,onReturn:a})})};return i.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[i.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!d&&f==="",children:[i.jsx(b("MWJewelDropdownHeader.react"),{inboxUrl:k,onClose:c,onOpenMessageRequests:h,title:g._("Messenger")}),i.jsx(b("cr:1525945"),{folder:"inbox",onClose:c,onOpenMessageRequests:h,searchTypeahead:l})]}),i.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:k})]})}})});return i.jsx(b("CometTopNavListDropdown.react"),{label:g._("Messenger"),name:"MWJewelDropdown",children:b("cr:1485119")?i.jsx(b("cr:1485119"),{children:a}):a})}e.exports=a},null);
__d("MWJewelSpamMessagesThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.spamMessagesCount,d=a.loadedAll;a=a.onOpenSpamMessages;var e=h._("Ver spam");d=d?h._("{number} solicita\u00e7\u00f5es",[h._param("number",c)]):h._("{number}+ solicita\u00e7\u00f5es",[h._param("number",c)]);return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!1,text:d}),headline:e,level:4,onPress:a})}e.exports=a},null);
__d("MWJewelMessageRequestsThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.onOpenMessageRequests,d=a.otherParticipantName;a=a.unreadRequestsCount;var e=h._({"*":"Novas solicita\u00e7\u00f5es de mensagem","_1":"Nova solicita\u00e7\u00e3o de mensagem"},[h._plural(a)]),f=h._({"someone":"De algu\u00e9m que voc\u00ea talvez conhe\u00e7a","people":"De pessoas que voc\u00ea talvez conhe\u00e7a"},[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]);d!=null&&(a===1?f=h._("De {name}",[h._param("name",d)]):f=h._("De {name} e outras {count} pessoas",[h._param("name",d),h._param("count",a-1)]));return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:c})}e.exports=a},null);
__d("RTWebCallBlockSettingHooks",["CometRelay","DateConsts","React","RTWebCallBlockedSettingSubscription","RTWebPreCallContext","ServerTime","promiseDone","RTWebCallBlockSettingHooksQuery.graphql"],function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").getActorID;b("CometRelay").graphql;var i=b("CometRelay").useRelayEnvironment;c=b("React");var j=c.useContext,k=c.useEffect,l=c.useState,m=b("RTWebCallBlockedSettingSubscription").subscribe,n=6e4,o=g!==void 0?g:g=b("RTWebCallBlockSettingHooksQuery.graphql"),p=function(a,b){return function(c){c=c.getRoot();if(c==null)return;c=c.getLinkedRecord("viewer");if(c==null)return;c.setValue(b,a)}};function q(a){return a===-1?a:(a||0)*b("DateConsts").MS_PER_SEC}function r(){var a=i(),c=h(a),d=l(-1),e=d[0],f=d[1];k(function(){var d=b("CometRelay").fetchQuery(a,o,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer;a!=null&&f(q(a.call_blocked_until))});b("promiseDone")(d);var e=m(a,{viewer_id:c},function(b){b=b==null?void 0:b.rtweb_call_blocked_setting_subscribe;b!=null&&(f(q(b.call_blocked_until)),a.commitUpdate(p("call_blocked_until",b.call_blocked_until)))});return function(){e.dispose()}},[a,c]);return e}function s(){var a=r(),c=b("ServerTime").getMillis(),d=a<0,e=a>c;c=l(d||e);var f=c[0],g=c[1];(d||e)!==f&&g(d||e);k(function(){if(e){var c=window.setInterval(function(){a<=b("ServerTime").getMillis()&&(g(!1),window.clearInterval(c))},n);return function(){window.clearInterval(c)}}},[a,e]);return f}function a(){var a=j(b("RTWebPreCallContext")),c=s();k(function(){a!=null&&a.callInviteModel.startListening({callsBlocked:c})},[a,c])}e.exports={useCallBlockSetting:a,useCallBlockSettingValue:r,useHasCallsBlocked:s}},null);
__d("showDesktopNotification",["MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","ZenonUserActionLogger"],function(a,b,c,d,e,f){"use strict";var g=8e3;function a(){return function(a){var c=a.acceptCall,d=a.body,e=a.icon;a=a.title;var f={body:d,closeTime:g,icon:e,onClick:function(){b("ZenonUserActionLogger").logClick({component:"browser_notification",surface:"desktop_notification"}),window.focus(),c({trigger:"desktop_notification"})},onShow:function(){b("ZenonUserActionLogger").logImpression({component:"browser_notification",surface:"desktop_notification"})},title:a};if(b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DEFAULT){b("MessengerDesktopNotifications").requestPermission(function(){b("MessengerDesktopNotifications").showNotification(f)});return}b("MessengerDesktopNotifications").showNotification(f)}}e.exports=a},null);
__d("RTWebCallInviteDesktopNotification.react",["fbt","React","RTWebPreCallHooks","ZenonUsersHooks","showDesktopNotification","usePrevious"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.invite;return(a==null?void 0:a.type)==="ringing"?h.jsx(i,{invite:a}):null}function i(a){a=a.invite;var c=b("showDesktopNotification")(),d=b("usePrevious")(a.ringID),e=b("RTWebPreCallHooks").useAcceptCallCallback(),f=b("ZenonUsersHooks").useZenonUser(a.inviterID),g=a.requestingVideo,h=a.participants.length>1;if(d!==a.ringID&&f!=null){c({acceptCall:e,body:k(f.shortName),icon:(d=f.profilePictureUrl)!=null?d:null,title:j(g,h)})}return null}function j(a,b){if(!b)return a?g._("Recebendo um bate-papo de v\u00eddeo"):g._("Liga\u00e7\u00e3o recebida");else return a?g._("Bate-papo de v\u00eddeo em grupo recebido"):g._("Liga\u00e7\u00e3o em grupo recebida")}function k(a){return g._("{caller name} est\u00e1 ligando. Clique para atender.",[g._param("caller name",a)])}e.exports=a},null);
__d("StartVideoChatLinkCall",["FBLogger","MeetupExperiments","RelayFBDefaultEnvironment","RTWebPreCallContextSingleton","URI","XGroupCallController","randomZenonCallID","randomZenonNonce"],function(a,b,c,d,e,f){"use strict";var g,h=b("MeetupExperiments").supportAutoJoinWithNonce,i=b("RTWebPreCallContextSingleton").create({relayEnvironment:b("RelayFBDefaultEnvironment")});a={startCall:function(a,c){c===void 0&&(c=!1);if(i){var d=i.callWindowController,e=i.incomingRingSDK,f="",g=a,j=b("randomZenonCallID")();if(c&&h()){c=this._tryGetVCLHash(a);f=b("randomZenonNonce")();g=this._createGroupCallURL(c,f)}a=d.initCall({context:{callID:j,intent:"start or join",invitees:[],existingCall:null},mediaType:"video",nonce:f,joinContext:{linkUrl:g,type:"link"}});c=a[0];a[1];h()&&e.startCallIntent(f,{callID:j,callTrigger:"meetup_join",isPopupBlocked:c===null,isVideo:!0,peerID:"MW_PEER_ID",protocol:"mw"});return c}else return null},_tryGetVCLHash:function(a){var c=new(g||(g=b("URI")))(a),d=c.getDomain();c=c.stripTrailingSlash().getPath();if(d==="msngr.com")return c.substring(1);if(d==="m.me"&&/^\/v(id)?\//.test(c))return c.replace(/^\/v(id)?\//,"");b("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return null},_createGroupCallURL:function(a,c){a=b("XGroupCallController").getURIBuilder().setString("call_context","LINK:"+a).setString("nonce",c).getURI().getQualifiedURI();return a.setDomain(a.getDomain().replace(/\w+\.com/,"messenger.com")).toString()}};e.exports=a},null);
__d("ZenonDialogContext",["React","emptyFunction"],function(a,b,c,d,e,f){"use strict";a=b("React");d=a.createContext({hide:c=b("emptyFunction"),hideAll:c,hideByID:c,show:c,showByID:c,toggle:c});e.exports=d},null);
__d("useRTWebIncomingCallDialog",["ix","fbt","requireCond","requireDeferred","cr:1568669","React","RTWebPreCallContext","ZenonDialogContext","ZenonUserActionLogger","deferredLoadComponent","emptyFunction","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";c=b("React");var i=c.useCallback,j=c.useContext,k=b("deferredLoadComponent")(b("requireDeferred")("RTWebCometIncomingCallContent.react")),l=b("deferredLoadComponent")(b("requireDeferred")("RTWebCometCallDialog.react")),m=b("React"),n=b("cr:1568669")?b("cr:1568669").addPoint:b("emptyFunction");function a(){var a=j(b("ZenonDialogContext")),c=a.hide,d=a.show;a=j(b("RTWebPreCallContext"));var e=a?a.callInviteModel:null;return i(function(a){var f,i=a.inviterID,j=a.isVideoCall,p=a.onAccept,q=a.onDecline;a=a.participantIDs;b("ZenonUserActionLogger").logImpression({surface:"incoming_call_dialog"});n(64225282,"render_dialog",{instanceKey:+(e==null?void 0:(f=e.getCurrentInvite())==null?void 0:f.ringID)});d(m.jsx(l,{acceptIcon:j?b("fbicon")._(g("493173"),16):b("fbicon")._(g("558160"),16),acceptLabel:h._("Aceitar"),acceptTestid:"answerCallButton",body:m.jsx(k,{inviterID:i,isVideoCall:j,participantIDs:a}),declineLabel:h._("Recusar"),onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"accept_button":"decline_button",surface:"incoming_call_dialog"});c();return a?p():q()},title:o(j,a.length>1)}));return{dismiss:c}},[e,c,d])}function o(a,b){if(!b)return a?h._("Recebendo um bate-papo de v\u00eddeo"):h._("Liga\u00e7\u00e3o recebida");else return a?h._("Bate-papo de v\u00eddeo em grupo recebido"):h._("Liga\u00e7\u00e3o em grupo recebida")}e.exports=a},null);
__d("useRTWebIncomingUnsupportedBrowserDialog",["fbt","requireCond","CometCardedDialogLoadingState.react","CometPlaceholder.react","JSResource","MessengerDesktopUpsellLinks","cr:1453546","React","TetraContextRowExternalLink.react","ZenonDialogContext","ZenonUserActionLogger","lazyLoadComponent"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");c=b("React");var i=c.useCallback,j=c.useContext,k=b("lazyLoadComponent")(b("JSResource")("RTWebCometUnsupportedBrowserContent.react").__setRef("useRTWebIncomingUnsupportedBrowserDialog")),l=b("lazyLoadComponent")(b("JSResource")("RTWebCometCallDialog.react").__setRef("useRTWebIncomingUnsupportedBrowserDialog"));function m(a){var c=a.hide,d=a.inviterID,e=a.isVideoCall,f=a.onClose,i=a.participantIDs;a=a.threadType;var j=b("MessengerDesktopUpsellLinks").getDesktopUpsellLinkIfEnabledForCalls();return j!=null&&b("cr:1453546")!=null?h.jsx(b("cr:1453546"),{desktopAppstoreLink:j,hideDialog:function(){c(),f()},incomingUserID:d,isGroupCall:a===2,onUnmount:function(a){a||(c(),f())}}):h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("CometCardedDialogLoadingState.react"),{}),children:h.jsx(l,{acceptLabel:g._("Instalar Chrome"),body:h.jsx(k,{inviterID:d,mainMessage:g._("Baixe o Chrome para participar"),participantIDs:i,subMessage:g._("Este recurso n\u00e3o \u00e9 aceito pelo seu navegador. Instale o {link to install chrome} para usar todos os recursos de bate-papo de v\u00eddeo e liga\u00e7\u00e3o de \u00e1udio do Messenger.",[g._param("link to install chrome",n(f))])}),declineLabel:g._("Agora n\u00e3o"),onClose:function(a){a&&window.open("https://www.google.com/chrome/index.html","_blank"),c(),f()},title:g._("Liga\u00e7\u00e3o recebida de {Unsupported feature name}",[g._param("Unsupported feature name",o(a,e))])})})}function a(){var a=j(b("ZenonDialogContext")),c=a.hide,d=a.show;return i(function(a){b("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"});a=babelHelpers["extends"]({},a,{hide:c});d(h.jsx(m,babelHelpers["extends"]({},a)));return{dismiss:c}},[c,d])}function n(a){return h.jsx(b("TetraContextRowExternalLink.react"),{linkProps:{target:"_blank",url:"https://www.google.com/chrome/index.html"},onPress:a,children:g._("Chrome")})}function o(a,b){if(a===2)return b?"Group Video Chat":"Group Audio Call";else return b?"Video Chat":"Audio Call"}e.exports=a},null);
__d("useRTWebMissedCallDialog",["ix","fbt","CometCardedDialogLoadingState.react","CometPlaceholder.react","JSResource","React","ZenonDialogContext","ZenonUserActionLogger","lazyLoadComponent","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useCallback,k=c.useContext,l=b("lazyLoadComponent")(b("JSResource")("RTWebCometMissedCallContent.react").__setRef("useRTWebMissedCallDialog")),m=b("lazyLoadComponent")(b("JSResource")("RTWebCometCallDialog.react").__setRef("useRTWebMissedCallDialog"));function a(){var a=k(b("ZenonDialogContext")),c=a.hide,d=a.show;return j(function(a){var e=a.inviterID,f=a.isVideoCall,j=a.onCallback,k=a.participantIDs;a=a.timeMissed;b("ZenonUserActionLogger").logImpression({surface:"missed_call_dialog"});d(i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(b("CometCardedDialogLoadingState.react"),{}),children:i.jsx(m,{acceptIcon:f?b("fbicon")._(g("493173"),16):b("fbicon")._(g("558160"),16),acceptLabel:h._("Retornar liga\u00e7\u00e3o"),body:i.jsx(l,{inviterID:e,isVideoCall:f,participantIDs:k,timeMissed:a}),declineLabel:h._("Fechar"),onClose:function(a){b("ZenonUserActionLogger").logClick({component:a?"call_back":"close_dialog",surface:"missed_call_dialog"});a&&b("ZenonUserActionLogger").logClick({component:"start_call_button",surface:"missed_call_dialog"});c();return a?j():void 0},title:n(f,k.length>1)})}));return{dismiss:c}},[c,d])}function n(a,b){if(!b)return a?h._("Bate-papo de v\u00eddeo perdido"):h._("Liga\u00e7\u00e3o perdida");else return a?h._("Bate-papo de v\u00eddeo em grupo perdido"):h._("Liga\u00e7\u00e3o em grupo perdida")}e.exports=a},null);
__d("useRoomIncomingCallDialog",["ix","fbt","requireDeferred","React","VideoChatLinksUserActionsMultiplexLogger","ZenonDialogContext","deferredLoadComponent","fbicon"],function(a,b,c,d,e,f,g,h){"use strict";c=b("React");var i=c.useCallback,j=c.useContext,k=b("deferredLoadComponent")(b("requireDeferred")("RTWebRoomIncomingCallContent.react")),l=b("deferredLoadComponent")(b("requireDeferred")("RTWebCometCallDialog.react")),m=b("React");function a(){var a=j(b("ZenonDialogContext")),c=a.hide,d=a.show;return i(function(a){var e=a.inviterID,f=a.linkUrl,i=a.onAccept,j=a.onDecline,n=a.participantIDs;a=a.roomName;new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_received").setVideoCallLinkURLRaw(f).log();d(m.jsx(l,{acceptIcon:b("fbicon")._(g("493173"),16),acceptLabel:h._("Aceitar"),acceptTestid:"answerCallButton",body:m.jsx(k,{inviterID:e,participantIDs:n,roomName:a}),declineLabel:h._("Recusar"),onClose:function(a){new(b("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent(a?"room_ringback_accepted":"room_ringback_declined").setVideoCallLinkURLRaw(f).log();c();return a?i():j()},title:h._("Liga\u00e7\u00e3o recebida na sala")}));return{dismiss:c}},[c,d])}e.exports=a},null);
__d("useZenonDialogController",["React","usePrevious"],function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=c.useState;function a(a,c){var d=h(null),e=d[0],f=d[1],i=b("usePrevious")(a);g(function(){if((a==null?void 0:a.ringID)===(i==null?void 0:i.ringID)&&(a==null?void 0:a.type)===(i==null?void 0:i.type))return;e&&(e.dismiss(),f(null));if(a===null)return;f(c())},[e,a,i,c]);return e}e.exports=a},null);
__d("RTWebCometCallInviteDialogs.react",["Actor","React","RTWebPreCallContext","RTWebPreCallHooks","ServerTime","StartVideoChatLinkCall","useRoomIncomingCallDialog","useRTWebIncomingCallDialog","useRTWebIncomingUnsupportedBrowserDialog","useRTWebMissedCallDialog","useZenonDialogController"],function(a,b,c,d,e,f){"use strict";var g=b("Actor").useActor;c=b("React");var h=c.useContext,i=b("RTWebPreCallHooks").useAcceptCallCallback,j=b("RTWebPreCallHooks").useStartCallCallback;function a(a){var c=a.invite;a=g();var d=a[0];a=h(b("RTWebPreCallContext"));var e=b("useRTWebIncomingCallDialog")(),f=b("useRoomIncomingCallDialog")(),k=b("useRTWebMissedCallDialog")(),l=b("useRTWebIncomingUnsupportedBrowserDialog")(),m=i(),n=j(),o=a?a.callInviteModel:null;b("useZenonDialogController")(c,function(){if(c===null||o==null)return null;if(c.context.type==="room"){var a=c.context.room;return f({inviterID:c.inviterID,linkUrl:a.linkHash,onAccept:function(){b("StartVideoChatLinkCall").startCall(a.linkHash,!0)},onDecline:function(){o.decline("IgnoreCall")},participantIDs:c.participants,roomName:a.roomName})}switch(c.type){case"ringing":return e({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onAccept:function(){m({trigger:"comet_incoming_dialog_accept_button"})},onDecline:function(){o.decline("IgnoreCall")},participantIDs:c.participants});case"missed":if(c.context.type==="thread"){var g=c.context.thread;return k({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onCallback:function(){n({existingCall:null,invitees:[c.inviterID].concat(c.participants.filter(function(a){return a!==d})),mediaType:c.requestingVideo?"video":"audio",thread:g,trigger:"comet_missed_call_dialog"}),o.dismiss()},participantIDs:c.participants,timeMissed:new Date(b("ServerTime").getMillis())})}return null;case"unsupported_browser":return l({inviterID:c.inviterID,isVideoCall:c.requestingVideo,onClose:function(){o.dismiss()},participantIDs:c.participants,threadType:c.context.type==="thread"?c.context.thread.type:2});default:return null}});return null}e.exports=a},null);
__d("SoundPlayer",["BanzaiODS","URI","createArrayFromMixed"],function(a,b,c,d,e,f){"use strict";var g,h=new Map();function i(a){var c=new(g||(g=b("URI")))(a);return c.getDomain()?a:new(g||(g=b("URI")))(window.location.href).setPath(c.getPath()).toString()}function j(a){a=new(g||(g=b("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var k={preload:function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(h.has(e))return;var f=document.createElement("audio");if(!f||!f.canPlayType||!f.canPlayType(j(e)))continue;f.preload="auto";f.src=i(e);document.body&&document.body.appendChild(f);h.set(e,f);return}},play:function(a,c){c===void 0&&(c={});for(var a=b("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h.has(f)||k.preload(f);f=h.get(f);if(!f)continue;c.loop&&f.setAttribute("loop","");c.volume&&(f.volume=c.volume);f=f.play();f!=null&&typeof f.then==="function"?f.then(function(a){b("BanzaiODS").bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){b("BanzaiODS").bumpEntityKey(2966,"sound_player","play.error")}):b("BanzaiODS").bumpEntityKey(2966,"sound_player","non_promise");return}},pause:function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=h.get(e);if(e){e.pause();return}}},stop:function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=h.get(e);f&&(f.pause(),f.removeAttribute("src"),f.src=i(e))}}};e.exports=k},null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a},null);
__d("SoundRPC",["requireCond","cr:950105","FBJSON","SecurePostMessage","SoundSynchronizer"],function(a,b,c,d,e,f){function g(a,c,d){b("SoundSynchronizer").play(a,c,d)}a={playLocal:g,playRemote:function(a,c,d,e){c={name:"SoundRPC",data:{paths:c,sync:d,loop:e}};b("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,b("FBJSON").stringify(c))},supportsRPC:function(){return!!window.postMessage},_listen:function(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var c={};try{a=a.data;typeof a==="string"&&(c=b("FBJSON").parse(a))}catch(a){}a=c;c=a.name;a=a.data;c==="SoundRPC"&&a!=null&&typeof a==="object"&&g(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}};e.exports=a},null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],function(a,b,c,d,e,f){var g,h=null,i=!1;c={init:function(a){},play:function(a,c,d){h?b("SoundRPC").playRemote(h.contentWindow,a,c,!1):b("SoundRPC").playLocal(a,c,d),i=!0},hasPlayedSoundBefore:function(){return i},playOnlyIfImmediate:function(a,c,d){if(!i&&b("Visibility").isHidden())return;this.play(a,c,d)},stop:function(a){h||b("SoundPlayer").stop(a)}};d=new(g||b("URI"))(location.href);d.getSubdomain()&&d.getSubdomain()!=="comet"&&d.getSubdomain()!=="www"&&d.setSubdomain("www");f=d.getDomain();function a(){if(b("UserAgent_DEPRECATED").ie()<9)return!1;return b("SoundInitialData").RPC_DISABLED?!1:b("SoundSynchronizer").isSupported()&&b("SoundRPC").supportsRPC()}b("isFacebookURI")(d)&&location.host!==f&&a()&&(h=document.createElement("iframe"),h.setAttribute("src","//"+f+"/sound_iframe.php"),h.style.display="none",document.body&&document.body.appendChild(h));e.exports=c},null);
__d("useRingTone",["React","RTCConfig","Sound"],function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect,h=[b("RTCConfig").ringtone_mp3_url,b("RTCConfig").ringtone_ogg_url];function a(a){a===void 0&&(a=!1),g(function(){if(a){b("Sound").play(h,null,!0);return function(){b("Sound").stop(h)}}},[a])}e.exports=a},null);
__d("ZenonCallInviteRingtone.react",["useRingTone"],function(a,b,c,d,e,f){"use strict";function a(a){a=a.invite;b("useRingTone")((a==null?void 0:a.type)==="ringing");return null}e.exports=a},null);
__d("DocumentTitle",["Arbiter"],function(a,b,c,d,e,f){var g=1500,h=null,i=!1,j=0,k=[],l=null,m=document.title,n=0;function o(){k.length>0?!i?(p(k[j].title),j=++j%k.length):q():(clearInterval(h),h=null,q())}function p(a){document.title=a,i=!0}function q(){r.set(l||m,!0),i=!1}var r=function(){"use strict";function a(a){this.$1=a}a.get=function(){return m};a.set=function(a,c){var d=a.toString();document.title=d;!c?(m=d,l=null,b("Arbiter").inform("update_title",a)):l=d};a.blink=function(b){b={title:b.toString()};k.push(b);h===null&&(h=setInterval(o,g));return new a(b)};var c=a.prototype;c.stop=function(){var a=k.indexOf(this.$1);a>=0&&(k.splice(a,1),j>a?j--:j==a&&j==k.length&&(j=0))};a.badge=function(c){var d=a.get();d=c?"("+c+") "+d:d;a.set(d,!0);b("Arbiter").inform("update_title_badge",c,"state");n=c};a.preserveBadgeAndSet=function(c){a.set(c,!1),b("Arbiter").inform("update_title",c),a.badge(n)};return a}();e.exports=r},null);
__d("useDocumentTitleBlink",["DocumentTitle","React"],function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useEffect;function a(a){g(function(){if(a==null)return;var c=b("DocumentTitle").blink(a);return function(){c.stop()}},[a])}e.exports=a},null);
__d("ZenonCallInviteTitleBlinking.react",["fbt","React","ZenonUsersHooks","useDocumentTitleBlink"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){a=a.invite;return a!==null&&a.type==="ringing"&&a.inviterID!=null?h.jsx(i,{inviterID:a.inviterID}):null}function i(a){a=a.inviterID;a=b("ZenonUsersHooks").useZenonUser(a);b("useDocumentTitleBlink")(a?g._("{name} est\u00e1 ligando",[g._param("name",a.shortName)]):null);return null}e.exports=a},null);
__d("ZenonDialogProvider.react",["React","ZenonDialogContext"],function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useCallback,i=c.useMemo,j=c.useState;function a(a){a=a.children;var c=j(null),d=c[0],e=c[1],f=h(function(){e(null)},[]),k=h(function(a){e(a)},[]),l=h(function(a){a===void 0&&(a=!1),a||e(null)},[]);c=j([]);var m=c[0],n=c[1],o=h(function(a){n(function(b){return b.filter(function(b){return b.key!==a})})},[]),p=h(function(a,b){n(function(c){var d=c.findIndex(function(b){return b.key===a}),e={key:a,node:b};if(d===-1)return[].concat(c,[e]);else return[].concat(c.slice(0,d),c.slice(d+1,c.length),[e])})},[]),q=h(function(){e(null),n([])},[]);return g.jsxs(b("ZenonDialogContext").Provider,{value:i(function(){return{hide:f,hideAll:q,hideByID:o,show:k,showByID:p,toggle:l}},[f,q,o,k,p,l]),children:[a,d,m.map(function(a){a=a.node;return a})]})}e.exports=a},null);
__d("RTWebCometCallInviteController.react",["requireDeferred","React","RTWebCallBlockSettingHooks","RTWebCallInviteDesktopNotification.react","RTWebCometCallInviteDialogs.react","RTWebPreCallHooks","ZenonCallInviteRingtone.react","ZenonCallInviteTitleBlinking.react","ZenonDialogProvider.react"],function(a,b,c,d,e,f){"use strict";c=b("requireDeferred")("FBRTCCallSummaryUploader");var g=b("React");c.onReady(function(a){a.init()});function a(){b("RTWebCallBlockSettingHooks").useCallBlockSetting();b("RTWebPreCallHooks").useNoAnswerTimeout();var a=b("RTWebPreCallHooks").useCallInvite();return g.jsxs(b("ZenonDialogProvider.react"),{children:[g.jsx(b("RTWebCometCallInviteDialogs.react"),{invite:a}),g.jsx(b("RTWebCallInviteDesktopNotification.react"),{invite:a}),g.jsx(b("ZenonCallInviteRingtone.react"),{invite:a}),g.jsx(b("ZenonCallInviteTitleBlinking.react"),{invite:a})]})}e.exports=a},null);
__d("RTWebCallWindowOpener",["requireCond","cr:1099565"],function(a,b,c,d,e,f){"use strict";e.exports=b("cr:1099565")},null);
__d("RTWebCometIncomingCallContent.react",["fbt","requireCond","CometProgressIndicator.react","cr:1568669","React","RTWebCometCallMessageLayout.react","cr:1568670","ZenonUsersHooks","emptyFunction","gkx"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");d=b("React");var i=d.useEffect,j=b("cr:1568669")?b("cr:1568669").addPoint:b("emptyFunction"),k=b("cr:1568670")?b("cr:1568670").useCallInvite:b("emptyFunction"),l=b("gkx")("1536863")?c:b("emptyFunction");function a(a){var c=a.inviterID,d=a.isVideoCall;a=a.participantIDs;c=b("ZenonUsersHooks").useZenonUser(c);var e=b("ZenonUsersHooks").useZenonUsers(a).valueSeq().toArray();l(e,a,64225282);a=a.length>1;var f=a?d?g._("{caller name} convidou voc\u00ea para um bate-papo de v\u00eddeo em grupo.",[g._param("caller name",c==null?void 0:c.name)]):g._("{caller name} convidou voc\u00ea para uma liga\u00e7\u00e3o em grupo.",[g._param("caller name",c==null?void 0:c.name)]):g._("{caller name} est\u00e1 ligando para voc\u00ea.",[g._param("caller name",c==null?void 0:c.name)]);a=a?d?g._("Seu v\u00eddeo ser\u00e1 compartilhado assim que voc\u00ea atender"):g._("A liga\u00e7\u00e3o ser\u00e1 iniciada assim que voc\u00ea atender."):g._("A liga\u00e7\u00e3o ser\u00e1 iniciada assim que voc\u00ea atender.");return c===null?h.jsx(b("CometProgressIndicator.react"),{}):h.jsx(b("RTWebCometCallMessageLayout.react"),{caller:c,mainMessage:f,participants:e,subMessage:a})}function c(a,b,c){var d=m();i(function(){a.length===0&&j(c,"fetching_participants",{instanceKey:d}),a.length===b.length&&j(c,"fetched_participants",{instanceKey:d})},[d,b.length,a,c])}function m(){var a=k();return(a=+(a==null?void 0:a.ringID))!=null?a:0}e.exports=a},null);
__d("RTWebRoomIncomingCallContent.react",["fbt","CometProgressIndicator.react","React","RTWebCometCallMessageLayout.react","ZenonUsersHooks"],function(a,b,c,d,e,f,g){"use strict";var h=b("React");function a(a){var c=a.inviterID,d=a.participantIDs;a=a.roomName;c=b("ZenonUsersHooks").useZenonUser(c);d=b("ZenonUsersHooks").useZenonUsers(d).valueSeq().toArray();return c===null?h.jsx(b("CometProgressIndicator.react"),{}):h.jsx(b("RTWebCometCallMessageLayout.react"),{caller:c,mainMessage:g._("{caller name} quer entrar na sala {room name}",[g._param("caller name",c==null?void 0:c.name),g._param("room name",a)]),participants:d,subMessage:g._("Seu v\u00eddeo ser\u00e1 compartilhado assim que voc\u00ea atender")})}e.exports=a},null);
__d("RTWebCometCallDialog.react",["CometControlledUserBlockingDialog.react","React","TetraButtonGroup.react","TetraText.react","stylex"],function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.acceptIcon,d=a.acceptLabel,e=a.acceptTestid,f=a.body,h=a.declineLabel;h=h===void 0?null:h;var i=a.onClose;a=a.title;var j=function(){i(!0)},k=function(){i(!1)};return g.jsxs(b("CometControlledUserBlockingDialog.react"),{disableClosingWithMask:!0,onDismiss:k,withCloseButton:!0,children:[g.jsx("div",{className:"dati1w0a jbae33se hv4rvrfc bjjx79mm",children:g.jsx(b("TetraText.react"),{numberOfLines:1,type:"headlineEmphasized2",children:a})}),g.jsx("div",{className:"dati1w0a f10w8fjw hv4rvrfc pybr56ya taijpn5t cbu4d94t",children:f}),g.jsx("div",{className:"a8nywdso ihqw7lf3 dflh9lhu jb3vyjys",children:g.jsx(b("TetraButtonGroup.react"),{align:"end",direction:"backward",primary:{icon:c,label:d,onPress:j,testid:e,type:"primary"},secondary:h!==null?{label:h,onPress:k,reduceEmphasis:!0}:null})})]})}e.exports=a},null);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","gkx"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonCallInviteModel3=function(a){b("FBLogger")("rtc_www").info("Received cancel for: ",a.ringID);if(d.__currentRequest&&d.__currentRequest.model&&d.__currentRequest.model.ringID===a.ringID)switch(a.reason){case"hangup":d.__currentRequest.model=babelHelpers["extends"]({},d.__currentRequest.model,{type:"missed"});d.emit("callInvite",d.__currentRequest.model);break;default:d.dismiss();break}};d.$ZenonCallInviteModel2=function(a){var c;b("FBLogger")("rtc_www").info("Receiving ring: ",a.ringID);if(((c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.type)==="ringing"){if(((c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.ringID)!==a.ringID&&b("gkx")("1434282")){a.onDecline("InAnotherCall");b("FBLogger")("rtc_www").info("Sending InAnotherCall to ring: ",a.ringID,"Current ring: ",(c=d.__currentRequest)==null?void 0:(c=c.model)==null?void 0:c.ringID)}}else d.__currentRequest={model:{context:a.context,controllerParams:a.controllerParams,inviterID:a.inviterID,participants:a.otherParticipants,requestingVideo:a.requestingVideo,ringID:a.ringID,type:a.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:a},d.emit("callInvite",d.__currentRequest.model),a.isClientPermissableRing||a.onDecline("VersionUnsupported")};d.__eventSource=c;d.__currentRequest=null;return d}var d=c.prototype;d.getCurrentInvite=function(){var a;return(a=(a=this.__currentRequest)==null?void 0:a.model)!=null?a:null};d.startListening=function(a){a=a.callsBlocked;this.__currentRequest&&this.dismiss();this.stopListening();a?this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel1):(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel2),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel3))};d.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null};d.dismiss=function(){var a;b("FBLogger")("rtc_www").info("Dismissing ring: ",(a=this.__currentRequest)==null?void 0:(a=a.model)==null?void 0:a.ringID);this.__currentRequest=null;this.emit("callInvite",Object.freeze(null))};d.accept=function(a,c){var d=this.__currentRequest;if(d){var e;b("FBLogger")("rtc_www").info("Accepting ring: ",(e=d.model)==null?void 0:e.ringID);((e=d.model)==null?void 0:e.type)==="ringing"&&d.ringPayload.onAccept(a,c);this.dismiss()}};d.decline=function(a,c){a===void 0&&(a="IgnoreCall");var d=this.__currentRequest;if(d){var e;b("FBLogger")("rtc_www").info("Declining ring: ",(e=d.model)==null?void 0:e.ringID);d.ringPayload.onDecline(a,c);this.dismiss();return}};d.$ZenonCallInviteModel1=function(a){b("FBLogger")("rtc_www").info("Blocking ring: ",a.ringID),a.onDecline("IgnoreCall","CallsBlocked")};return c}(b("BaseEventEmitter"));e.exports=a},null);
__d("delegateZenonCallInviteModel",[],function(a,b,c,d,e,f){"use strict";function a(a,b){a.getCurrentInvite=b.getCurrentInvite.bind(b),a.startListening=b.startListening.bind(b),a.stopListening=b.stopListening.bind(b),a.dismiss=b.dismiss.bind(b),a.accept=b.accept.bind(b),a.decline=b.decline.bind(b),b.addListener("callInvite",function(b){a.emit("callInvite",b)})}e.exports=a},null);
__d("ZenonCallWindowController",["Promise","FBLogger","ZenonCallWindowErrors"],function(a,b,c,d,e,f){"use strict";var g=b("ZenonCallWindowErrors").OpeningAnotherCallError;a=function(){function a(a,b){var c=b.callWindowInitializerResource,d=b.callWindowOpener;b=b.uriBuilderResource;this.$2=null;this.$3=!1;this.$5=null;this.$1=a;this.$7=b;this.$4=c;this.$6=d}var c=a.prototype;c.initCall=function(a){var c=this;if(this.$3)throw new g();try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"&&this.$2.inCallWith===a.joinContext.thread.id){this.$2.focus();return[this.$2,b("Promise").resolve()]}}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access inCallWith on call window")}var d=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(a){b("FBLogger")("rtc_www").catching(a).warn("Failed to access close on call window")}this.$2=d;this.$3=!0;return[d,b("Promise").all([this.$7.load(),this.$4.load()]).then(function(b){var d=b[0];b=b[1];c.$5===null&&(c.$5=new b(c.$1,new d(c.$1)));return c.$5.initCall(c.$2,a)})["finally"](function(){c.$3=!1})]};return a}();e.exports=a},null);
__d("CometJSSemPixelsContainer.react",["CometRelay","ControlledRefererIFrame.react","React","CometJSSemPixelsContainerQuery.graphql"],function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery,i=b("React"),j=g!==void 0?g:g=b("CometJSSemPixelsContainerQuery.graphql");function a(){var a=h(j,{});return a==null||a.sem_universal_pixels==null?null:i.jsx("div",{children:a.sem_universal_pixels.map(function(a){return a.name==null||a.url==null?null:i.jsx(b("ControlledRefererIFrame.react"),{hidden:!0,src:a.url},a.url)})})}e.exports=a},null);
__d("FBRTCExperiment",["FBRTCExperimentsConfig","QE2Logger"],function(a,b,c,d,e,f){"use strict";a=function(){a.gen=function(c){var d={params:{},auto_exposure:!1,in_experiment:!1};d=b("FBRTCExperimentsConfig")[c]||d;c=new a(c,d);return c};a.getIncomingCallExperiments=function(){return a.gen("rtweb_incoming_call_experiments")};a.getMediaQualityExperiments=function(){return a.gen("rtc_www_media_quality_h2_2018")};a.getUpsellMessengerDesktopUnsupportedBrowser=function(){return a.gen("upsell_messenger_desktop_unsupported_browser_universe")};function a(a,b){this.$1=a,this.$2=b}var c=a.prototype;c.$3=function(){this.$2.auto_exposure&&this.logExposure()};c.logExposure=function(){this.$2.in_experiment&&b("QE2Logger").logExposureForUser(this.$1)};c.getParam=function(a,b){if(this.$2.in_experiment){this.$3();a=this.$2.params[a];if(a!==void 0)return String(a)}return b};c.getInt=function(a,b){if(this.$2.in_experiment){this.$3();if(this.$2.params[a]!==void 0)return parseInt(this.$2.params[a],10)}return b};c.getBool=function(a,b,c){c===void 0&&(c=!0);var d=this.$2.params;if(this.$2.in_experiment){c&&this.$3();if(d[a]!==void 0)return d[a]==="1"||d[a]===1||d[a]==="true"||d[a]===!0}return b};return a}();e.exports=a},null);
__d("FBRTCIceStatsParser",[],function(a,b,c,d,e,f){var g=null;a=function(){"use strict";function a(){}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.extractIceInfo=function(a){var b=[];a=a.split("\r\n");for(var c=0;c<a.length;c++){var d=a[c];this.$1(d)&&b.push({gen:this.$2(d),type:this.$3(d)})}return b};b.$1=function(a){return a.indexOf("candidate:")>-1};b.$2=function(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b};b.$3=function(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"};return a}();e.exports=a},null);
__d("FBRTCLocalUploadLogLevel",["CurrentUser","FBRTCConstants"],function(a,b,c,d,e,f){"use strict";var g=b("FBRTCConstants").UploadLogLevel,h={getUploadLogLevel:function(a){return Math.max(h.getLocalUploadLogLevel(),a)},getLocalUploadLogLevel:function(){return b("CurrentUser").isEmployee()?g.LL_DEBUG:g.LL_NIL}};e.exports=h},null);
__d("P2PReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:P2PReliabilityLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppBuildNumber=function(a){this.$1.app_build_number=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setClientStackInfo=function(a){this.$1.client_stack_info=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setExtra=function(a){this.$1.extra=a;return this};c.setMsgID=function(a){this.$1.msg_id=a;return this};c.setMsgType=function(a){this.$1.msg_type=a;return this};c.setProcessingTimeSinceRecvOnWww=function(a){this.$1.processing_time_since_recv_on_www=a;return this};c.setRawTime=function(a){this.$1.raw_time=a;return this};c.setReceiverID=function(a){this.$1.receiver_id=a;return this};c.setResultCode=function(a){this.$1.result_code=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setServiceName=function(a){this.$1.service_name=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserCountry=function(a){this.$1.user_country=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_build_number:!0,app_id:!0,app_version:!0,call_id:!0,client_stack_info:!0,device_id:!0,event_name:!0,extra:!0,msg_id:!0,msg_type:!0,processing_time_since_recv_on_www:!0,raw_time:!0,receiver_id:!0,result_code:!0,sender_id:!0,service_name:!0,time:!0,user_country:!0,weight:!0};e.exports=a},null);
__d("RTWebLoggingSharedInstance",["ChannelClientID"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("ChannelClientID").getID()}var c=a.prototype;c.getDeviceID=function(){return this.$1};return a}();e.exports=new a()},null);
__d("RtcCallActionFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","rtc_call_action");c=b("FalcoLoggerInternal").create(a);e.exports=c},null);
__d("FBRTCLogger",["requireCond","FBLogger","FBRTCConsoleLogger","cr:1440831","FBRTCMessageType","MarauderLogger","P2PReliabilityTypedLogger","RTWebLoggingSharedInstance","UserAgentData","gkx","CurrentUser","pageID","RtcCallActionFalcoEvent"],function(a,b,c,d,e,f){var g=b("CurrentUser").getID(),h="rtc_client_call_summary",i="client_error",j="client_event",k="info",l="received_message",m="send_failed",n="send_succeeded",o="sent_message",p="rtc_tslog",q=null;a=function(){"use strict";a.getInstance=function(){q==null&&(q=new a());return q};a.multiwayMessageTypeName=function(a){switch(a){case b("FBRTCMessageType").JOIN:return"JOIN";case b("FBRTCMessageType").SERVER_MEDIA_UPDATE:return"SERVER_MEDIA_UPDATE";case b("FBRTCMessageType").HANGUP:return"HANGUP";case b("FBRTCMessageType").ICE_CANDIDATE:return"ICE_CANDIDATE";case b("FBRTCMessageType").RING:return"RING";case b("FBRTCMessageType").DISMISS:return"DISMISS";case b("FBRTCMessageType").CONFERENCE_STATE:return"CONFERENCE_STATE";case b("FBRTCMessageType").ADD_PARTICIPANTS:return"ADD_PARTICIPANTS";case b("FBRTCMessageType").SUBSCRIPTION:return"SUBSCRIPTION";case b("FBRTCMessageType").CLIENT_MEDIA_UPDATE:return"CLIENT_MEDIA_UPDATE";case b("FBRTCMessageType").DATA_MESSAGE:return"DATA_MESSAGE";case b("FBRTCMessageType").REMOVE_PARTICIPANTS:return"REMOVE_PARTICIPANTS";case b("FBRTCMessageType").CONNECT:return"CONNECT";case b("FBRTCMessageType").PING:return"PING";case b("FBRTCMessageType").P2P_PROTOCOL:return"P2P_PROTOCOL";case b("FBRTCMessageType").UPDATE:return"UPDATE";case b("FBRTCMessageType").NOTIFY:return"NOTIFY";case b("FBRTCMessageType").CLIENT_EVENT:return"CLIENT_EVENT";case b("FBRTCMessageType").UNSUBSCRIBE:return"UNSUBSCRIBE"}return a.toString()};function a(){var a;this.$2=JSON.stringify({version:2,device:(a=b("UserAgentData")).deviceName,os:a.platformName,os_version:a.platformFullVersion,browser:a.browserName,browser_version:a.browserFullVersion});this.$3=JSON.stringify({version:2,device:a.deviceName,os:a.platformName,os_version:a.platformFullVersion,browser:a.browserName,browser_version:a.browserFullVersion,msg_source:"web"});this.$1=b("RTWebLoggingSharedInstance").getDeviceID()}var c=a.prototype;c.logToConsole=function(a){this.$4(null,null,"Console",a)};c.$5=function(a){return new(b("P2PReliabilityTypedLogger"))().setExtra(this.$2).setDeviceID(this.$1).setRawTime(Date.now()).setServiceName("WEB_CLIENT").setMsgType(a.toUpperCase())};c.logMultiwayMessageReceived=function(b,c){var d=a.multiwayMessageTypeName(b.type());this.$4(b.conferenceName(),c,"Received MW",d+", "+b.transactionId(),d==="EXPERIMENT"?"DEBUG":"INFO")};c.logReceivedMessage=function(a,b,c){var d=b?b.toString():null,e={call_id:b,from:a,msg_id:c.msg_id,type:c.type};c.sdp&&(e.content=c.sdp);c.ack_id&&(e.ack_msg_id=c.ack_id);var f=c.type||c.msgType;this.$5(f).setEventName("CLIENT_RECEIVED_MESSAGE").setCallID(d).setMsgID(c.msg_id).setSenderID(a).setReceiverID(g).setExtra(this.$3).log();this.$6(l,e);this.$4(a,b,"Received P2P",c.type+", "+c.msg_id)};c.logSentMessage=function(a,b,c){var d=b?b.toString():null,e={call_id:b,msg_id:c.msg_id,to:a,type:c.type};c.sdp&&(e.content=c.sdp);c.ack_id&&(e.ack_msg_id=c.ack_id);this.$5(c.type).setEventName("CLIENT_SENDING_MESSAGE").setCallID(d).setMsgID(c.msg_id).setSenderID(g).setReceiverID(a).log();this.$6(o,e);this.$4(a,b,"Sent",c.type+", "+c.msg_id)};c.logSentMessageSuccess=function(a,b,c,d){var e={call_id:b,msg_id:d,peer_id:a,type:c};b=b?b.toString():null;this.$5(c).setEventName("CLIENT_TRANSPORT_SUCCESS").setCallID(b).setMsgID(d.toString()).setSenderID(g).setReceiverID(a).log();this.$6(n,e)};c.logSentMessageFailure=function(a,b,c,d,e){var f={call_id:b,error_code:e,msg_id:d,peer_id:a,type:c},h=b?b.toString():null;this.$5(c).setEventName("CLIENT_TRANSPORT_ERROR").setCallID(h).setMsgID(d.toString()).setSenderID(a).setSenderID(g).setReceiverID(a).setResultCode(e).log();this.$6(m,f);this.$4(a,b,"Send Failed",c+", "+e)};c.logCallAction=function(a,c,d,e,f){var g={call_action:d,call_id:c,content:e,peer_id:a};f&&(g.trigger=f);b("RtcCallActionFalcoEvent").logImmediately(function(){return{action_name:d,call_id:"",audio_output_name:"UNKNOWN",rownum:-1,logging_instance_id:-1,logger_schema_version:-1,caller_id:"",call_type:"UNKNOWN",session_type:"UNKNOWN",seconds_since_call_start:-1,ms_since_epoch:-1,ms_steady:-1,device_orientation:"UNKNOWN",interface_orientation:"UNKNOWN",battery_level:-1,battery_plugged_state:"UNKNOWN",battery_charge_state:"UNKNOWN",battery_mode:"UNKNOWN",camera_facing:"UNKNOWN"}});this.$4(a,c,"CallAction",d+", "+JSON.stringify(e))};c.logEvent=function(a,b,c){var d={call_id:b,content:c,peer_id:a};this.$6(j,d);this.$4(a,b,"Event",JSON.stringify(c))};c.logInfo=function(a,b,c){var d={call_id:b,content:c,peer_id:a};this.$6(k,d);this.$4(a,b,"Info",JSON.stringify(c))};c.logError=function(a,c,d){var e,f={call_id:c,content:d,peer_id:a};e=b("FBLogger")("rtweb").addMetadata("RT_WEB","CALL_ID",""+((e=c)!=null?e:"null")).addMetadata("RT_WEB","PEER_ID",""+((e=a)!=null?e:"null"));if(typeof d==="string")e.warn(d);else{var g=JSON.stringify(d);e.warn((e=g)!=null?e:"Unknown error")}this.$6(i,f);this.$4(a,c,"Error",JSON.stringify(d))};c.logErrorWithoutID=function(a){this.logError(null,null,a)};c.logEndCallSummary=function(a,c){c===void 0&&(c=!1);if(!a)return;var d={call_id:a.callID,channel_session_id:a.deviceID,content:a.toString(),peer_id:a.peerID,tag:"endcallstats"},e=babelHelpers["extends"]({},d,a.getExtraInfo());b("cr:1440831")&&b("cr:1440831").logCallSummaryHeartbeat(a,"ecs_logged");this.$6(h,e,c);this.$4(a.peerID,a.callID,"Call Summary",JSON.stringify(d))};c.logTsLogData=function(a,b,c,d,e){e===void 0&&(e=null);if(!b||!c)return;var f=b;e&&(f=null);this.$6(p,{call_id:c,conf_name:d,time_series1:JSON.stringify(a),serv_info:e,peer_id:f},!0);this.$4(b,c,"TSLog Data",JSON.stringify(a))};c.doesContainSensitiveData=function(a){return String(a).indexOf("crypto")>-1};c.redactSensitiveData=function(a,b){if(a!==h){a=JSON.stringify(b);if(this.doesContainSensitiveData(a))return{redacted:!0}}return b};c.$6=function(a,c,d){d===void 0&&(d=!1);var e="basic";d&&(e=b("gkx")("1488912")?"vital":"signal");c.page_id=b("pageID");d=this.redactSensitiveData(a,c);b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,d);b("MarauderLogger").log(a,b("FBRTCConsoleLogger").MODULE_NAME,d,void 0,void 0,void 0,void 0,e)};c.$4=function(a,c,d,e,f){f===void 0&&(f="DEBUG"),b("FBRTCConsoleLogger").getInstance().log(this.doesContainSensitiveData(e)?"redacted":e,a,c,d,f)};return a}();a.CallAction=Object.freeze({ANSWER_CALL:"answer_call",AUTO_DISABLE_VIDEO:"auto_disable_video",DENIED_PERMISSION:"denied_permission",END_CALL:"end_call",FAILED_GETTING_URI:"failed_getting_uri",OLD_URI:"old_uri",OPEN_POPUP:"open_popup",POPUP_OPENED:"popup_opened",RECEIVED_CALL:"received_call",SET_FULLSCREEN_ON:"set_fullscreen_on",SET_MUTE:"set_mute",SET_SELF_VIEW_ON:"set_self_view_on",SET_VIDEO_ON:"set_video_on",START_CALL:"start_call",START_SKYPE:"start_skype",TRY_NEW:"try_new",USER_SETTINGS_CHANGED:"user_settings_changed"});a.Trigger=Object.freeze({ADMIN_MESSAGE:"admin_message",CHAT_TAB_ICON_TOUR:"chat_tab_icon_tour",CHAT_TAB_ICON:"chat_tab_icon",CHAT_TAB_VOICE_ICON:"chat_tab_voice_icon",MULTIWAY_ADMIN_MESSAGE_JOIN_AUDIO_CALL_BUTTON:"multiway_admin_message_join_audio_call_button",MULTIWAY_ADMIN_MESSAGE_JOIN_VIDEO_CALL_BUTTON:"multiway_admin_message_join_video_call_button",MULTIWAY_ADMIN_MESSAGE_START_AUDIO_CALL_BUTTON:"multiway_admin_message_start_audio_call_button",MULTIWAY_ADMIN_MESSAGE_START_VIDEO_CALL_BUTTON:"multiway_admin_message_start_video_call_button",MULTIWAY_CHAT_TAB_SHEET_JOIN_CALL_BUTTON:"multiway_chat_tab_sheet_join_call_button",MULTIWAY_POPUP_START_CALL_BUTTON:"multiway_popup_start_call_button",MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:"multiway_thread_header_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_audio_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_audio_call_video_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON:"multiway_thread_header_join_video_call_audio_button",MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:"multiway_thread_header_join_video_call_video_button",MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:"multiway_thread_header_video_button",MULTIWAY_THREAD_LIST_JOIN_CALL_BUTTON:"multiway_thread_list_join_call_button",POPUP_CALL_START_BUTTON:"popup_start_call_button",REDIAL_BUTTON:"redial_button",RESET_CALL:"install_screen_sharing_ext_dialog",RETURN_CALL:"return_call",SKYPE_DEPRECATION_DIALOG:"skype_deprecation_dialog",TIMELINE_PROFILE:"timeline_profile",VC_PRECALL_SETUP:"vc_precall_setup",WORKPLACE_GROUP_CALL:"workplace_group_call",WORKPLACE_P2P_CALL:"workplace_p2p_call",UNKNOWN:"unknown",WEB_MESSENGER:"web_messenger",TEAMWORK_USER_VIDEO_CALL_ITEM:"teamwork_user_video_call_item",TEAMWORK_USER_AUDIO_CALL_ITEM:"teamwork_user_audio_call_item"});a.Key=Object.freeze({BATTERY_START:"battery_start",BATTERY_END:"battery_end",CALL_TYPE:"call_type",CONNECTION_EFFECTIVE_TYPE:"conn_effective_type",CPU_CORES:"cpu_cores",DEVICE_INFO:"device_info",DEVICE_MEMORY:"device_memory",DEVICE_PIXEL_RATIO:"device_pixel_ratio",INITIATED_BY_PAGE_ID:"initiated_by_page_id",INITIATED_BY_APP_ID:"initiated_by_app_id",PEER_IS_MOBILE:"peer_is_mobile",RATING_SHOWN:"rating_shown",RATING:"rating5",EFFECT_COUNT:"rtc_effect_count",EFFECT_TOTAL_DURATION:"rtc_effect_total_duration",VIDEO_DURATION_WITH_FILTER:"rtc_video_duration_with_filter_enabled",SCREEN_DURATION:"screen_duration",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown",MEDIA_INPUTS:"media_inputs",VIDEO_CAPABILITIES:"video_capabilities",CB_ACTIVE:"cb_active",YEAR_CLASS:"year_class",DESKTOP_DEVICE_CLASS:"desktop_device_class",IS_BACKGROUNDED:"is_backgrounded",APPLICATION_STATE:"application_state"});e.exports=a},null);
__d("FBRTCMediaMetricTracker",["performanceNow"],function(a,b,c,d,e,f){"use strict";var g,h={count:0,current:-1,first:-1,min:-1,max:-1,mean:-1,median:-1,startedTime:-1,total:-1,updatedTime:-1};a=function(){function a(){this.$2={},this.$3={},this.$4={},this.$1={},this.$5=null}var c=a.prototype;c.updateVideoSender=function(a,b,c){if(b==="video"&&this.$5!==null&&this.$5!==c&&this.$4[a]){b=a+((b=this.$5)!=null?b:"");this.$4[b]=babelHelpers["extends"]({},this.$4[a]);delete this.$4[a]}this.$5=c};c.getVideoStreamReportKeys=function(){return Object.keys(this.$4)};c.getJitterStreamReportKey=function(){return Object.keys(this.$2)};c.getAudioStreamReportKeys=function(){return Object.keys(this.$3)};c.addJitterBufferDelay=function(a,b){b!==null&&b!==void 0&&(this.$2[a]||(this.$2[a]=[]),this.$2[a].push(b))};c.setHistResScale=function(a,b,c){this.$1[a]||(this.$1[a]={contentType:b,histogram:[]}),this.$1[a]={contentType:b,histogram:c}};c.getHistResScale=function(a){return this.$1[a]?{contentType:this.$1[a].contentType,histogram:this.$1[a].histogram}:null};c.setVideoContentType=function(a,b){this.$4[a]||(this.$4[a]={}),this.$4[a].contentType=b};c.getVideoContentType=function(a){return this.$4[a].contentType};c.setVideoMetric=function(a,b,c){c!==null&&c!==void 0&&(this.$4[a]||(this.$4[a]={}),this.$4[a][b]=this.$6(this.$4[a][b],c))};c.$6=function(a,c){if(a!==null&&a!==void 0){a.current=c;a.updatedTime=(g||(g=b("performanceNow")))();a.total+=c;a.count+=1;a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.mean=a.total/a.count;return a}else return{min:c,max:c,total:c,count:1,mean:c,first:c,startedTime:(g||(g=b("performanceNow")))(),current:c,updatedTime:g()}};c.getVideoMetric=function(a,b){return this.$4[a]?this.$4[a][b]:null};c.addMetricStat=function(a,b,c){c!==null&&c!==void 0&&(this.$3[a]||(this.$3[a]={}),this.$3[a][b]=this.$6(this.$3[a][b],c))};c.getMetricStats=function(a,b){return!this.$3[a]?null:this.$3[a][b]};c.getJitterBufferStats=function(a){if(!this.$2[a])return h;var b=this.$2[a].length;if(b===0)return h;this.$2[a].sort(function(a,b){return a-b});var c=this.$2[a].reduce(function(a,b){return a+b});if(b%2===0){var d=Math.floor((b-1)/2),e=Math.ceil((b-1)/2);d=(this.$2[a][d]+this.$2[a][e])/2}else d=this.$2[a][(b-1)/2];return{max:this.$2[a][b-1],min:this.$2[a][0],mean:c/b,median:d,total:c,count:b,first:-1,startedTime:-1,current:-1,updatedTime:-1}};c.toJsonString=function(){return JSON.stringify({stats:this.$3,jitterBufferDelays:this.$2,videoMetric:this.$4,histResScale:this.$1})};a.getPercentMediaKey=function(a,b,c){return a.concat("_",b,"_p",String(c))};a.getAvgMediaKey=function(a,b){return a.concat("_",b,"_avg")};a.fromJsonString=function(b){var c=new a();try{b=JSON.parse(b),b=b}catch(a){return c}b.stats&&(c.$3=b.stats);b.jitterBufferDelays&&(c.$2=b.jitterBufferDelays);b.videoMetric&&(c.$4=b.videoMetric);b.histResScale&&(c.$1=b.histResScale);return c};return a}();e.exports=a},null);
__d("FBRTCMediaMetricsConst",[],function(a,b,c,d,e,f){"use strict";a={JITTER:"jitter",ACCELERATE_RATE:"accelerate_rate",DECODING_CNG:"decoding_cng",DECODING_NORMAL:"decoding_normal",DECODING_PLC:"decoding_plc",DECODING_PLC_CNG:"decoding_plc_cng",DECODING_NETEQ_CALL:"decoding_neteq_call",DISCARD_RATE:"discard_rate",EXPAND_RATE:"expand_rate",PREEMPTIVE_RATE:"preemptive_rate",AUDIO_PACKETS_RECEIVED:"audio_packets_received",AUDIO_PACKETS_RECEIVED_LOST:"audio_packets_received_lost",AUDIO_PACKETS_SENT:"audio_packets_sent",AUDIO_PACKETS_SENT_LOST:"audio_packets_sent_lost",VIDEO_BYTES_RECEIVED:"video_bytes_received",VIDEO_BYTES_SENT:"video_bytes_sent",INBOUND_QP:"inbound_qp",OUTBOUND_QP:"outbound_qp",FRAMES_ENCODED:"frames_encoded",FRAMES_DECODED:"frames_decoded",FRAMES_RECEIVED:"frames_received",FRAMES_SENT:"frames_sent",VIDEOBWE_SEND_BANDWIDTH:"videobwe_send_bandwidth",VIDEOBWE_TRANSMIT_BITRATE:"videobwe_transmit_bitrate",VIDEOBWE_RETRANSMIT_BITRATE:"videobwe_retransmit_bitrate",AUDIO_BYTES_SENT:"audio_bytes_sent",AUDIO_BYTES_RECEIVED:"audio_bytes_received",VIDEO_PKTS_SENT:"video_pkts_sent",VIDEO_PKTS_SEND_LOST:"video_pkts_send_lost",VIDEO_PKTS_RECEIVED:"video_pkts_received",VIDEO_PKTS_RECV_LOST:"video_pkts_receive_lost",AUDIO_RTT_RECEIVED:"audio_rtt_received",AUDIO_RTT_SENT:"audio_rtt_sent",AUDIO_DEV_REC_STALLS:"audio_dev_rec_stalls",AUDIO_DEV_TOTAL_STALLS:"audio_dev_total_stalls",AUDIO_DEV_IS_STALLED:"audio_dev_is_stalled",AUDIO_DEV_STALL_DURATION:"audio_dev_stall_duration",VIDEO_FREEZE_COUNT:"video_freeze_cnt",VIDEO_CAPTURE_WIDTH:"video_capture_width",VIDEO_CAPTURE_HEIGHT:"video_capture_height",VIDEO_SUM_CAPTURE_PIXEL:"video_sum_capture_pixel",VIDEO_CAPTURE_FRAME_COUNT:"video_capture_frame_count",VIDEO_DECODED_WIDTH:"video_decoded_width",VIDEO_DECODED_HEIGHT:"video_decoded_height",VIDEO_ENCODED_WIDTH:"video_encoded_width",VIDEO_ENCODED_HEIGHT:"video_encoded_height",AUDIO_TOTAL_PACKET_SEND_DELAY:"audio_total_packet_send_delay",VIDEO_TOTAL_PACKET_SEND_DELAY:"video_total_packet_send_delay",AUDIO_TOTAL_ENCODE_TIME:"audio_total_encode_time",VIDEO_TOTAL_ENCODE_TIME:"video_total_encode_time",AUDIO_TOTAL_DECODE_TIME:"audio_total_decode_time",VIDEO_TOTAL_DECODE_TIME:"video_total_decode_time",AUDIO_JITTER_BUFFER_DELAY:"audio_jitter_buffer_delay",VIDEO_JITTER_BUFFER_DELAY:"video_jitter_buffer_delay",AUDIO_JITTER_BUFFER_EMITTED_COUNT:"audio_jitter_buffer_emitted_count",VIDEO_JITTER_BUFFER_EMITTED_COUNT:"video_jitter_buffer_emitted_count",AUDIO_E2E_LATENCY:"audio_e2e_latency",VIDEO_E2E_LATENCY:"video_e2e_latency",AV_SYNC:"av_sync",AV_SYNC_ABS:"av_sync_abs",VIDEO_SUM_ENCODED_PIXEL:"video_sum_encoded_pixel",VIDEO_DEBUGFPS:"video_debugFPS",VIDEO_DEBUGLASTUPDATE:"video_debuglastUpdate",VIDEO_DEBUGTRACKTIMESTAMP:"video_debugtracktimestamp",AUDIO_NETEQ_WAIT_TIME:"audio_neteq_wait_time",AUDIO_PACKET_LOSS_RATE:"audio_packet_loss_rate",AUDIO_PLC_CNG_RATE:"audio_plc_cng_rate",AUDIO_PLC_RATE:"audio_plc_rate"};e.exports=a},null);
__d("FBRTCCallSummary",["requireCond","ChannelClientID","FBLoggerMetadata","FBRTCConstants","FBRTCExperiment","cr:1440831","FBRTCIceStatsParser","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCMediaMetricsConst","FBRTCMediaMetricTracker","SiteData","URI","UserAgentData","WebPerformanceDeviceInfo","gkx","performanceNow"],function(a,b,c,d,e,f){var g,h,i=5*60*1e3,j=[5,50,95],k={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},l={FELLBACK_TO_AUDIO:"f_a",MEDIA_REQUESTED:"m_r",MEDIA_SUCCEEDED:"m_s",POPUP_OPENED:"opened",PRESSED_ANSWER:"p_a"},m={ESCALATION_IS_AVAILABLE:"esc_available",USER_INITIATED_REQUEST:"out_started",RECEIVED_INCOMING_REQUEST:"inc_started",REJECTED_INVALID_P2P_STATE:"rej_invalid_state",CONNECTING_TO_MULTIWAY:"u_connecting_mw",CONNECTED_TO_MULTIWAY:"u_connected_mw",PEER_CONNECTING_TO_MULTIWAY:"p_connecting_mw",PEER_CONNECTED_TO_MULTIWAY:"p_connected_mw",READY_TO_ESCALATE:"ready_esc",PEER_FAILED_TO_CONNECT_TO_MULTIWAY:"p_fail_conn",MULTIWAY_CALL_ENDED:"mw_call_ended",TIMED_OUT:"timed_out",PEER_ABORTED:"p_aborted",INTERNAL_ERROR:"internal_err"},n={ESCALATION_INITIATION_BUTTON_CLICKED:"esc_init_button",ESCALATION_APPROVED_BUTTON_CLICKED:"esc_appr_button",ESCALATION_DECLINED_BUTTON_CLICKED:"esc_decl_button",USERMEDIA_REQUEST:"media_req",USERMEDIA_SUCCESS:"media_success",USERMEDIA_FAILURE:"media_fail",SENT_ESC_REQUEST:"s_esc_req",RECV_ESC_REQUEST:"r_esc_req",SENT_ESC_REQUEST_ACK:"s_esc_req_ack",RECV_ESC_REQUEST_ACK:"s_esc_req_ack",SENT_ESC_RESPONSE:"s_esc_rep",RECV_ESC_ACCEPT:"r_esc_accept",RECV_ESC_DECLINE:"r_esc_decl",RECV_ESC_TIMEOUT:"r_esc_timeout"},o=[(a=b("FBRTCMediaMetricsConst")).ACCELERATE_RATE,a.DISCARD_RATE,a.EXPAND_RATE,a.PREEMPTIVE_RATE],p=[{key:a.AUDIO_NETEQ_WAIT_TIME,field:"nwt",scale:1},{key:a.AUDIO_PACKET_LOSS_RATE,field:"plr",scale:1e4},{key:a.AUDIO_PLC_CNG_RATE,field:"plccngr",scale:1e4},{key:a.AUDIO_PLC_RATE,field:"plcr",scale:1e4}];function q(a){var c=new(g||(g=b("URI")))(window.location).getPath().includes("/videocall/");if(a==="MW_PEER_ID"&&!c){a=b("FBRTCExperiment").gen("rtweb_zenon_platform");c=a.getBool("use_zenon_platform",!1,!1);if(c)return"ZenonPlatform"}a=b("gkx")("1154135");return a?"ZenonScotch":"Old Codebase"}c=function(){"use strict";a.nullSummary=function(){return new a({peerID:"0",callID:"0",isCaller:!1,callTrigger:"NULL_SUMMARY"})};function a(c){this.peerID=String(c.peerID),this.callID=String(c.callID),this.deviceID=b("ChannelClientID").getID(),this.$2=c.isCaller,this.$1=c.version||a.CURRENT_SUMMARY_VERSION,this.$3=b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel(),this.$15=new Date().valueOf(),this.$4=c.callTrigger||null,this.$6={},this.$8={},this.$9={},this.$14={},this.$34=null,this.$35=null,this.$36=null,this.$17=0,this.$18=0,this.$33=!1,this.$10={},this.$11={},this.$12={},this.$13={},this.$39=null,this.$38=null,this.$37=null,this.$5=q(this.peerID),this.$20=(h||(h=b("performanceNow")))(),this.$16=0,this.$7={},this.$19=this.$20,this.$21=0,this.$22={},this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_INFO,this.$51()),this.$52(),this.$53(),this.$54(),this.$55(),this.$24=b("FBRTCIceStatsParser").getInstance(),this.$47=new(b("FBRTCMediaMetricTracker"))(),this.$23=b("FBRTCLogger").getInstance()}var c=a.prototype;c.toJsonString=function(){this.$18=new Date().valueOf();return JSON.stringify({version:this.$1,peerID:this.peerID,callID:this.callID,deviceID:this.deviceID,isCaller:this.$2,uploadLogLevel:this.$3,callType:this.$29,conferenceName:this.$26,joinWithSID:this.$27,activeConn:this.$25,escP2PCallID:this.$28,serverInfoData:this.$30,localVideoDuration:this.$31,remoteVideoDuration:this.$32,startTime:this.$15,trigger:this.$4,signalingTime:this.$6,escStateTimes:this.$8,applicationEventTime:this.$9,videoEscTimes:this.$14,endCallReason:this.$34,endCallSubreason:this.$35,isRemoteEnded:this.$36,lastUpdatedTime:this.$17,lastSerializedTime:this.$18,unsetOnRetrieve:this.$33,openCount:this.$21,extraInfo:this.$22,gen0IceSentCount:this.$10,gen0IceReceivedCount:this.$11,iceSentCount:this.$12,iceReceivedCount:this.$13,connectionType:this.$39,mediaMetricStats:this.$47.toJsonString(),newSignalingTime:this.$7,accumulatedCallTime:this.$56(),deviceCharged:this.$41,videoReceivedCodec:this.$42,videoSentCodec:this.$43,videoDevice:this.$44,audioDevice:this.$45,audioSentCodec:this.$46,relayIP:this.$40,clientVersion:this.$5,pcIsConnected:this.$37,endIsConnected:this.$38,maxTotalDecodeTime:this.$48,totalDecodeTime:this.$49,totalEncodeTime:this.$50})};a.fromJsonString=function(c){var d;try{c=JSON.parse(c)}catch(a){return null}if(c.version<a.OLDEST_SUPPORTED_SUMMARY_VERSION)return null;if(!Object.prototype.hasOwnProperty.call(c,"peerID")||!Object.prototype.hasOwnProperty.call(c,"callID")||!Object.prototype.hasOwnProperty.call(c,"isCaller")||!Object.prototype.hasOwnProperty.call(c,"startTime")||!Object.prototype.hasOwnProperty.call(c,"trigger")||!Object.prototype.hasOwnProperty.call(c,"signalingTime")||!Object.prototype.hasOwnProperty.call(c,"endCallReason")||!Object.prototype.hasOwnProperty.call(c,"isRemoteEnded")||!Object.prototype.hasOwnProperty.call(c,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(c,"lastSerializedTime"))return null;var e=new a({peerID:c.peerID,callID:c.callID,isCaller:c.isCaller});e.deviceID=c.deviceID;e.$1=c.version;e.$3=c.uploadLogLevel;e.$15=c.startTime;e.$4=c.trigger;e.$5=c.clientVersion;e.$6=c.signalingTime;e.$34=c.endCallReason;e.$35=c.endCallSubreason;e.$36=c.isRemoteEnded;e.$17=c.lastUpdatedTime;e.$18=c.lastSerializedTime;e.$27=c.joinWithSID;e.$38=(d=c.endIsConnected)!=null?d:null;e.$37=(d=c.pcIsConnected)!=null?d:null;c.callType&&(e.$29=c.callType);c.conferenceName&&(e.$26=c.conferenceName);c.escP2PCallID&&(e.$28=c.escP2PCallID);c.activeConn&&(e.$25=c.activeConn);c.serverInfoData&&(e.$30=c.serverInfoData);c.localVideoDuration&&(e.$31=c.localVideoDuration);c.remoteVideoDuration&&(e.$32=c.remoteVideoDuration);c.unsetOnRetrieve&&(e.$33=c.unsetOnRetrieve);c.openCount&&(e.$21=c.openCount);c.extraInfo&&(e.$22=c.extraInfo);c.gen0IceSentCount&&(e.$10=c.gen0IceSentCount);c.gen0IceReceivedCount&&(e.$11=c.gen0IceReceivedCount);c.iceSentCount&&(e.$12=c.iceSentCount);c.iceReceivedCount&&(e.$13=c.iceReceivedCount);c.newSignalingTime&&(e.$7=c.newSignalingTime);c.accumulatedCallTime&&(e.$16=c.accumulatedCallTime);c.escStateTimes&&(e.$8=c.escStateTimes);c.applicationEventTime&&(e.$9=c.applicationEventTime);c.videoEscTimes&&(e.$14=c.videoEscTimes);c.mediaMetricStats&&(e.$47=b("FBRTCMediaMetricTracker").fromJsonString(c.mediaMetricStats));c.connectionType&&(e.$39=c.connectionType);c.deviceCharged&&(e.$41=c.deviceCharged);c.videoReceivedCodec!==null&&(e.$42=c.videoReceivedCodec);c.videoSentCodec!==null&&(e.$43=c.videoSentCodec);c.videoDevice!==null&&(e.$44=c.videoDevice);c.audioDevice!==null&&(e.$45=c.audioDevice);c.audioSentCodec!==null&&(e.$46=c.audioSentCodec);c.relayIP!==null&&c.relayIP!==void 0&&(e.$40=c.relayIP);c.maxTotalDecodeTime!==null&&c.maxTotalDecodeTime!==void 0&&(e.$48=c.maxTotalDecodeTime);c.totalDecodeTime!=null&&(e.$49=c.totalDecodeTime);c.totalEncodeTime!=null&&(e.$50=c.totalEncodeTime);return e};a.restoreOrInitialize=function(c,d,e,f,g,h){d=String(d);e=String(e);c=c.retrieveCallSummary(d,e);!c?(c=new a({peerID:d,callID:e,isCaller:f}),g?(c.onFullMessageReceived({msg:g}),c.onOfferAckSent(g)):c.onCallStarted(h||b("FBRTCLogger").Trigger.UNKNOWN),h!==b("FBRTCLogger").Trigger.REDIAL_BUTTON&&b("FBRTCLogger").getInstance().logError(d,e,"Missing call summary from storage")):c.$33&&(c.$38=null,c.$34=null,c.$35=null,c.$36=null,delete c.$6[k.CALL_ENDED],delete c.$7[k.CALL_ENDED],c.$20=0,c.$33=null);return c};a.logSavedSummaries=function(a){var c=a.getLoggableSummaries(),d=c.length;if(d<=0)return;var e=b("FBRTCLogger").getInstance(),f=[];for(var g=0;g<d;g++){var h=c[g];e.logEndCallSummary(h);f.push({peerID:h.peerID,callID:h.callID})}a.removeCallSummaries(f);e.logToConsole("Logged pending summaries: "+d)};c.logThisSummary=function(a,c){c===void 0&&(c=!1);var d=b("FBRTCLogger").getInstance();a.retrieveCallSummary(this.peerID,this.callID)!=null&&(d.logEndCallSummary(this,c),a.removeCallSummary(this.peerID,this.callID),d.logToConsole("Logged active summary"))};c.isNull=function(){var b=a.CANONICAL_NULL_SUMMARY;return this.peerID===b.peerID&&this.callID===b.callID&&this.isCaller()===b.isCaller()&&this.getCallTrigger()===b.getCallTrigger()};c.save=function(a){var c=(h||(h=b("performanceNow")))(),d=c-this.$19;if(d>i){this.$23.logInfo(this.peerID,this.callID,"Summary too old: "+d);return}b("cr:1440831")&&b("cr:1440831").logCallSummaryHeartbeat(this,"interval");a.storeCallSummary(this.peerID,this.callID,this);this.$19=c};c.getVersion=function(){return this.$1};c.getLastUpdatedTime=function(){return this.$17};c.setLastUpdatedTime=function(a){this.$17=a};c.getExtraInfo=function(){return this.$22};c.getCallTrigger=function(){return this.$4};c.addExtraInfo=function(a,b){this.$22[a]=b,this.$55()};c.isCaller=function(){return this.$2};c.isNetworkReady=function(){if(this.$6[k.NETWORK_READY])return!0;else return!1};c.isAnswerReceived=function(){if(this.$6[k.RECV_ANSWER])return!0;else return!1};c.onCallStarted=function(a){this.$4=a,this.$57(k.CALL_STARTED),this.$55(),b("FBLoggerMetadata").addGlobalMetadata("RT_WEB","TYPE","CallStarted")};c.setCallTrigger=function(a){this.$4=a,this.$55()};c.setPCIsConnected=function(a){this.$37=a};c.onPopupOpened=function(){this.deviceID=b("ChannelClientID").getID(),this.$58(l.POPUP_OPENED),this.$21++,this.$55()};c.onPressedAnswer=function(){this.$58(l.PRESSED_ANSWER),this.$55()};c.onMediaRequested=function(){this.$58(l.MEDIA_REQUESTED),this.$55()};c.onMediaSucceeded=function(){this.$58(l.MEDIA_SUCCEEDED),this.$55()};c.onFellbackToAudio=function(){this.$58(l.FELLBACK_TO_AUDIO),this.$55()};c.setConnectionType=function(a){this.$39=a,this.$55()};c.setUploadLogLevel=function(a){this.$3=a,this.$55()};c.getCallType=function(){return this.$29};c.setCallType=function(a){this.$29=a,this.addExtraInfo(b("FBRTCLogger").Key.CALL_TYPE,a),this.$55()};c.setVideoDurations=function(a,b){this.$31=a,this.$32=b,this.$55()};c.setAudioDevice=function(a){this.$45=a};c.setVideoDevice=function(a){this.$44=a};c.setScreenDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.SCREEN_DURATION,a)};c.setConferenceName=function(a){this.$26=a,this.$55()};c.setTotalVideoFilterDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_DURATION_WITH_FILTER,Math.ceil(a).toString())};c.setCoExperienceEffectDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_TOTAL_DURATION,Math.ceil(a).toString())};c.setEffectCount=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_COUNT,a.toString())};c.setJoinWithSID=function(a){this.$27=a,this.$55()};c.setServerInfoData=function(a){this.$30=a,this.$55()};c.setActiveConnection=function(a){this.$25=a,this.$55()};c.setEscalationP2PCallID=function(a){this.$28=a,this.$55()};c.onOfferAckSent=function(a){this.onMessageSent({type:b("FBRTCConstants").PayloadType.OFFER_ACK,flag:a.flag})};c.onMessageSent=function(a){var c=a.flag===1;switch(a.type){case b("FBRTCConstants").PayloadType.OFFER:this.$59(c,k.SENT_OFFER,k.SENT_RETRIED_OFFER);this.$60(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$59(c,k.SENT_ANSWER,k.SENT_RETRIED_ANSWER);this.$60(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.OK:this.$57(k.SENT_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$57(k.SENT_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$59(c,k.SENT_OFFER_ACK,k.SENT_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$59(c,k.SENT_ANSWER_ACK,k.SENT_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$60(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ACK:a.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$61(n.SENT_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:a.ack_id?this.$61(n.SENT_ESC_RESPONSE):this.$61(n.SENT_ESC_REQUEST);break;default:}this.$55()};c.$60=function(a,b,c){var d,e=null;a=this.$24.extractIceInfo(a.sdp);for(var f=0;f<a.length;f++)d=a[f].gen,e=a[f].type,d===0&&this.$62(b,e),this.$62(c,e)};c.$62=function(a,b){!a[b]?a[b]=1:a[b]+=1};c.$63=function(a){this.addExtraInfo(b("FBRTCLogger").Key.PEER_IS_MOBILE,a.isFromMobile()?"1":"0")};c.onFullMessageReceived=function(a){var c=a.msg,d=c.flag===1;switch(c.type){case b("FBRTCConstants").PayloadType.OFFER:this.$63(a);this.$59(d,k.RECV_OFFER,k.RECV_RETRIED_OFFER);this.$60(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$63(a);this.$59(d,k.RECV_ANSWER,k.RECV_RETRIED_ANSWER);this.$60(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.OK:this.$57(k.RECV_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$57(k.RECV_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$59(d,k.RECV_OFFER_ACK,k.RECV_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$59(d,k.RECV_ANSWER_ACK,k.RECV_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$60(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ACK:c.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$61(n.RECV_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:c.ack_id?c.videoon||c.reqVideoOn?this.$61(n.RECV_ESC_ACCEPT):this.$61(n.RECV_ESC_DECLINE):c.videoon||c.reqVideoOn?this.$61(n.RECV_ESC_REQUEST):this.$61(n.RECV_ESC_TIMEOUT);break;default:}this.$55()};c.onMsgAckReceived=function(a,b){a=a.msg.flag===1;b?this.$59(a,k.RECV_OFFER_ACK,k.RECV_RETRIED_OFFER_ACK):this.$59(a,k.RECV_ANSWER_ACK,k.RECV_RETRIED_ANSWER_ACK)};c.onNetworkReady=function(){this.$57(k.NETWORK_READY),this.$55()};c.onCallConnected=function(){this.$57(k.CALL_CONNECTED),this.$55()};c.onCallEnded=function(a,b,c,d){this.$33=c,this.$34=a,this.$35=d,this.$36=b,this.$38===null&&(this.$38=this.$37),this.$57(k.CALL_ENDED),this.$55()};c.setOfferSentTime=function(){this.$57(k.SENT_OFFER)};c.setOfferAckReceivedTime=function(){this.$57(k.RECV_OFFER_ACK)};c.setAnswerSentTime=function(){this.$57(k.SENT_ANSWER)};c.setAnswerReceivedTime=function(){this.$57(k.RECV_ANSWER)};c.setJoinRequestSent=function(){this.$57(k.SENT_JOIN_REQUEST),this.$55()};c.setJoinResponseReceived=function(){this.$57(k.RECV_JOIN_RESPONSE),this.$55()};c.setJoinResponseProcessed=function(){this.$57(k.PROC_JOIN_RESPONSE),this.$55()};c.setRingRequestReceived=function(){this.$57(k.RECV_RING_REQUEST),this.$55()};c.setRingResponseSent=function(){this.$57(k.SENT_RING_RESPONSE),this.$55()};c.setEscalationAvailable=function(){this.$64(m.ESCALATION_IS_AVAILABLE)};c.setEscalationInitiated=function(){this.$64(m.USER_INITIATED_REQUEST)};c.setReceivedEscalationRequest=function(){this.$64(m.RECEIVED_INCOMING_REQUEST)};c.setInvalidP2PEscalationState=function(){this.$64(m.REJECTED_INVALID_P2P_STATE)};c.setEscalationConnectingToMultiway=function(){this.$64(m.CONNECTING_TO_MULTIWAY)};c.setEscalationConnectedToMultiway=function(){this.$64(m.CONNECTED_TO_MULTIWAY)};c.setEscalationPeerConnectingToMultiway=function(){this.$64(m.PEER_CONNECTING_TO_MULTIWAY)};c.setEscalationPeerConnectedToMultiway=function(){this.$64(m.PEER_CONNECTED_TO_MULTIWAY)};c.setReadyToEscalate=function(){this.$64(m.READY_TO_ESCALATE)};c.setEscalationPeerFailedToConnectToMultiway=function(){this.$64(m.PEER_FAILED_TO_CONNECT_TO_MULTIWAY)};c.setEscalationTimedOut=function(){this.$64(m.TIMED_OUT)};c.setVidEscalationInitClick=function(){this.$61(n.ESCALATION_INITIATION_BUTTON_CLICKED)};c.setVidEscalationAcceptedClick=function(){this.$61(n.ESCALATION_APPROVED_BUTTON_CLICKED)};c.setVidEscalationDeclinedClick=function(){this.$61(n.ESCALATION_DECLINED_BUTTON_CLICKED)};c.setVidEscalationMediaRequested=function(){this.$61(n.USERMEDIA_REQUEST)};c.setVidEscalationMediaSuccess=function(){this.$61(n.USERMEDIA_SUCCESS)};c.setVidEscalationMediaFailed=function(){this.$61(n.USERMEDIA_FAILURE)};c.setVideoCapabilities=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_CAPABILITIES,a)};c.setMediaInputs=function(a){this.addExtraInfo(b("FBRTCLogger").Key.MEDIA_INPUTS,a)};c.getVideoReceivedCodec=function(){return this.$42};c.setVideoReceivedCodec=function(a){this.$42=a};c.getVideoSentCodec=function(){return this.$43};c.setVideoSentCodec=function(a){this.$43=a};c.getAudioSentCodec=function(){return this.$46};c.setAudioSentCodec=function(a){this.$46=a};c.setVideoMaxTotalDecodeTime=function(a){this.$48=a};c.getTotalDecodeTime=function(){return this.$49};c.setTotalDecodeTime=function(a){this.$49=a};c.getTotalEncodeTime=function(){return this.$50};c.setTotalEncodeTime=function(a){this.$50=a};c.toString=function(){var a={};a.core_metrics=this.$65();a.time_series=null;return JSON.stringify(a)};c.$65=function(){var a={};a.ver=this.$1;a.log_level=b("FBRTCConstants").uploadLogLevelString(this.$3);a.caller=this.$2;a.call_type=this.$29;a.active_conn=this.$25;a.app_event_times=this.$9;a.conf_name=this.$26;a.CoreAudioMetrics=this.$66();a.join_with_sid=this.$27;a.esc_p2p_call_id=this.$28;a.esc_state_times=this.$8;a.vid_esc_times=this.$14;a.serv_info=this.$30;a.conn=this.$67();a.peer_id=this.peerID;a.has_video=!0;a.open_count=this.$21;a.signaling=this.$68();a.sender=this.$69();a.receiver=this.$70();a.end=this.$71();a.video=this.$72();a.push_phase=b("SiteData").push_phase;a.DebugAudioMetrics=this.$73();a.device_charged=this.$41;a.client_version=this.$5;a.perf=this.$74();a.grid=this.$75();a.pinned=this.$76();return a};c.$73=function(){return{NetworkReceive:{jb_nm:this.$77()}}};c.$78=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$47.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$47.getVideoContentType(b)===c){b=d.$47.getVideoMetric(b,a);b&&(e+=b.total,f+=b.count)}});return f===0?null:Math.round(e*b/f)};c.$79=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$47.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$47.getVideoContentType(b)===c){b=d.$47.getVideoMetric(b,a);b&&(e+=b.current,f+=1)}});return f===0?null:Math.round(e*b)};c.$80=function(a,b){var c=this,d=0,e=0,f=this.$47.getVideoStreamReportKeys();f.forEach(function(f){if(b==null||c.$47.getVideoContentType(f)===b){f=c.$47.getVideoMetric(f,a);f&&e===0&&(d=f.current,e++)}});return e===0?null:d};c.$81=function(a,b){var c=this,d=0,e=0;b==null&&(b=1);var f=this.$47.getAudioStreamReportKeys();f.forEach(function(b){b=c.$47.getMetricStats(b,a);b&&(d+=b.current,e+=1)});return e===0?null:Math.round(d*b)};c.$77=function(){var a=this,b={},c=this.$47.getAudioStreamReportKeys();if(c.length<1)return b;var d=c[c.length-1];o.forEach(function(c){var e=a.$47.getMetricStats(d,c);e&&(b[c]={m:e.min,M:e.max,avg:e.mean})});c=this.$47.getJitterBufferStats(d);b.neteq={maxWait:this.$82(c.max),meanWait:this.$83(),mediaWait:this.$82(c.median),minWait:this.$82(c.min)};return b};c.$82=function(a){return a==null||a===-1?-1:Math.round(a*1e3)};c.$83=function(){var a=this.$81(b("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_DELAY),c=this.$81(b("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_EMITTED_COUNT);return a!=null&&c!=null&&c>0?Math.round(a*1e3/c):-1};c.$66=function(){var a=this,c=this.$47.getAudioStreamReportKeys();c=c.reduce(function(c,d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_DEV_IS_STALLED);return!d||d.updatedTime==null||d.current==null?c:d.updatedTime>c.timeStamp?{val:d.current,timeStamp:d.updatedTime}:c},{val:-1,timeStamp:-Infinity}).val>0?1:0;var d=this.$81(b("FBRTCMediaMetricsConst").AUDIO_DEV_REC_STALLS),e=this.$81(b("FBRTCMediaMetricsConst").AUDIO_DEV_TOTAL_STALLS),f=this.$81(b("FBRTCMediaMetricsConst").AUDIO_DEV_STALL_DURATION);e={astall:e,audio_device:this.$45,isstall:c,rstall:d,sdur:f};return e};c.$67=function(){var a={dtls:1},b=this.$69();b.avgrtt&&(a.avgrtt=b.avgrtt,a.maxrtt=b.maxrtt,a.minrtt=b.minrtt);this.$40!==null&&(a.relay_ip=this.$40);return a};c.$68=function(){var a={};this.$4&&(a.trigger=this.$4);a.start_time=this.$15;a.time_from_start=this.$6;a.new_time_from_start=this.$7;var b=this.$84();b>0&&(a.duration=b);return a};c.$84=function(a){var b=this.$7[k.CALL_CONNECTED]||this.$7[k.NETWORK_READY];if(!b)return 0;a=this.$7[k.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$16||this.$56();return Math.max(0,a-b)};c.$69=function(){var a=this,c={},d=this.$47.getAudioStreamReportKeys(),e=0,f=0,g=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_SENT);c!=null&&(e+=c.current,f+=c.current-c.first,g+=c.updatedTime-c.startedTime)});g>0&&(c.ube_avg=Math.round(f*8e3/g));c.bytes=e;c.plost=this.$81(b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT_LOST);c.psent=this.$81(b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT);var h=0,i=0,j=null,k=null;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RTT_SENT);c&&(i+=c.count,h+=c.total,j=j==null?c.min:Math.min(j,c.min),k=k==null?c.max:Math.max(k,c.max))});i>0&&(c.avgrtt=Math.round(h/i),c.maxrtt=k,c.minrtt=j);this.$10&&(c.ice_g0=this.$10);this.$12&&(c.ice=this.$12);this.$46!=null&&this.$46!==""&&(c.codec={www:this.$46});return c};c.$70=function(){var a=this,c={},d=this.$47.getAudioStreamReportKeys();c.jbd=this.$81(b("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_DELAY,1e3);c.jbec=this.$81(b("FBRTCMediaMetricsConst").AUDIO_JITTER_BUFFER_EMITTED_COUNT);var e=0,f=0,g=0,h=0,i=0;d.forEach(function(c){var d,j=a.$47.getMetricStats(c,(d=b("FBRTCMediaMetricsConst")).DECODING_PLC),k=a.$47.getMetricStats(c,d.DECODING_PLC_CNG),l=a.$47.getMetricStats(c,d.DECODING_CNG),m=a.$47.getMetricStats(c,d.DECODING_NORMAL);c=a.$47.getMetricStats(c,d.DECODING_NETEQ_CALL);l!=null&&m!=null&&j!=null&&k!=null&&c!=null&&(e+=j.current,f+=k.current,g+=l.current,h+=m.current,i+=c.current)});c.dec_plc=e;c.dec_plc_cng=f;c.dec_cng=g;c.dec_normal=h;c.neteq_calls=i;var j=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);c&&(j+=c.current)});c.bytes=j;var k=0,l=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);if(c){var d=c.updatedTime-c.startedTime;d>0&&(k+=c.current-c.first,l+=d)}});l>0&&(c.dbe_avg=Math.round(k*8e3/l));var m=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED_LOST);c&&(m+=c.current)});c.plost=m;var n=0,o,p,q;d.forEach(function(c){var d=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED);c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_RTT_RECEIVED);d!=null&&(n+=d.current,c!=null&&c.mean!=null&&(o=o==null?d.current*c.mean:o+d.current*c.mean,q=q==null?c.max:Math.max(q,c.max),p=p==null?c.min:Math.min(p,c.min)))});n>0&&o!=null&&(c.avgrtt=Math.round(o/n),c.maxrtt=q,c.minrtt=p);c.precv=n;this.$11&&(c.ice_g0=this.$11);this.$13&&(c.ice=this.$13);return c};c.$71=function(){var a={};this.$34!=null&&(a.end_call_reason_string=b("FBRTCConstants").callEndReasonString(this.$34),this.$35!==null&&(a.end_call_subreason_string=this.$35),a.remote_ended=this.$36,a.end_ctd=this.$38);this.$39&&(a.conn_type=this.$39);return a};c.$72=function(){var a;a={ch:null,cw:null,ah:null,aw:null,ename:this.$43,fcap:this.$79((a=b("FBRTCMediaMetricsConst")).VIDEO_CAPTURE_FRAME_COUNT),eqps:this.$79(a.OUTBOUND_QP),frames:this.$79(a.FRAMES_ENCODED),fcsn:this.$79(a.FRAMES_SENT),histResScale:null,psent:this.$79(a.VIDEO_PKTS_SENT),plost:this.$79(a.VIDEO_PKTS_SEND_LOST),ss:{avbr:null,avbw:this.$78(a.VIDEOBWE_SEND_BANDWIDTH,1,"screen"),debug:{debugFPS:null,debuglastUpdate:null,debugtracktimestamp:null},dur:null,eiframes:null,eipxl:null,eopxl:null,eqps:this.$79(a.OUTBOUND_QP,1,"screen"),frames:this.$79(a.FRAMES_ENCODED,1,"screen")},tet:this.$79(a.VIDEO_TOTAL_ENCODE_TIME,1e3),tpsd:this.$79(a.VIDEO_TOTAL_PACKET_SEND_DELAY,1e3),video_device:this.$44};return{sender:this.$85(a),receiver:this.$86(),ld:this.$31,rd:this.$32,bwe:this.$87()}};c.$74=function(){var a,b=this.$84()/1e3;if(b<=0)return;a=((a=this.$49)!=null?a:0)+((a=this.$50)!=null?a:0);a=Math.round(100*(a/b));return{cpu:{proc:{avg:a}}}};c.$87=function(){var a=this,c={avg_enc_bitrate:this.$88(),avg_send_bw:this.$89(),avg_trans_bitrate:null,avg_retrans_bitrate:null},d=this.$47.getVideoStreamReportKeys();d.some(function(d){var e=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_TRANSMIT_BITRATE);d=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_RETRANSMIT_BITRATE);if(e&&d){c.avg_trans_bitrate=e.mean;c.avg_retrans_bitrate=d.mean;return!0}return!1});return c};c.$88=function(){var a=this,c=this.$47.getVideoStreamReportKeys(),d=null;c.some(function(c){c=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT);if(c){var e=c.current-c.first;c=c.updatedTime-c.startedTime;if(c>0){d=e*8/c*1e3;return!0}}return!1});return d};c.$89=function(){var a=this,c=this.$47.getVideoStreamReportKeys(),d=null;c.some(function(c){d=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH);return d?!0:!1});d&&(d=d.mean);return d};c.$75=function(){var a=this,b={audio:{avg:{},max:{},min:{}},video:{avg:{},max:{},min:{}}},c=this.$47.getAudioStreamReportKeys();p.forEach(function(d){var e=d.field,f=d.key;d=d.scale;f=a.$90(f,c,d);f!=null&&(b.audio.avg[e]=f.avg,b.audio.max[e]=f.max,b.audio.min[e]=f.min)});return b};c.$90=function(a,c,d){var e=this,f="grid",g=0,h=new Array(j.length).fill(0),i=0,k=new Array(j.length).fill(0),l=0,m=new Array(j.length).fill(0),n=0;c.forEach(function(c){var d;d=(d=e.$47.getMetricStats(c,b("FBRTCMediaMetricTracker").getAvgMediaKey(a,f)))==null?void 0:d.current;var o=[];j.forEach(function(d){d=(d=e.$47.getMetricStats(c,b("FBRTCMediaMetricTracker").getPercentMediaKey(a,f,d)))==null?void 0:d.current;o.push(d)});d!=null&&(g+=d,h=o.map(function(a,b){return a!=null?a+h[b]:h[b]}),n===0?(i=d,l=d,k=o,m=o):d>i?(i=d,k=o):d<l&&(l=d,m=o),n++)});if(n===0)return null;c=g/n;var o=h.map(function(a){return a/n});c={avg:this.$91(c,o,d),min:this.$91(l,m,d),max:this.$91(i,k,d)};return c};c.$91=function(a,b,c){var d={};d.avg=Math.round(a*c);j.forEach(function(a,e){a="p".concat(String(a));d[a]=Math.round(b[e]*c)});return d};c.$76=function(){return null};c.$85=function(a){var c=this,d=this.$47.getVideoStreamReportKeys(),e=new Array(5).fill(0),f=0;d.forEach(function(a){a=c.$47.getHistResScale(a);a&&(f+=1,a.histogram.forEach(function(a,b){e[b]+=a}))});a.histResScale=f===0?null:e;d.reverse().some(function(d){var e,f=c.$47.getVideoMetric(d,(e=b("FBRTCMediaMetricsConst")).VIDEO_CAPTURE_WIDTH),g=c.$47.getVideoMetric(d,e.VIDEO_CAPTURE_HEIGHT),h=c.$47.getVideoMetric(d,e.VIDEO_ENCODED_WIDTH);d=c.$47.getVideoMetric(d,e.VIDEO_ENCODED_HEIGHT);f&&g&&(a.cw=f.current,a.ch=g.current);if(h&&d){a.aw=h.current;a.ah=d.current;return!0}return!1});this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]!=null&&typeof this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]==="number"&&(a.ss.dur=this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]);d=this.$79(b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT,1,"screen");d!=null&&a.ss.dur!=null&&a.ss.dur>0&&(a.ss.avbr=Math.round(1e3*8*d/a.ss.dur));d=this.$79(b("FBRTCMediaMetricsConst").VIDEO_SUM_ENCODED_PIXEL,1,"screen");var g=this.$79(b("FBRTCMediaMetricsConst").FRAMES_ENCODED,1,"screen");d!=null&&g!=null&&g>0&&(a.ss.eopxl=Math.round(d/g));d=this.$79(b("FBRTCMediaMetricsConst").VIDEO_SUM_CAPTURE_PIXEL,1,"screen");g=this.$79(b("FBRTCMediaMetricsConst").VIDEO_CAPTURE_FRAME_COUNT,1,"screen");d!=null&&g!=null&&g>0&&(a.ss.eiframes=g,a.ss.eipxl=Math.round(d/g));d=this.$80(b("FBRTCMediaMetricsConst").VIDEO_DEBUGFPS,"screen");d!=null&&(a.ss.debug.debugFPS=d);g=this.$80(b("FBRTCMediaMetricsConst").VIDEO_DEBUGLASTUPDATE,"screen");g!=null&&(a.ss.debug.debuglastUpdate=g);d=this.$80(b("FBRTCMediaMetricsConst").VIDEO_DEBUGTRACKTIMESTAMP,"screen");d!=null&&(a.ss.debug.debugtracktimestamp=d);return a};c.$86=function(){var a=this,c=this.$47.getVideoStreamReportKeys(),d=0,e=0,f=0,g=0,h=0;c.forEach(function(c){var i=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECEIVED),j=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECV_LOST);i&&j&&(f+=i.current,g+=j.current);i=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_RECEIVED);i&&(d+=i.current-i.first,e+=i.updatedTime-i.startedTime);j=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);j&&(h+=j.current)});var i={dec_bytes:d,dec_frame:h,dec_time:this.$48?Math.round(this.$48):null,dec_time_all_streams:Math.round(e),dname:this.$42,frd:h,frcnt:null,jtasb:null,precv:f,plost:g,qps:this.$79(b("FBRTCMediaMetricsConst").INBOUND_QP),rh:null,rw:null,tdt:this.$79(b("FBRTCMediaMetricsConst").VIDEO_TOTAL_DECODE_TIME,1e3),jbd:null,jbec:null,recjbl:null,e2el:null,av:null,avabs:null},j=this.$79(b("FBRTCMediaMetricsConst").VIDEO_JITTER_BUFFER_DELAY,1e3),k=this.$79(b("FBRTCMediaMetricsConst").VIDEO_JITTER_BUFFER_EMITTED_COUNT);i.jbd=j;i.jbec=k;j!=null&&k!=null&&k>0&&(i.recjbl=Math.round(j/k));var l=0,m=0,n=0;c.forEach(function(c){var d=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").AV_SYNC),e=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").AV_SYNC_ABS);c=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);c!=null&&d!=null&&e!=null&&d.mean!=null&&e.mean!=null&&(n+=c.current,l+=d.mean*c.current,m+=e.mean*c.current)});n>0&&(i.av=Math.round(l/n),i.avabs=Math.round(m/n));var o=0,p=0;c.forEach(function(c){var d=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_E2E_LATENCY);c=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);d!=null&&d.mean!=null&&c!=null&&(o+=c.current,p+=d.mean*c.current)});o>0&&(i.e2el=Math.round(p/o));i.frcnt=c.reduce(function(c,d){d=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_FREEZE_COUNT);return c+(d?d.current:0)},0);var q=0;c.forEach(function(c){var d=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODED_HEIGHT);c=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODED_WIDTH);c&&d&&c.updatedTime>q&&(i.rw=c.current,i.rh=d.current,q=c.updatedTime)});i.jtasb=c.reduce(function(c,d){d=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").FRAMES_RECEIVED);return c+(d?d.current:0)},0);return i};c.$92=function(){return new Date().valueOf()-this.$15};c.$56=function(){var a=(h||(h=b("performanceNow")))()-this.$20;return Math.floor(this.$16+a)};c.$57=function(a){if(this.$6[a])return;this.$6[a]=this.$92();this.$7[a]=this.$56()};c.$64=function(a){if(this.$8[a])return;this.$8[a]=this.$92()};c.$58=function(a){if(this.$9[a])return;this.$9[a]=this.$92()};c.$61=function(a){if(this.$14[a])return;this.$14[a]=this.$92()};c.setDeviceCharged=function(a){this.$41!==!0&&(this.$41=a)};c.$59=function(a,b,c){a?this.$57(c):this.$57(b)};c.$55=function(){this.$17=new Date().valueOf()};c.$51=function(){var a=b("UserAgentData").browserName,c=b("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(c+=" Mobile",a==="Chrome"&&(a="Mobile "+a));return{device:b("UserAgentData").deviceName,os:c,os_version:b("UserAgentData").platformFullVersion,browser:a,browser_version:b("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}};c.$52=function(){window.navigator.connection!=null&&window.navigator.connection.effectiveType!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CONNECTION_EFFECTIVE_TYPE,window.navigator.connection.effectiveType)};c.$54=function(){var a=b("WebPerformanceDeviceInfo").getMobileYearClass();a!=null&&a>0?this.addExtraInfo(b("FBRTCLogger").Key.YEAR_CLASS,a):this.addExtraInfo(b("FBRTCLogger").Key.DESKTOP_DEVICE_CLASS,b("WebPerformanceDeviceInfo").getDeviceLevel())};c.$53=function(){navigator.hardwareConcurrency!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CPU_CORES,navigator.hardwareConcurrency),window.navigator.deviceMemory!=null&&this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_MEMORY,window.navigator.deviceMemory),this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_PIXEL_RATIO,window.devicePixelRatio)};c.getCallDuration=function(){var a=b("gkx")("707989");return this.$84({assumeOngoing:a})};c.getConnectedStartTime=function(){return this.$6[k.CALL_CONNECTED]?this.$6[k.CALL_CONNECTED]+this.$15:0};c.getCurrentTimeFromCallConnected=function(){var a=this.$7[k.CALL_CONNECTED];return this.$56()-a};c.getMediaMetricTracker=function(){return this.$47};c.getEndCallReason=function(){return this.$34!=null?b("FBRTCConstants").callEndReasonString(this.$34):"Unknown"};c.getRelayIP=function(){return this.$40};c.setRelayIP=function(a){this.$40=a};c.getClientVersion=function(){return this.$5};c.getHeartbeatData=function(){return this.$65()};c.wasCallEnded=function(){return this.$6[k.CALL_ENDED]!=null};return a}();c.CANONICAL_NULL_SUMMARY=Object.freeze(c.nullSummary());c.OLDEST_SUPPORTED_SUMMARY_VERSION=19;c.CURRENT_SUMMARY_VERSION=24;c.REPORT_KEY="reportID";e.exports=c},null);
__d("RTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RTCWebUserActionsDebugTypedLogger","RTCWebUserActionsTypedLogger","RTWebLoggingSharedInstance","immutable","performanceNow"],function(a,b,c,d,e,f){"use strict";var g,h=b("immutable").Map;a=function(){function a(){this.$2=h(),this.$3=new Set(),this.$4=new Set(),this.$5=b("RTWebLoggingSharedInstance").getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:"impression"},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:"tap"},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:"error"},a))};c.startTimer=function(a){var c=(g||(g=b("performanceNow")))();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({eventName:"checkpoint"},a))};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a){var b=this.$1;b.callID=this.$10(a.callID)?b.callID:a.callID;b.callType=a.callType||b.callType;b.conferenceState=a.conferenceState||b.conferenceState;b.conferenceName=this.$10(a.conferenceName)?b.conferenceName:a.conferenceName;b.isCaller=a.isCaller==null?b.isCaller:a.isCaller;b.mediaType=a.mediaType||b.mediaType;this.$11(a,b);b=this.$12(a,b);this.$8(a.eventName,b)};c.$12=function(a,c){var d=new(b("RTCWebUserActionsTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Old Codebase").log();return d.getData()};c.$11=function(a,c){var d=new(b("RTCWebUserActionsDebugTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).setCodebaseVersion("Old Codebase").log();return d.getData()};c.getCallType=function(a,b){b===void 0&&(b=!1);if(a===null||a===void 0)return null;if(a)return"mw";else if(b)return"escalated";else return"p2p"};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?"audio_button":"video_button"};c.getMediaType=function(a,b){b===void 0&&(b=!1);if(b)return"escalated";else if(a)return"audio";else return"video"};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){if(b("FBRTCSupport").isMobileDevice())return"mweb";else if(b("CurrentUser").isWorkUser())return"workplace";var a=window.location.hostname;if(a.search("facebook")!==-1)return"facebook";else if(a.search("messenger")!==-1)return"messenger_dot_com";return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt((g||(g=b("performanceNow")))()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();e.exports=new a()},null);
__d("FBRTCCallSummaryStore",["CacheStorage","FBLogger","FBRTCCallSummary","FBRTCLogger","RTWebUserActionLogger","areEqual","setTimeout"],function(a,b,c,d,e,f){"use strict";var g,h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=2e3,l=3,m=3*60*1e3,n=null;a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=new(b("CacheStorage"))(h,i),this.$2=b("FBRTCLogger").getInstance()}var c=a.prototype;c.storeCallSummary=function(a,c,d){if(d.isNull()){b("RTWebUserActionLogger").logError({errorDomain:"FBRTCCallSummaryStore_storeCallSummary",errorType:"FBRTCCallSummaryStore Storing invalid FBRTCCallSummary!",callID:c,userID:a});b("FBLogger")("rtweb").mustfix("Storing invalid FBRTCCallSummary!");return}var e=this;this.$3(function(b){b[a]||(b[a]={});var f=b[a][c];if(f){f=e.$4(f);if(f&&f.getLastUpdatedTime()>d.getLastUpdatedTime()){e.$2.logToConsole("Outdated summaries");return null}}b[a][c]=e.$5(d);return b},e.$2.logError.bind(e.$2,a,c))};c.retrieveCallSummary=function(a,b){var c=this.getCallSummaries(),d=null;c[a]&&(d=c[a][b]);if(d)return this.$4(d);else return null};c.removeCallSummary=function(a,b){this.removeCallSummaries([{peerID:a,callID:b}])};c.removeCallSummaries=function(a){var b=this;this.$3(function(c){var d=a.length;for(var e=0;e<d;e++){var f=a[e].peerID,g=a[e].callID;c[f]&&c[f][g]&&(delete c[f][g],b.$6(c[f])&&delete c[f])}return c},this.$2.logError.bind(this.$2,null,null))};c.getLoggableSummaries=function(){var a=this.getCallSummaries(),b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)){var e=this.$4(a[c][d],m);e&&b.push(e)}return b};c.$6=function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};c.$5=function(a){a={__t:Date.now(),__d:a.toJsonString()};return a};c.$4=function(a,c){return a&&(!c||Date.now()-a.__t>=c)?b("FBRTCCallSummary").fromJsonString(a.__d):null};c.getCallSummaries=function(){var a=this.$1.get(j)||{};return a};c.$3=function(a,c,d,e){d===void 0&&(d=l);(d===void 0||d===null)&&(d=l);var f=this.getCallSummaries(),h=this.getCallSummaries();f=a(f);if(f===null)return;var i=this.getCallSummaries();if((g||(g=b("areEqual")))(h,i))this.$1.set(j,f);else if(d>0){c("Retry lock");if(e){var m=this;b("setTimeout")(function(){m.$3(a,c,d-1,!0)},k)}else this.$3(a,c,d-1,!0)}else c("Failed to lock")};return a}();e.exports=a},null);
__d("ZenonDeviceInfoUtils",["UserAgentData"],function(a,b,c,d,e,f){"use strict";e.exports={getDeviceSoftwareInfo:function(){var a=b("UserAgentData").browserName,c=b("UserAgentData").platformName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(c+=" Mobile",a==="Chrome"&&(a="Mobile "+a));window.external&&window.external.pinPage&&(a==="Chrome"&&(a+=" Edge"));return{browser:a,browser_version:b("UserAgentData").browserFullVersion,device:b("UserAgentData").deviceName,os:c,os_version:b("UserAgentData").platformFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}}}},null);
__d("ZenonVCSTypes",[],function(a,b,c,d,e,f){"use strict";a=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",MWS:"mws",VOIP:"voip"});b=Object.freeze({LL_BASIC:1,LL_DEBUG:2,LL_INFO:4,LL_NIL:0,LL_VERBOSE:5,LL_WARNING:3});e.exports={ZenonCallType:a,ZenonUploadLogLevel:b}},null);
__d("ZenonCallSummary",["ChannelClientID","FBRTCExperiment","FBRTCLocalUploadLogLevel","SiteData","ZenonCallSummaryStore","ZenonDeviceInfoUtils","ZenonDismissReason","ZenonVCSTypes","gkx","performanceNow"],function(a,b,c,d,e,f){"use strict";var g;b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance;var h=b("ZenonVCSTypes").ZenonCallType,i=b("ZenonVCSTypes").ZenonUploadLogLevel,j={PRESSED_ANSWER:"p_a"};function k(a){if(a==="mw"){a=b("FBRTCExperiment").gen("rtweb_zenon_platform");a=a.getBool("use_zenon_platform",!1,!1);if(a)return"ZenonPlatform"}a=b("gkx")("1154135");return a?"ZenonScotch":"Old Codebase"}var l=19,m=24,n={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},o={DEVICE_INFO:"device_info",INITIATED_BY_APP_ID:"initiated_by_app_id",INITIATED_BY_PAGE_ID:"initiated_by_page_id",PEER_IS_MOBILE:"peer_is_mobile",RATING:"rating5",RATING_SHOWN:"rating_shown",SURVEY_CHOICE:"survey_choice",SURVEY_DETAILS:"survey_details",SURVEY_SHOWN:"survey_shown"};a=function(){function a(a){var c=a.callID,d=a.callTrigger,e=a.isCaller,f=a.isVideo,i=a.peerID,j=a.protocol;a=a.uploadLogLevel;this.$23=0;this.$24=0;this.$29={};this.$30={};this.$31={};this.$32={};this.$33={};this.$34={};this.$35={};this.$36={};this.$42={receiver:{},sender:{},video:{}};this.$44={};this.$1=i;this.$2=c;this.$3=b("ChannelClientID").getID();this.$5=e;this.$4=m;this.$8=k(j);this.$6=(i=a)!=null?i:b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel();this.$7=d;this.$26=new Date().valueOf();this.$9=j!=="p2p"?"mws":"p2p";this.$19=null;this.$18=null;this.$9==="p2p"?this.setCallType(f?h.DIRECT_VIDEO:h.VOIP):this.setCallType(h.MWS);this.$28=(g||(g=b("performanceNow")))();this.$27=0;this.$25=this.$28;this.$43=0;this.$44[o.DEVICE_INFO]=b("ZenonDeviceInfoUtils").getDeviceSoftwareInfo();this.$45()}a.fromJsonString=function(b){var c;try{b=JSON.parse(b)}catch(a){return null}if(b.version<l)return null;if(!Object.prototype.hasOwnProperty.call(b,"peerID")||!Object.prototype.hasOwnProperty.call(b,"callID")||!Object.prototype.hasOwnProperty.call(b,"isCaller")||!Object.prototype.hasOwnProperty.call(b,"startTime")||!Object.prototype.hasOwnProperty.call(b,"trigger")||!Object.prototype.hasOwnProperty.call(b,"signalingTime")||!Object.prototype.hasOwnProperty.call(b,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(b,"lastSerializedTime"))return null;var d=new a({callID:b.callID,isCaller:b.isCaller,isVideo:b.callType===h.DIRECT_VIDEO,peerID:b.peerID,protocol:b.activeConn});d.$3=b.deviceID;d.$4=b.version;d.$6=b.uploadLogLevel;d.$26=b.startTime;d.$7=b.trigger;d.$8=b.clientVersion;d.$29=b.signalingTime;d.$15=b.endCallReason;d.$16=b.endCallSubreason;d.$17=b.isRemoteEnded;d.$23=b.lastUpdatedTime;d.$24=b.lastSerializedTime;d.$11=b.joinWithSID;d.$19=(c=b.endIsConnected)!=null?c:null;d.$18=(c=b.pcIsConnected)!=null?c:null;b.conferenceName&&(d.$10=b.conferenceName);b.escP2PCallID&&(d.$12=b.escP2PCallID);b.activeConn&&(d.$9=b.activeConn);b.serverInfoData&&(d.$14=b.serverInfoData);b.localVideoDuration&&(d.$37=b.localVideoDuration);b.remoteVideoDuration&&(d.$38=b.remoteVideoDuration);b.unsetOnRetrieve&&(d.$22=b.unsetOnRetrieve);b.openCount&&(d.$43=b.openCount);b.extraInfo&&(d.$44=b.extraInfo);b.gen0IceSentCount&&(d.$33=b.gen0IceSentCount);b.gen0IceReceivedCount&&(d.$34=b.gen0IceReceivedCount);b.iceSentCount&&(d.$35=b.iceSentCount);b.iceReceivedCount&&(d.$36=b.iceReceivedCount);b.accumulatedCallTime&&(d.$27=b.accumulatedCallTime);b.escStateTimes&&(d.$30=b.escStateTimes);b.applicationEventTime&&(d.$31=b.applicationEventTime);b.videoEscTimes&&(d.$32=b.videoEscTimes);b.mediaStats&&(d.$42=b.mediaStats);b.connectionType&&(d.$20=b.connectionType);b.videoReceivedCodec!==null&&(d.$39=b.videoReceivedCodec);b.videoSentCodec!==null&&(d.$40=b.videoSentCodec);b.audioSentCodec!==null&&(d.$41=b.audioSentCodec);b.relayIP!==null&&b.relayIP!==void 0&&(d.$21=b.relayIP);return d};var c=a.prototype;c.toJsonString=function(){this.$24=new Date().valueOf();return JSON.stringify({accumulatedCallTime:this.$46(),activeConn:this.$9,applicationEventTime:this.$31,audioSentCodec:this.$41,callID:this.$2,callType:this.$13,clientVersion:this.$8,conferenceName:this.$10,connectionType:this.$20,deviceID:this.$3,endCallReason:this.$15,endCallSubreason:this.$16,endIsConnected:this.$19,escP2PCallID:this.$12,escStateTimes:this.$30,extraInfo:this.$44,gen0IceReceivedCount:this.$34,gen0IceSentCount:this.$33,iceReceivedCount:this.$36,iceSentCount:this.$35,isCaller:this.$5,isRemoteEnded:this.$17,joinWithSID:this.$11,lastSerializedTime:this.$24,lastUpdatedTime:this.$23,localVideoDuration:this.$37,mediaStats:this.$42,pcIsConnected:this.$18,peerID:this.$1,relayIP:this.$21,remoteVideoDuration:this.$38,serverInfoData:this.$14,signalingTime:this.$29,startTime:this.$26,trigger:this.$7,unsetOnRetrieve:this.$22,uploadLogLevel:this.$6,version:this.$4,videoEscTimes:this.$32,videoReceivedCodec:this.$39,videoSentCodec:this.$40})};c.unsetEndCallFields=function(){this.$15=null,this.$16=null,this.$17=null,delete this.$29[n.CALL_ENDED],this.$28=0,this.$22=null};c.isNull=function(){return this.$1==="0"&&this.$2==="0"&&!this.$5&&this.$7==="NULL_SUMMARY"};c.getExtraInfo=function(){return this.$44};c.getLastUpdatedTime=function(){return this.$23};c.getDeviceID=function(){return this.$3};c.setDeviceID=function(a){this.$3=a};c.save=function(a){a.storeCallSummary(this.$1,this.$2,this),this.$25=(g||(g=b("performanceNow")))()};c.onCallAccepted=function(a){this.$31[j.PRESSED_ANSWER]=this.$46(),this.$7=a,this.$45()};c.onCallConnected=function(){this.$47(n.CALL_CONNECTED),this.$45()};c.onCallEnded=function(a,b,c,d){this.$22=c,this.$15=a,this.$16=d,this.$17=b,this.$47(n.CALL_ENDED),this.$19===null&&(this.$19=this.$18),this.$45()};c.setPCIsConnected=function(a){this.$18=a};c.onInviteResponded=function(){var a=this.$9==="p2p"?n.SENT_OFFER_ACK:n.SENT_RING_RESPONSE;this.$47(a);this.$45()};c.onInviteReceived=function(){var a=this.$9==="p2p"?n.RECV_OFFER:n.RECV_RING_REQUEST;this.$47(a);this.$45()};c.onInviteSent=function(){this.$47(n.SENT_JOIN_REQUEST),this.$45()};c.onInviteResponseReceived=function(){this.$47(n.RECV_JOIN_RESPONSE),this.$45()};c.onInviteResponseProcessed=function(){this.$47(n.PROC_JOIN_RESPONSE),this.$45()};c.onMediaConnected=function(){this.$47(n.NETWORK_READY),this.$45()};c.setIsPeerMobile=function(a){this.$44[o.PEER_IS_MOBILE]=a?"1":"0",this.$45()};c.setCallType=function(a){this.$13=a,this.$45()};c.setConferenceName=function(a){this.$10=a,this.$45()};c.setConnectionType=function(a){this.$20=a,this.$45()};c.setInitByPageID=function(a){this.$44[o.INITIATED_BY_PAGE_ID]=a,this.$45()};c.setInitByAppID=function(a){a!=null&&(this.$44[o.INITIATED_BY_APP_ID]=a,this.$45())};c.setJoinWithSID=function(a){this.$11=a,this.$45()};c.setMediaStats=function(a){this.$42=a,this.$33&&(this.$42.sender.ice_g0=this.$33),this.$35&&(this.$42.sender.ice=this.$35),this.$34&&(this.$42.receiver.ice_g0=this.$34),this.$36&&(this.$42.receiver.ice=this.$36),this.$45()};c.setServerInfoData=function(a){this.$14=a,this.$45()};c.setRating=function(a){this.$44[o.RATING]=a,this.$45()};c.setFeedback=function(a){this.$44[o.SURVEY_DETAILS]=a,this.$45()};c.setSurveyChoice=function(a){this.$44[o.SURVEY_CHOICE]=a,this.$45()};c.$47=function(a){if(this.$29[a]!=null)return;this.$29[a]=this.$46()};c.$46=function(){var a=(g||(g=b("performanceNow")))()-this.$28;return Math.floor(this.$27+a)};c.$45=function(){this.$23=new Date().valueOf()};c.toString=function(){var a={core_metrics:this.$48(),time_series:null};return JSON.stringify(a)};c.$48=function(){return{ver:this.$4,log_level:this.$49(this.$6),caller:this.$5,call_type:this.$13,active_conn:this.$9,app_event_times:this.$31,conf_name:this.$10,join_with_sid:this.$11,esc_p2p_call_id:this.$12,esc_state_times:this.$30,vid_esc_times:this.$32,serv_info:this.$14,conn:this.$50(),peer_id:this.$1,open_count:this.$43,signaling:this.$51(),sender:this.$42.sender,receiver:this.$42.receiver,end:this.$52(),video:this.$42.video,push_phase:b("SiteData").push_phase,client_version:this.$8}};c.$49=function(a){switch(a){case i.LL_BASIC:return"basic";case i.LL_DEBUG:return"debug";case i.LL_WARNING:return"warning";case i.LL_INFO:return"info";case i.LL_VERBOSE:return"verbose";default:return""}};c.$50=function(){var a={},b=this.$42.sender,c=b.avgrtt,d=b.maxrtt;b=b.minrtt;c!=null&&(a.avgrtt=c,a.maxrtt=d,a.minrtt=b);this.$21!=null&&(a.relay_ip=this.$21);return a};c.$51=function(){var a={start_time:this.$26,time_from_start:this.$29};this.$7!=null&&(a.trigger=this.$7);var b=this.$53();b>0&&(a.duration=b);return a};c.$53=function(a){var b=this.$29[n.CALL_CONNECTED]||this.$29[n.NETWORK_READY];if(!b)return 0;a=this.$29[n.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$27||this.$46();return Math.max(0,a-b)};c.$52=function(){var a={};this.$15!=null&&(a.end_call_reason_string=b("ZenonDismissReason").dismissToEndCallReason(this.$15),this.$16!==null&&(a.end_call_subreason_string=this.$16),a.remote_ended=this.$17,a.end_ctd=this.$19);this.$20!=null&&(a.conn_type=this.$20);return a};return a}();e.exports=a},null);
__d("ZenonCallSummaryStore",["CacheStorage","FBLogger","ZenonCallSummary","areEqual","setTimeout"],function(a,b,c,d,e,f){"use strict";var g,h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=2e3,l=3;a=function(){function a(){this.$1=new(b("CacheStorage"))(h,i)}var c=a.prototype;c.getCallSummaries=function(){return this.$1.get(j)||{}};c.retrieveCallSummary=function(a,c){var d=this.getCallSummaries();d=d[a]?d[a][c]:null;if(d)return b("ZenonCallSummary").fromJsonString(d.__d);else return null};c.removeCallSummaries=function(a){this.$2(function(b){a.forEach(function(a){var c=a.callID;a=a.peerID;b[a]&&(b[a][c]&&(delete b[a][c],Object.entries(b[a]).length===0&&delete b[a]))});return b})};c.storeCallSummary=function(a,c,d){if(d.isNull()){b("FBLogger")("rtweb").mustfix("Storing invalid ZenonCallSummary!");return}this.$2(function(b){b[a]||(b[a]={});b[a][c]={__d:d.toJsonString(),__t:Date.now(),__z:!0};return b})};c.$2=function(a,c,d){var e=this;c===void 0&&(c=l);d===void 0&&(d=!1);var f=this.getCallSummaries(),h=this.getCallSummaries();f=a(f);var i=this.getCallSummaries();(g||(g=b("areEqual")))(h,i)?this.$1.set(j,f):c>0&&(d?b("setTimeout")(function(){e.$2(a,c-1,!0)},k):this.$2(a,c-1,!0))};return a}();c=new a();e.exports={ZenonCallSummaryStoreInstance:c}},null);
__d("ZenonCallSummaryUploader",["MarauderLogger","ZenonCallSummary","ZenonCallSummaryStore"],function(a,b,c,d,e,f){"use strict";var g=b("ZenonCallSummaryStore").ZenonCallSummaryStoreInstance,h=3*60*1e3,i="rtc_client_call_summary",j="webrtc";function k(a){var c=a.callID,d=a.callSummary;a=a.peerID;c=babelHelpers["extends"]({call_id:c,channel_session_id:d.getDeviceID(),content:d.toString(),peer_id:a,tag:"endcallstats"},d.getExtraInfo());b("MarauderLogger").log(i,j,c)}var l={logCallSummaries:function(){var a=l.getLoggableSummaries(),b=[];a.forEach(function(a){var c=a.callID,d=a.callSummary;a=a.peerID;k({callID:c,callSummary:d,peerID:a});b.push({callID:c,peerID:a})});g.removeCallSummaries(b)},getLoggableSummaries:function(){var a=g.getCallSummaries(),c=[];for(var d in a)for(var e in a[d]){var f=a[d][e];if(f.__z){var i=f.__t;if(Date.now()-i>h){i=b("ZenonCallSummary").fromJsonString(f.__d);i&&c.push({callID:e,callSummary:i,peerID:d})}}}return c}};e.exports=l},null);
__d("FBRTCCallSummaryUploader",["Banzai","FBRTCCallSummary","FBRTCCallSummaryStore","ZenonCallSummaryUploader"],function(a,b,c,d,e,f){a={init:function(){var a=b("FBRTCCallSummaryStore").getInstance();b("Banzai").subscribe(b("Banzai").SEND,function(){b("ZenonCallSummaryUploader").logCallSummaries(),b("FBRTCCallSummary").logSavedSummaries(a)})}};e.exports=a},null);
__d("ZenonCallLogger",[],function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c,d=this;this.$1=[];this.$2={localCallID:a.callID,peerID:a.peerID,sharedCallID:(c=a.serverInfoData)!=null?c:a.callID};b.forEach(function(b){return d.$1.push(new b(a))})}var b=a.prototype;b.log=function(a){this.$1.forEach(function(b){b.processEvent(a)})};b.getLogIdentifiers=function(){return this.$2};return a}();e.exports=a},null);
__d("ZenonParentCallSummaryLogProcessor",["CurrentUser","FBRTCCallSummaryStore","ZenonCallSummary","ZenonDismissReason","gkx","pageID"],function(a,b,c,d,e,f){"use strict";var g=b("ZenonDismissReason").ZenonDismissReason;a=function(){function a(a){this.$2=b("FBRTCCallSummaryStore").getInstance(),this.$3=a.protocol,this.$3==="mw"&&(a.peerID="MW_PEER_ID"),this.$1=new(b("ZenonCallSummary"))(a)}var c=a.prototype;c.$4=function(a){if(a!=null){a=a.deviceID;a=a==="mobile";this.$1.setIsPeerMobile(a)}};c.processEvent=function(a){switch(a.name){case"inviteResponded":this.$1.onInviteResponded();break;case"inviteReceived":this.$1.onInviteReceived();this.$4(a.remoteDeviceInfo);break;case"callEnded":this.$5(a);break;case"callAccepted":this.$1.onCallAccepted(a.trigger);this.$1.save(this.$2);break;case"popupOpened":this.$6(a);this.$1.save(this.$2);break}};c.$6=function(a){this.$1.setInitByPageID(b("pageID")),this.$1.setInitByAppID(b("CurrentUser").getAppID()),this.$1.onCallEnded(g.CLIENT_ERROR,!1,!0,a.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(this.$2)};c.$5=function(a){if(this.$3==="mw"&&a.isRemoteEnded)return;var c=a.endCallReason,d=a.endCallSubreason;a=a.isRemoteEnded;var e=b("gkx")("1148995");if(!e&&c===g.OTHER_INSTANCE_HANDLED&&a)return;this.$1.onCallEnded(c,a,!1,d);this.$1.save(this.$2)};return a}();e.exports=a},null);
__d("ZenonParentQPLLogProcessor",["QPLUserFlow"],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.callID}var c=a.prototype;c.processEvent=function(a){switch(a.name){case"inviteReceived":b("QPLUserFlow").start(64225282,{instanceKey:+this.$1});break;case"callEnded":b("QPLUserFlow").endCancel(64225282,{instanceKey:+this.$1});break;case"callAccepted":b("QPLUserFlow").addPoint(64225282,"call_accepted",{instanceKey:+this.$1});break;case"inviteResponded":b("QPLUserFlow").addPoint(64225282,"invite_responded",{instanceKey:+this.$1});break;case"popupOpened":b("QPLUserFlow").endSuccess(64225282,{instanceKey:+this.$1});break}};return a}();e.exports=a},null);
__d("ZenonCollisionContext",[],function(a,b,c,d,e,f){"use strict";"use strict";function a(a){var b=null;a.groupThreadID!=null?b={id:a.groupThreadID,type:2}:a.peerID!=null&&(b={id:a.peerID,type:1});return b}e.exports={getThreadIDAndTypeFromCollisionContext:a}},null);
__d("LazyLoadInstance",["promiseDone"],function(a,b,c,d,e,f){"use strict";var g={LOADING:1,NOT_READY:0,READY:2};a=function(){function a(a,b){this.$1={instantiate:b,moduleReference:a,stage:g.NOT_READY}}var c=a.prototype;c.get=function(a){switch(this.$1.stage){case g.NOT_READY:b("promiseDone")(this.$2(this.$1),a);break;case g.LOADING:b("promiseDone")(this.$1.instancePromise,a);break;case g.READY:a(this.$1.instance);break}};c.getNow=function(){return this.$1.stage===g.READY?this.$1.instance:null};c.preload=function(){this.$1.stage===g.NOT_READY&&this.$2(this.$1)};c.$2=function(a){var b=this,c=a.instantiate;a=a.moduleReference;a=a.load().then(function(a){a=c(a);b.$1={instance:a,stage:g.READY};return a});this.$1={instancePromise:a,stage:g.LOADING};return a};return a}();e.exports=a},null);
__d("ZenonOfferStorage",["CacheStorage"],function(a,b,c,d,e,f){"use strict";var g="localstorage",h="RTC_",i="offer",j="offer_msg",k={_storeData:function(a,b,c){c={__d:c,__t:Date.now()};a.set(b,c)},getStorage:function(a,c){return new(b("CacheStorage"))(g,""+h+a+"_"+c+"_")},writePeerOfferToStorage:function(a,b){a=k.getStorage(a,j);k._storeData(a,i,b)}};e.exports=k},null);
__d("ZenonParentSignalingClient",["ZenonDebugLogger","ZenonSignalingTypes","recoverableViolation","unrecoverableViolation"],function(a,b,c,d,e,f){"use strict";var g=b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus;a=function(){function a(a,c,d,e){var f=this;this.remoteSignalingID=null;this.$4="init";this.$6=null;this.$7=null;this.$8=function(){};this.$9=function(a,c,d){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",f.$4,"received "+a.eventName,f.$1.getSignalingID());switch(a.eventName){case"inviteRequest":f.$11(a,c,d);break;case"remoteSdpRequest":f.$12(a,c);break;case"terminateRequest":f.$13(a,c,d);break}};this.$1=a;this.$3=d;this.$5=e;this.$2=c;c.setReceiver(this.$9)}var c=a.prototype;c.setSignalingEventHandlers=function(a){if(this.$6!=null){b("recoverableViolation")("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.","rtc_www");return}this.$6=a};c.setLoggingEventHandler=function(a){this.$8=a};c.getSignalingModel=function(){return this.$1};c.sendDismiss=function(a){this.$4="terminated";a={eventName:"terminateRequest",fromJoinResponse:!1,reason:a,shouldInformPeer:!0};this.$10(a)};c.receiveMessage=function(a){this.$2.receiveMessage(a)};c.isTerminated=function(){return this.$4==="terminated"};c.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var a={eventName:"answerIntentRequest"};this.$10(a)}else throw b("unrecoverableViolation")("sendAnswerIntent called in unexpected state "+this.$4,"rtc_www")};c.respondToInvite=function(a){if(this.$4==="inviteReceived"){if(this.$7==null)throw b("unrecoverableViolation")("respondToInvite called without inviteMessageId being populated first","rtc_www");this.$4="inviteAcknowledged";a={ackMessageId:this.$7,eventName:"inviteResponse",status:a};this.$10(a)}else throw b("unrecoverableViolation")("respondToInvite called in unexpected state "+this.$4,"rtc_www")};c.sendInvite=function(a,c){throw b("unrecoverableViolation")("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSdp=function(a,c){throw b("unrecoverableViolation")("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendIceCandidate=function(a){throw b("unrecoverableViolation")("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendMediaUpdate=function(a){throw b("unrecoverableViolation")("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendAddParticipantsMessage=function(a){throw b("unrecoverableViolation")("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendRemoveParticipantsRequest=function(a){throw b("unrecoverableViolation")("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendUsersApprovalRequest=function(a,c){throw b("unrecoverableViolation")("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendStateSyncUnsubscribe=function(a){throw b("unrecoverableViolation")("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendStateSyncUpdate=function(a,c){throw b("unrecoverableViolation")("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendSubscriptionRequest=function(a){throw b("unrecoverableViolation")("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendClientInfo=function(a){throw b("unrecoverableViolation")("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.sendGenericDataMessage=function(a,c,d){throw b("unrecoverableViolation")("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?","rtc_www")};c.$10=function(a){b("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+a.eventName,this.$1.getSignalingID()),this.$3.sendEvent(a)};c.$11=function(a,b,c){this.$4==="init"&&(this.$4="inviteReceived",this.$7=b,this.$5(a,c,this))};c.$13=function(a,b,c){if(this.$4!=="terminated"){this.$4="terminated";c={ackMessageId:b,eventName:"dismissResponse"};this.$3.sendEvent(c);this.$6&&this.$6.onDismissReceived&&this.$6.onDismissReceived(this.$1.getSignalingID(),a.reason)}};c.$12=function(a,b){b={ackMessageId:b,acknowledgedVersion:a.sdp.version,eventName:"remoteSdpResponse",negotiateType:a.negotiateType,status:g.OK,type:a.sdp.type};this.$3.sendEvent(b)};return a}();e.exports=a},null);
__d("ZenonParentCallsManager",["BaseEventEmitter","FBLogger","JSResource","LazyLoadInstance","ZenonCallLogger","ZenonCollisionContext","ZenonDismissReason","ZenonOfferStorage","ZenonP2PMessageTypes","ZenonParentCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","gkx","recoverableViolation"],function(a,b,c,d,e,f){"use strict";var g=b("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext,h=b("ZenonDismissReason").ZenonDismissReason,i=b("ZenonDismissReason").endCallToDismissReason,j=b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ZenonParentCallsManager4=new Map();d.$ZenonParentCallsManager5=new Set();d.$ZenonParentCallsManager6=new Map();d.$ZenonParentCallsManager7=new Map();d.$ZenonParentCallsManager8=new Map();d.getRawP2PMessages=function(a){return(a=d.$ZenonParentCallsManager7.get(a))!=null?a:null};d.getMWRingRequest=function(a){return(a=d.$ZenonParentCallsManager6.get(a))!=null?a:null};d.onInviteReceived=function(a,b,c){var e,f=c.getSignalingModel().getSignalingID();c.setSignalingEventHandlers({onDismissReceived:d.onDismissReceived});var h=a.inviterID,i=a.otherParticipants,j=a.requestingVideo;a=a.roomInfo;var k="zenon_incoming_call_dialog",l=d.$ZenonParentCallsManager9({callID:f,callTrigger:k,isCaller:!1,isVideo:j,peerID:h,protocol:b});l.log({name:"inviteReceived"});k=d.$ZenonParentCallsManager3.isSupportedClientForProtocol(b);var m=k?"OK":"NOT_SUPPORTED";c.respondToInvite(m);l.log({name:"inviteResponded"});m={thread:{id:"0",type:2},type:"thread"};if(((e=a.context)==null?void 0:e.groupThreadID)||((e=a.context)==null?void 0:e.peerID)){m={thread:(e=g(a.context))!=null?e:m.thread,type:"thread"}}else((e=a.room)==null?void 0:e.linkHash)!=null&&((e=a.room)==null?void 0:e.roomName)!=null&&(m={room:a.room,type:"room"});a={context:m,controllerParams:{callContext:a.name,callID:f,configuration:b,serverInfoData:(m=(e=a.context)==null?void 0:e.serverInfoData)!=null?m:null},inviterID:h,isClientPermissableRing:k,onAccept:function(a,e){var g=e.isPopupBlocked;e=e.trigger;l.log({name:"callAccepted",trigger:e});d.$ZenonParentCallsManager11(h);c.sendAnswerIntent();d.$ZenonParentCallsManager10(a,{callID:f,callTrigger:e,isPopupBlocked:g,isVideo:j,peerID:h,protocol:b})},onDecline:function(a,b){b===void 0&&(b=null),d.onDecline(f,l,a,b)},otherParticipants:i,requestingVideo:j,ringID:f};d.emit("incomingRing",a)};d.onDismissReceived=function(a,b){var c=d.$ZenonParentCallsManager12(b);c={reason:c,ringID:a};d.emit("ringCancel",c);c=d.$ZenonParentCallsManager4.get(a);c!=null&&c.log({endCallReason:b,isRemoteEnded:!0,name:"callEnded"})};d.$ZenonParentCallsManager3=c;d.$ZenonParentCallsManager2=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingParentTransport").__setRef("ZenonParentCallsManager"),function(a){a=new a();a.init(d.getRawP2PMessages,d.getMWRingRequest);return a});d.$ZenonParentCallsManager1=new(b("LazyLoadInstance"))(b("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(a){return new a(b("ZenonParentSignalingClient"),d.onInviteReceived)});return d}var d=c.prototype;d.startOutgoingCallIntent=function(a,b){var c=b.callID,d=b.callTrigger,e=b.isVideo,f=b.peerID,g=b.protocol;this.$ZenonParentCallsManager9({callID:c,callTrigger:d,isCaller:!0,isVideo:e,peerID:f,protocol:g});this.$ZenonParentCallsManager10(a,b)};d.$ZenonParentCallsManager9=function(a){var c=a.callID,d=a.callTrigger,e=a.isCaller,f=a.isVideo,g=a.peerID;a=a.protocol;var h=this.$ZenonParentCallsManager4.get(c);!h?(h=new(b("ZenonCallLogger"))({callID:c,callTrigger:d,isCaller:e,isVideo:f,peerID:g,protocol:a},b("gkx")("1536863")?[b("ZenonParentCallSummaryLogProcessor"),b("ZenonParentQPLLogProcessor")]:[b("ZenonParentCallSummaryLogProcessor")]),this.$ZenonParentCallsManager4.set(c,h)):b("recoverableViolation")("Call logger key collision in parentCallsManager for callID: "+c,"rtc_www");return h};d.$ZenonParentCallsManager10=function(a,b){var c=b.callID;b=b.isPopupBlocked;this.$ZenonParentCallsManager2.get(function(b){b.verificationNonce=a});this.$ZenonParentCallsManager5.add(c);c=this.$ZenonParentCallsManager4.get(c);c!=null&&c.log({isPopupBlocked:b,name:"popupOpened"})};d.initListeners=function(a){var b=this;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.subscribe(function(a){return b.onMessageReceived(a)},function(a){return b.onRawP2PMessageReceived(a)},function(a){return b.onRawMWMessageReceived(a)})}};d.onMessageReceived=function(a){var b=a.getHeader().signalingID;if(b!=null&&this.$ZenonParentCallsManager5.has(b))return;this.$ZenonParentCallsManager1.get(function(b){b.receiveMessage(a)})};d.onRawP2PMessageReceived=function(a){var b=String(a.from);if(a.msg_type!==j.OFFER){var c=this.$ZenonParentCallsManager7.get(b);c||(c=[],this.$ZenonParentCallsManager7.set(b,c));c.push(a)}else this.$ZenonParentCallsManager8.set(b,a)};d.onRawMWMessageReceived=function(a){var b=a.jsonPayload,c=b.body;b=b.header;c=c.ringRequest;if(c){c=b.conferenceName;this.$ZenonParentCallsManager6.set(c,a)}};d.onDecline=function(a,c,d,e){e===void 0&&(e=null),this.$ZenonParentCallsManager1.get(function(f){f=f.getSignalingClient(a);if(f){var g=i(d);d!=="NoAnswerTimeout"&&d!=="VersionUnsupported"&&e!=="CallsBlocked"&&f.sendDismiss(g);c.log({endCallReason:g,endCallSubreason:e,isRemoteEnded:!1,name:"callEnded"})}else b("recoverableViolation")("signaling client should be defined","rtc_www")})};d.removeListeners=function(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}};d.$ZenonParentCallsManager12=function(a){switch(a){case h.OTHER_INSTANCE_HANDLED:case h.ANSWERED_ON_ANOTHER_DEVICE:case h.REJECTED_ON_ANOTHER_DEVICE:return"other_dismiss";default:return"hangup"}};d.$ZenonParentCallsManager11=function(a){var c=this.$ZenonParentCallsManager8.get(a);c&&b("ZenonOfferStorage").writePeerOfferToStorage(a,c)};return c}(b("BaseEventEmitter"));b("FBLogger")("rtc").info("ZenonParentCallsManager factory ran");e.exports=a},null);
__d("ZenonP2PMessageValidator",["CurrentUser","ZenonP2PMessageTypes"],function(a,b,c,d,e,f){"use strict";var g=b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType;a={validateAndTransformP2PMessage:function(a){a=h(a);if(a){var b=a.msg_type;switch(b){case g.OFFER:return j(a);case g.HANG_UP:return k(a);case g.ICE_CANDIDATE:return i(a);case g.OTHER_DISMISS:return l(a)}}return null}};function h(a){a=JSON.parse(a);var c=a.call_id,d=a.from,e=a.id,f=a.msg_type,g=a.payload,h=a.source,i=a.to;a=a.type;if(i!=null&&i!==b("CurrentUser").getID())throw Error("P2P message.to field does not match logged in user ID");if(d&&c&&g){i={call_id:c,from:d,id:e,msg_type:f,payload:g,source:h,type:a};return i}else throw Error("P2P message does not have valid from, call_id, and payload fields")}function i(a){var b=a.from,c=a.payload;a=a.source;c=JSON.parse(c);var d=c.call_id,e=c.capability,f=c.label,h=c.msg_id,i=c.sdp,j=c.sdp_line_idx,k=c.sdp_mid;c=c.version;d={call_id:d,capability:e,from:b,label:f,msg_id:h,sdp:i,sdp_line_idx:j,sdp_mid:k,source:a,type:g.ICE_CANDIDATE,version:c};return d}function j(a){var b,c,d,e,f=a.from,h=a.payload;a=a.source;h=JSON.parse(h);var i=h.call_id,j=h.calltype,k=h.capability;b=(b=h.escalation_conference_name)!=null?b:null;c=(c=h.experiments)!=null?c:[];d=(d=h.extraParams)!=null?d:[];e=(e=h.fbexp)!=null?e:"";var l=h.handlescollision!==void 0?h.handlescollision:!1,m=h.offer_escalation_support!==void 0?h.offer_escalation_support:!1,n=h.msg_id,o=h.sdp;h=h.videoon;i={call_id:i,calltype:j,capability:k,escalation_conference_name:b,experiments:c,extraParams:d,fbexp:e,from:f,handlescollision:l,msg_id:n,offer_escalation_support:m,sdp:o,source:a,type:g.OFFER,videoon:h};return i}function k(a){var b=a.from,c=a.payload;a=a.source;c=JSON.parse(c);var d=c.call_id,e=c.capability,f=c.msg_id,h=c.reason;c=c.subreason;d={call_id:d,capability:e,from:b,msg_id:f,reason:h,source:a,subreason:c,type:g.HANG_UP};return d}function l(a){var b=a.from,c=a.payload;a=a.source;c=JSON.parse(c);var d=c.call_id,e=c.capability;c=c.msg_id;d={call_id:d,capability:e,from:b,msg_id:c,source:a,type:g.OTHER_DISMISS};return d}e.exports=a},null);
__d("RTWebSignalingListener",["FBMqttChannel","ZenonDebugLogger","ZenonMWMessageTranslator","ZenonP2PMessageTranslator","ZenonP2PMessageValidator","recoverableViolation"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.subscribe=function(a,c,d){var e=this;b("FBMqttChannel").subscribe("/webrtc",function(d){var f=b("ZenonP2PMessageValidator").validateAndTransformP2PMessage(d);e.$1(d,c);if(f){d=b("ZenonP2PMessageTranslator").toSignalingMessage(f);d&&a(d)}});b("FBMqttChannel").subscribe("/rtc_multi",function(c){var f=JSON.parse(c);b("ZenonDebugLogger").getInstance().logMWMessage("RECEIVED [MQTT]",f);f=b("ZenonMWMessageTranslator").toSignalingMessage(f);f&&(a(f),d&&e.$2(c,d))})};c.unsubscribe=function(){b("FBMqttChannel").unsubscribeAll("/webrtc"),b("FBMqttChannel").unsubscribeAll("/rtc_multi")};c.$1=function(a,c){try{a=JSON.parse(a);c(a)}catch(a){b("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};c.$2=function(a,c){try{a=JSON.parse(a);c(a)}catch(a){b("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();e.exports=a},null);
__d("WaterfallMessageLifetimeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:WaterfallMessageLifetimeLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:WaterfallMessageLifetimeLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:WaterfallMessageLifetimeLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAttemptID=function(a){this.$1.attempt_id=a;return this};c.setDestService=function(a){this.$1.dest_service=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setEventType=function(a){this.$1.event_type=a;return this};c.setIsBatch=function(a){this.$1.is_batch=a;return this};c.setIsGroup=function(a){this.$1.is_group=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setOfflineThreadingID=function(a){this.$1.offline_threading_id=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setPushNotifID=function(a){this.$1.push_notif_id=a;return this};c.setReceiptID=function(a){this.$1.receipt_id=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setServiceName=function(a){this.$1.service_name=a;return this};c.setSrcService=function(a){this.$1.src_service=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeStamp=function(a){this.$1.time_stamp=a;return this};c.setTopic=function(a){this.$1.topic=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={attempt_id:!0,dest_service:!0,device_id:!0,event_type:!0,is_batch:!0,is_group:!0,message_id:!0,offline_threading_id:!0,page_id:!0,push_notif_id:!0,receipt_id:!0,sender_id:!0,service_name:!0,src_service:!0,thread_id:!0,time:!0,time_stamp:!0,topic:!0,weight:!0};e.exports=a},null);
__d("MercurySyncResnapshot",["Promise","Bootloader","MercurySingletonProvider"],function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var c=a.prototype;c.resnapshot=function(){var a=this;this.$1||(this.$1=new(b("Promise"))(function(c,d){b("Bootloader").loadModules(["MercurySyncDeltaHandler"],function(b){b.getForFBID(a.$2).emergencyDFF(function(b){c(b),a.$1=null},function(){d(),a.$1=null})},"MercurySyncResnapshot")}));return this.$1};return a}();var g=new(b("MercurySingletonProvider"))(a);e.exports=a},null);
__d("MessageWaterfallLogger",["MqttEnv","WaterfallMessageLifetimeTypedLogger"],function(a,b,c,d,e,f){"use strict";var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames;a={logNewMessageToWaterfall:function(a){var c=a.senderID,d=a.receiptID,e=a.messageID,f=a.offlineThreadingID,i=a.threadID,j=a.irisSeqId;a=a.isGroup;if(!g.genGk(h.mqtt_waterfall_log_client_sampling))return;new(b("WaterfallMessageLifetimeTypedLogger"))().setEventType("message_receive_ws").setServiceName("web").setSrcService("mqtt").setDestService("webclient").setSenderID(c).setReceiptID(d).setMessageID(e).setOfflineThreadingID(f).setThreadID(i).setIsGroup(a?1:0).addToExtraData("sync_seq_id",j).log()}};e.exports=a},null);
__d("MessengerMQTTPayloadPreprocessor",[],function(a,b,c,d,e,f){"use strict";a={process:function(a,b,c){var d=parseInt(c.irisSeqId.toString(),10);return{seqID:d,obj:{queue:a,iseq:d,delta:c,seqID:d,type:b}}}};e.exports=a},null);
__d("MessengerMQTTPresenceReporting",["BanzaiODS","FBMqttChannel","InstantGamesPresenceProperties","MercuryConfig","gkx"],function(a,b,c,d,e,f){"use strict";var g="mqtt_web.presence",h="/foreground_state",i="/set_client_settings",j="/send_endpoint_capabilities",k=16384,l=2097152,m=b("MercuryConfig").idle_limit||18e5;a=b("MercuryConfig").idle_poll_interval||3e5;c=60*1e3;var n=b("gkx")("1166607")?!1:document.hasFocus(),o,p=Date.now(),q=!1;d={init:function(){},reportForegroundState:function(a,c){(n!==a||c)&&(n=a,b("FBMqttChannel").setForegroundState(a),b("FBMqttChannel").publish(h,JSON.stringify({foreground:a})),b("BanzaiODS").bumpEntityKey(2966,g,a?"report.foregrounded":"report.backgrounded"))},reportChatVisibility:function(a){(o===void 0||o!=a)&&(o=a,b("FBMqttChannel").setChatVisibility(a),b("FBMqttChannel").publish(i,JSON.stringify({make_user_available_when_in_foreground:a})),b("BanzaiODS").bumpEntityKey(2966,g,a?"report.chat_visibility.on":"report.chat_visibility.off"))},reportWorkchatDesktopCapability:function(){var a=b("FBMqttChannel").getEndpointCapabilities();a|=k;b("FBMqttChannel").setEndpointCapabilities(a);b("FBMqttChannel").publish(j,JSON.stringify({endpoint_capabilities:a}))},reportInstantGamesPresence:function(a){var c=b("FBMqttChannel").getEndpointCapabilities();a?c|=l:c&=~l;b("FBMqttChannel").setEndpointCapabilities(c);b("FBMqttChannel").publish(j,JSON.stringify({endpoint_capabilities:c}))},onUserActivity:function(){p=Date.now(),e.exports.reportForegroundState(!0,!1)}};window.setInterval(function(){!document.hasFocus()&&Date.now()-p>m&&e.exports.reportForegroundState(!1,!0)},a);window.setInterval(function(){var a=b("InstantGamesPresenceProperties").isActiveGamePresence();q!==a&&(e.exports.reportInstantGamesPresence(a),q=a)},c);e.exports=d},null);
__d("MessengerMQTTPresenceActivity",["CurrentUser","Event","MessengerMQTTPresenceReporting","Run","UserActivity"],function(a,b,c,d,e,f){a={init:function(){b("Event").listen(window,"focus",function(){b("MessengerMQTTPresenceReporting").onUserActivity()}),b("Event").listen(window,"blur",function(){b("MessengerMQTTPresenceReporting").reportForegroundState(!1,!1)}),b("Run").onBeforeUnload(function(){b("MessengerMQTTPresenceReporting").reportForegroundState(!1,!0)},!1),b("UserActivity").subscribe(function(){b("MessengerMQTTPresenceReporting").onUserActivity()}),b("CurrentUser").isWorkUser()&&d(["WorkplaceChatHelper"],function(a){a.isDesktopChatApp()&&b("MessengerMQTTPresenceReporting").reportWorkchatDesktopCapability()})}};e.exports=a},null);
__d("MessengerMQTTTypingDataPreProcessor",[],function(a,b,c,d,e,f){"use strict";a={process:function(a,b){var c=b.thread;a=c==null?{from:b.sender_fbid,st:b.state,to:a,type:"typ"}:{from:b.sender_fbid,st:b.state,thread:c,thread_fbid:c,type:"ttyp"};return{obj:a}}};e.exports=a},null);
__d("SyncProtocolConstants",[],function(a,b,c,d,e,f){a={IRIS_CURSOR_LIMIT:"IRIS_CURSOR_LIMIT",SNAPSHOT_FAILURE:"SNAPSHOT_FAILURE"};e.exports=a},null);
__d("SyncProtocolClient",["Int64","MercurySingletonProvider","MqttEnv","SyncProtocolConstants","exponentialBackoff"],function(a,b,c,d,e,f){"use strict";var g=b("MqttEnv").Env;a=function(){a.getForFBID=function(a){return h.getForFBID(a)};function a(a){var c=this;this.$1=a;this.$2=[];this.$5=g.getLoggerInstance();this.$10=new(b("exponentialBackoff"))(function(){return c.$11()},this)}var c=a.prototype;c.getPublishMessages=function(){return this.$12()};c.init=function(a,c,d,e){var f=this;if(!c&&!e){this.$5.bumpCounter("sp_init_invalid_parameter");return this}this.$9=a;this.$8=!0;this.$3=c?b("Int64").fromString(c):null;this.$6=d;this.$7=e;this.$4=null;this.$9.subscribe("/t_ms",function(a){return f.$13(a)});this.$9.subscribe("/thread_typing",function(a){f.$14(a)});this.$9.subscribe("/orca_typing_notifications",function(a){f.$14(a)});this.$9.subscribe("/notify_disconnect",function(a){return f.$15(a)});this.connectToIris();return this};c.connectToIris=function(a){a===void 0&&(a=null),a!==null&&(this.$3=b("Int64").fromString(a)),this.$8=!0,this.$9.registerExtraConnectPayloadProvider(this)};c.$12=function(){var a;if(this.$4){if(!this.$3){this.$5.bumpCounter("connect_payload_iris_no_seq_id");return[]}a=this.$16()}else a=this.$17();this.$5.debugTrace("Sending request with MQTT Connect",JSON.stringify({topic:a.topic,payload:a.payload}));return[a]};c.$11=function(){var a;if(this.$4){if(!this.$3){this.$5.bumpCounter("subscribe_to_iris_no_seq_id");return}a=this.$16()}else a=this.$17();this.$5.debugTrace("Sending request",JSON.stringify({topic:a.topic,payload:a.payload}));this.$9.publish(a.topic,a.payload,{qos:1,skipBuffer:!0})};c.$18=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$5.logError(a,"Unable to process data")}return b};c.$14=function(a){var b=this.$18(a);if(b==null){this.$5.logWarn("_processTypingData","Unable to process typing data");return}this.$2.forEach(function(a){typeof a.onTypingReceived==="function"&&a.onTypingReceived(b)})};c.addDeltaStreamListener=function(a){this.$2.push(a)};c.$15=function(a){this.$5.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),this.$5.bumpCounter("notify_disconnect_"+a),a===b("SyncProtocolConstants").IRIS_CURSOR_LIMIT&&this.$19(a)};c.$19=function(a){this.$5.bumpCounter(a+"_request"),this.$4=null,this.$8=!1,this.$9.unregisterExtraConnectPayloadProvider(this),this.$2.forEach(function(b){return b.onStreamDisconnect(a)})};c.$13=function(a){a=this.$18(a);if(a==null){this.$5.logWarn("_processDeltas","Unable to process delta");return}var b={syncToken:a.syncToken,entityId:a.queueEntityId,errorCode:a.errorCode,firstSeqId:a.firstDeltaSeqId,lastSeqId:a.lastIssuedSeqId};this.$5.debugTrace("Sync data received",JSON.stringify(b));b=this.$1;a.queueEntityId!=null&&a.queueEntityId!=b?this.$5.bumpCounter("delta_for_other_fbid"):a.syncToken?this.$20(a):a.queueEntityId==null?this.$5.bumpCounter("no_fbid"):a.errorCode?this.$21(a.errorCode):this.$22(a)};c.$21=function(a){this.$5.bumpCounter("iris_queue_error."+a),this.$5.logWarn("_handleIrisError","Recevied an error code from sync protocol "+a),a==="ERROR_QUEUE_TEMPORARY_NOT_AVAILABLE"?this.$10():this.$19(a)};c.$20=function(a){var c=this,d=b("Int64").fromString(a.firstDeltaSeqId.toString());(this.$3===null||this.$3!=null&&!this.$3.equals(d))&&this.$5.bumpCounter("initial_sequence_id_mismatch");this.$4=a.syncToken;this.$3=d;this.$5.debugTrace("Sync token received",JSON.stringify({token:this.$4}));this.$9.subscribeChannelEvents({onMQTTStateChanged:function(a){a==="Connected"&&c.$10.reset()}})};c.$22=function(a){var c=a.deltas,d=this.$3;if(c&&d){var e=b("Int64").fromString(a.firstDeltaSeqId.toString());a=b("Int64").fromString(a.lastIssuedSeqId.toString());e.equals(d.add(b("Int64").ONE))?this.$23(e,a,c):e.compare(d)<0?(this.$5.bumpCounter("delta_batch_in_middle"),a.compare(d)>0&&this.$23(d.add(b("Int64").ONE),a,c)):(this.$5.bumpCounter("missing_deltas_get_diffs"),this.$11())}else this.$5.bumpCounter("process_deltas_invalid_state")};c.$23=function(a,c,d){a=a;for(var e=0;e<d.length;e++){var f=d[e],g=f["class"]||"Missing",h={seqId:a.toString(),type:g,status:""},i=1;if(g!="Missing")try{i=this.$24(f,g,a,h)}catch(a){h.status="err:"+a.message}else h.status="no type",this.$5.bumpCounter("missing_delta_type");this.$5.debugTrace("onDeltaReceived",JSON.stringify(h));a=a.add(b("Int64").fromInt(i))}this.$3=c};c.$24=function(a,c,d,e){var f=1,g="";c==="NoOp"&&(f=a.numNoOps||f,g+="n:"+f);a.irisSeqId||(a.irisSeqId=d.toString(),g+="missing seq id");var h=b("Int64").fromString(a.irisSeqId.toString())||d;h.equals(d)?g+=" seqId match":(g+=" seqId mismatch",this.$5.bumpCounter("seq_id_running_id_mismatch"));var i={type:c,payload:a};this.$2.forEach(function(a){return a.onDeltaReceived(i)});e.status=g;return f};c.$17=function(){var a={sync_api_version:10,max_deltas_able_to_process:1e3,delta_batch_size:500,encoding:"JSON",entity_fbid:this.$1,initial_titan_sequence_id:this.$3&&this.$3.toString(),device_params:this.$6,queue_position:this.$7};return{topic:"/messenger_sync_create_queue",payload:JSON.stringify(a),qos:1}};c.$16=function(){var a={sync_token:this.$4,sync_api_version:10,max_deltas_able_to_process:1e3,delta_batch_size:500,encoding:"JSON",entity_fbid:this.$1,last_seq_id:this.$3&&this.$3.toString()};return{topic:"/messenger_sync_get_diffs",payload:JSON.stringify(a),qos:1}};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a},null);
__d("MessengerMQTTConnection",["requireCond","Arbiter","CurrentUser","FBMqttChannel","MercurySingletonProvider","MercurySyncResnapshot","MessageWaterfallLogger","MessengerMQTTConnectionEvents","MessengerMQTTPayloadPreprocessor","cr:1177633","MessengerMQTTTypingDataPreProcessor","MqttLogger","PresenceStatus","SyncProtocolClient","SyncProtocolConstants","gkx","promiseDone"],function(a,b,c,d,e,f){"use strict";var g=(a=b("MessengerMQTTConnectionEvents")).DELTA_EVENT,h=a.STREAM_CONNECT,i=a.STREAM_DISCONNECT,j=a.STREAM_CONNECTING,k=a.STATE_CONNECTING,l=a.STATE_DISCONNECTED,m=a.TYP;c=function(){a.getForFBID=function(a){return n.getForFBID(a)};a.get=function(){return n.get()};function a(a){this.$1=a,this.$2=b("MqttLogger").getInstance()}a.setUp=function(c){var e=c.fbid,f=c.irisSeqID;c.appID;c.endpoint;if(!e||!f)return;var g=b("MqttLogger").getInstance();if(!b("CurrentUser").isLoggedInNow()){g.debugTrace("run","User not logged in");g.bumpCounter("user_not_loggged_in");return}var h=a.getForFBID(e);a.addDeltaStream({fbid:e,irisSeqID:f});h.$3(b("FBMqttChannel").getConnectionState(),b("FBMqttChannel").getLongPollingStatus());b("FBMqttChannel").subscribeChannelEvents({onMQTTStateChanged:function(a){h.$3(a,b("FBMqttChannel").getLongPollingStatus())},onJSError:function(a){g.bumpCounter("mqtt_js_error")}});b("cr:1177633")!=null&&b("cr:1177633").subscribe(b("PresenceStatus"));d(["MessengerMQTTPresenceActivity"],function(a){a.init()})};a.addDeltaStream=function(c){var d=c.fbid;c=c.irisSeqID;var e=a.getForFBID(d),f=null;b("gkx")("687751")&&(f={accept_pending_deltas:!0});b("SyncProtocolClient").getForFBID(d).init(b("FBMqttChannel"),c,f).addDeltaStreamListener(e)};var c=a.prototype;c.onDeltaReceived=function(a){var c=a.type;a=a.payload;try{c=="NewMessage"&&b("MessageWaterfallLogger").logNewMessageToWaterfall({senderID:a.messageMetadata.actorFbId,receiptID:this.$1,messageID:a.messageMetadata.messageId,offlineThreadingID:a.messageMetadata.offlineThreadingId,threadID:a.messageMetadata.threadKey.threadFbId!=null?a.messageMetadata.threadKey.threadFbId:"",irisSeqId:a.irisSeqId,isGroup:a.messageMetadata.threadKey.threadFbId!=null})}catch(a){this.$2.logError(a,"Unable to log to waterfall")}c=b("MessengerMQTTPayloadPreprocessor").process(this.$1,c,a);b("Arbiter").inform(g,c)};c.onStreamDisconnect=function(a){var c=this;if(a==="ERROR_QUEUE_LOST"||a==="ERROR_QUEUE_NOT_FOUND"||a==="ERROR_QUEUE_EXCEEDS_MAX_DELTAS"||a==="ERROR_QUEUE_UNDERFLOW"||a==="ERROR_QUEUE_OVERFLOW"){b("promiseDone")(b("MercurySyncResnapshot").getForFBID(this.$1).resnapshot().then(function(a){if(a)b("SyncProtocolClient").getForFBID(c.$1).connectToIris(a.toString());else throw new Error("No seqID returned from resnapshot")}),null,function(){b("Arbiter").inform(i,b("SyncProtocolConstants").SNAPSHOT_FAILURE)});return}a!==b("SyncProtocolConstants").IRIS_CURSOR_LIMIT&&this.$2.bumpCounter("unhandled_iris_error."+a);b("Arbiter").inform(i,a)};c.onTypingReceived=function(a){a=b("MessengerMQTTTypingDataPreProcessor").process(this.$1,a);b("Arbiter").inform(m,a)};c.$3=function(a,c){if(a=="Connected"||c=="LPActive"){b("Arbiter").inform(h);return}switch(a){case k:b("Arbiter").inform(j);break;case l:b("Arbiter").inform(i);break}};return a}();var n=new(b("MercurySingletonProvider"))(c);e.exports=c},null);
__d("AsyncTypedRequest",["AsyncRequest"],function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(b("AsyncRequest"));e.exports=a},null);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["Banzai","generateLiteTypedLogger"],function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")},null);
__d("ErrorDynamicData",[],function(a,b,c,d,e,f){"use strict";a={access_token:null};e.exports=a},null);
__d("ErrorFilter",["performanceNow"],function(a,b,c,d,e,f){"use strict";var g,h=6,i=6e4,j=10*i,k=new Map(),l=0;function m(){var a=(g||(g=b("performanceNow")))();if(a>l+i){var c=a-j;for(var d=k,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var m=h[0];h=h[1];h.lastAccessed<c&&k["delete"](m)}l=a}}function n(a){m();var c=(g||(g=b("performanceNow")))(),d=k.get(a);if(d==null){k.set(a,{dropped:0,logged:[c],lastAccessed:c});return 1}a=d.dropped;var e=d.logged;d.lastAccessed=c;while(e[0]<c-i)e.shift();if(e.length<h){d.dropped=0;e.push(c);return a+1}else{d.dropped++;return null}}function a(a){return n(a.hash)}e.exports={shouldLog:a}},null);
__d("ErrorPoster",["Banzai","ErrorDynamicData","ErrorFilter","ErrorSerializer"],function(a,b,c,d,e,f){"use strict";var g=1024,h=[],i=0;function j(a,b){var c={};b&&b.forEach(function(a){c[a]=!0});Object.keys(a).forEach(function(b){a[b]?c[b]=!0:c[b]&&delete c[b]});return Object.keys(c)}function k(a){return((a=a)!=null?a:[]).map(function(a){return{column:a.column,identifier:a.identifier,line:a.line,script:a.script}})}function l(a){var b=a.type,c=a.project,d=a.name;a=a.loggingSource;a=a==="FBLOGGER";b=a&&b==="error"?"mustfix":b;var e=[d];a&&d!=="FBLogger"&&e.unshift("FBLogger caught:");b!=null&&c!=null&&e.unshift("<level:"+b+"> <name:"+c+">");return e.join(" ")}function m(a){a=String(a);return a.length>g?a.substring(0,g-3)+"...":a}function n(a){var b={message:m(a.messageFormat)};a.messageParams&&(b.params=[].concat(a.messageParams.map(m)));a.forcedKey!=null&&(b.forcedKey=a.forcedKey);a.taalOpcodes&&(b.taalOpcodes=a.taalOpcodes);return b}function o(a,c){var d=n(a);d={appId:c.appId,cavalry_lid:c.cavalry_lid,access_token:b("ErrorDynamicData").access_token,ancestor_hash:a.hash,cerror:c.cerror,clientTime:a.clientTime,column:a.column,componentStackFrames:k(a.componentStackFrames),events:a.events,extra:j(a.extra,c.extra),guard:a.guard,guardList:a.guardList,line:a.line,loggingFramework:c.loggingFramework,message:b("ErrorSerializer").toFormattedMessage(d),messageWithParams:b("ErrorSerializer").toMessageWithParams(d),name:l(a),sample_weight:c.sample_weight,script:a.script,site_category:c.site_category,stackFrames:k(a.stackFrames),type:a.type,page_time:a.page_time,project:a.project,push_phase:c.push_phase,script_path:c.script_path,server_revision:c.server_revision,spin:c.spin,svn_rev:String(c.client_revision),additional_client_revisions:Array.from((d=c.additional_client_revisions)!=null?d:[]),web_session_id:c.web_session_id,version:2,xFBDebug:a.xFBDebug};c=a.deferredSource;c&&c.stackFrames&&(d.deferredSource={stackFrames:k(c.stackFrames)});a.fbloggerMetadata&&(d.fbloggerMetadata=a.fbloggerMetadata);a.loadingUrls&&(d.loadingUrls=a.loadingUrls);a.serverHash!=null&&(d.serverHash=a.serverHash);a.windowLocationURL!=null&&(d.windowLocationURL=a.windowLocationURL);a.loggingSource!=null&&(d.loggingSource=a.loggingSource);return d}function a(a,c){i++;var d=b("ErrorFilter").shouldLog(a);if(d==null)return!1;c=o(a,c);Object.assign(c,{ancestors:h.slice(),clientWeight:d,page_position:i});h.length<15&&h.push(a.hash);b("Banzai").post("js_error_logging",c);return!0}e.exports={postError:a,createErrorPayload:o}},null);